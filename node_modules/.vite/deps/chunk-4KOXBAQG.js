import {
  n
} from "./chunk-374ZSSDZ.js";
import {
  j as j2,
  w
} from "./chunk-HUVX2E5O.js";
import {
  h
} from "./chunk-MVM2C7P2.js";
import {
  j
} from "./chunk-SCKKHLWM.js";
import {
  mo
} from "./chunk-R7QRGPF3.js";
import {
  ae
} from "./chunk-NMWROSO4.js";
import {
  require_react
} from "./chunk-4373DSHM.js";
import {
  __toESM
} from "./chunk-SNAQBZPT.js";

// node_modules/dgz-ui/dist/avatar-D2XIyeP7.js
var S = __toESM(require_react(), 1);
var import_react = __toESM(require_react(), 1);
var g = { exports: {} };
var A = {};
var N;
function F() {
  return N || (N = 1, function() {
    function e(a, u) {
      return a === u && (a !== 0 || 1 / a === 1 / u) || a !== a && u !== u;
    }
    function t(a, u) {
      E || s.startTransition === void 0 || (E = true, console.error(
        "You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."
      ));
      var c = u();
      if (!o) {
        var m = u();
        r(c, m) || (console.error(
          "The result of getSnapshot should be cached to avoid an infinite loop"
        ), o = true);
      }
      m = v({
        inst: { value: c, getSnapshot: u }
      });
      var _ = m[0].inst, h2 = m[1];
      return l(
        function() {
          _.value = c, _.getSnapshot = u, n2(_) && h2({ inst: _ });
        },
        [a, c, u]
      ), f(
        function() {
          return n2(_) && h2({ inst: _ }), a(function() {
            n2(_) && h2({ inst: _ });
          });
        },
        [a]
      ), p(c), c;
    }
    function n2(a) {
      var u = a.getSnapshot;
      a = a.value;
      try {
        var c = u();
        return !r(a, c);
      } catch {
        return true;
      }
    }
    function i(a, u) {
      return u();
    }
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart == "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());
    var s = import_react.default, r = typeof Object.is == "function" ? Object.is : e, v = s.useState, f = s.useEffect, l = s.useLayoutEffect, p = s.useDebugValue, E = false, o = false, d = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? i : t;
    A.useSyncExternalStore = s.useSyncExternalStore !== void 0 ? s.useSyncExternalStore : d, typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u" && typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop == "function" && __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());
  }()), A;
}
var C;
function P() {
  return C || (C = 1, false ? g.exports = $() : g.exports = F()), g.exports;
}
var W = P();
function Y() {
  return W.useSyncExternalStore(
    J,
    () => true,
    () => false
  );
}
function J() {
  return () => {
  };
}
var R = "Avatar";
var [Q, fe] = j2(R);
var [X, j3] = Q(R);
var D = S.forwardRef(
  (e, t) => {
    const { __scopeAvatar: n2, ...i } = e, [s, r] = S.useState("idle");
    return ae.jsx(
      X,
      {
        scope: n2,
        imageLoadingStatus: s,
        onImageLoadingStatusChange: r,
        children: ae.jsx(h.span, { ...i, ref: t })
      }
    );
  }
);
D.displayName = R;
var V = "AvatarImage";
var k = S.forwardRef(
  (e, t) => {
    const { __scopeAvatar: n2, src: i, onLoadingStatusChange: s = () => {
    }, ...r } = e, v = j3(V, n2), f = Z(i, r), l = n((p) => {
      s(p), v.onImageLoadingStatusChange(p);
    });
    return w(() => {
      f !== "idle" && l(f);
    }, [f, l]), f === "loaded" ? ae.jsx(h.img, { ...r, ref: t, src: i }) : null;
  }
);
k.displayName = V;
var G = "AvatarFallback";
var z = S.forwardRef(
  (e, t) => {
    const { __scopeAvatar: n2, delayMs: i, ...s } = e, r = j3(G, n2), [v, f] = S.useState(i === void 0);
    return S.useEffect(() => {
      if (i !== void 0) {
        const l = window.setTimeout(() => f(true), i);
        return () => window.clearTimeout(l);
      }
    }, [i]), v && r.imageLoadingStatus !== "loaded" ? ae.jsx(h.span, { ...s, ref: t }) : null;
  }
);
z.displayName = G;
function T(e, t) {
  return e ? t ? (e.src !== t && (e.src = t), e.complete && e.naturalWidth > 0 ? "loaded" : "loading") : "error" : "idle";
}
function Z(e, { referrerPolicy: t, crossOrigin: n2 }) {
  const i = Y(), s = S.useRef(null), r = i ? (s.current || (s.current = new window.Image()), s.current) : null, [v, f] = S.useState(
    () => T(r, e)
  );
  return w(() => {
    f(T(r, e));
  }, [r, e]), w(() => {
    const l = (o) => () => {
      f(o);
    };
    if (!r) return;
    const p = l("loaded"), E = l("error");
    return r.addEventListener("load", p), r.addEventListener("error", E), t && (r.referrerPolicy = t), typeof n2 == "string" && (r.crossOrigin = n2), () => {
      r.removeEventListener("load", p), r.removeEventListener("error", E);
    };
  }, [r, n2, t]), v;
}
var M = D;
var H = k;
var U = z;
var ee = j(
  "relative flex shrink-0 overflow-hidden rounded-full",
  {
    variants: {
      size: {
        /** Small avatar - 32x32px */
        sm: "size-8",
        /** Default avatar - 40x40px */
        default: "size-10",
        /** Medium avatar - 52x52px */
        md: "size-13",
        /** Large avatar - 64x64px */
        lg: "size-16",
        /** Extra large avatar - 80x80px */
        xl: "size-20"
      }
    },
    defaultVariants: {
      size: "default"
    }
  }
);
var te = S.forwardRef(({ className: e, size: t, ...n2 }, i) => ae.jsx(
  M,
  {
    ref: i,
    className: mo(ee({ size: t }), e),
    ...n2
  }
));
te.displayName = M.displayName;
var re = S.forwardRef(({ className: e, ...t }, n2) => ae.jsx(
  H,
  {
    ref: n2,
    className: mo("aspect-square size-full", e),
    ...t
  }
));
re.displayName = H.displayName;
var ae2 = S.forwardRef(({ className: e, ...t }, n2) => ae.jsx(
  U,
  {
    ref: n2,
    className: mo(
      "bg-muted flex size-full items-center justify-center rounded-full",
      e
    ),
    ...t
  }
));
ae2.displayName = U.displayName;

export {
  ee,
  te,
  re,
  ae2 as ae
};
/*! Bundled license information:

dgz-ui/dist/avatar-D2XIyeP7.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

dgz-ui/dist/avatar-D2XIyeP7.js:
  (**
   * @license React
   * use-sync-external-store-shim.development.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=chunk-4KOXBAQG.js.map

import {
  k
} from "./chunk-EJKCBINB.js";
import {
  n as n2
} from "./chunk-X5RGD3A7.js";
import {
  n
} from "./chunk-374ZSSDZ.js";
import {
  g as g2,
  y as y2
} from "./chunk-ODKV7UAD.js";
import {
  y
} from "./chunk-PM2IHWHB.js";
import {
  j
} from "./chunk-HUVX2E5O.js";
import {
  h
} from "./chunk-MVM2C7P2.js";
import {
  g,
  x
} from "./chunk-7EER3O2F.js";
import {
  ae
} from "./chunk-NMWROSO4.js";
import {
  require_react
} from "./chunk-4373DSHM.js";
import {
  __toESM
} from "./chunk-SNAQBZPT.js";

// node_modules/dgz-ui/dist/index-CCcvTltk.js
var l = __toESM(require_react(), 1);
var import_react = __toESM(require_react(), 1);
function X(e2) {
  const r = e2 + "CollectionProvider", [a2, n3] = j(r), [A, v] = a2(
    r,
    { collectionRef: { current: null }, itemMap: /* @__PURE__ */ new Map() }
  ), I = (f) => {
    const { scope: o2, children: i } = f, d = import_react.default.useRef(null), t2 = import_react.default.useRef(/* @__PURE__ */ new Map()).current;
    return ae.jsx(A, { scope: o2, itemMap: t2, collectionRef: d, children: i });
  };
  I.displayName = r;
  const R = e2 + "CollectionSlot", _ = g(R), p = import_react.default.forwardRef(
    (f, o2) => {
      const { scope: i, children: d } = f, t2 = v(R, i), c = x(o2, t2.collectionRef);
      return ae.jsx(_, { ref: c, children: d });
    }
  );
  p.displayName = R;
  const s = e2 + "CollectionItemSlot", C = "data-radix-collection-item", F = g(s), b = import_react.default.forwardRef(
    (f, o2) => {
      const { scope: i, children: d, ...t2 } = f, c = import_react.default.useRef(null), T = x(o2, c), x2 = v(s, i);
      return import_react.default.useEffect(() => (x2.itemMap.set(c, { ref: c, ...t2 }), () => void x2.itemMap.delete(c))), ae.jsx(F, { [C]: "", ref: T, children: d });
    }
  );
  b.displayName = s;
  function E(f) {
    const o2 = v(e2 + "CollectionConsumer", f);
    return import_react.default.useCallback(() => {
      const d = o2.collectionRef.current;
      if (!d) return [];
      const t2 = Array.from(d.querySelectorAll(`[${C}]`));
      return Array.from(o2.itemMap.values()).sort(
        (x2, y3) => t2.indexOf(x2.ref.current) - t2.indexOf(y3.ref.current)
      );
    }, [o2.collectionRef, o2.itemMap]);
  }
  return [
    { Provider: I, Slot: p, ItemSlot: b },
    E,
    n3
  ];
}
var N = "rovingFocusGroup.onEntryFocus";
var Z = { bubbles: false, cancelable: true };
var h2 = "RovingFocusGroup";
var [O, K, ee] = X(h2);
var [oe, be] = j(
  h2,
  [ee]
);
var [te, re] = oe(h2);
var k2 = l.forwardRef(
  (e2, r) => ae.jsx(O.Provider, { scope: e2.__scopeRovingFocusGroup, children: ae.jsx(O.Slot, { scope: e2.__scopeRovingFocusGroup, children: ae.jsx(ne, { ...e2, ref: r }) }) })
);
k2.displayName = h2;
var ne = l.forwardRef((e2, r) => {
  const {
    __scopeRovingFocusGroup: a2,
    orientation: n3,
    loop: A = false,
    dir: v,
    currentTabStopId: I,
    defaultCurrentTabStopId: R,
    onCurrentTabStopIdChange: _,
    onEntryFocus: p,
    preventScrollOnEntryFocus: s = false,
    ...C
  } = e2, F = l.useRef(null), b = x(r, F), E = n2(v), [f, o2] = y2({
    prop: I,
    defaultProp: R ?? null,
    onChange: _,
    caller: h2
  }), [i, d] = l.useState(false), t2 = n(p), c = K(a2), T = l.useRef(false), [x2, y3] = l.useState(0);
  return l.useEffect(() => {
    const u = F.current;
    if (u)
      return u.addEventListener(N, t2), () => u.removeEventListener(N, t2);
  }, [t2]), ae.jsx(
    te,
    {
      scope: a2,
      orientation: n3,
      dir: E,
      loop: A,
      currentTabStopId: f,
      onItemFocus: l.useCallback(
        (u) => o2(u),
        [o2]
      ),
      onItemShiftTab: l.useCallback(() => d(true), []),
      onFocusableItemAdd: l.useCallback(
        () => y3((u) => u + 1),
        []
      ),
      onFocusableItemRemove: l.useCallback(
        () => y3((u) => u - 1),
        []
      ),
      children: ae.jsx(
        h.div,
        {
          tabIndex: i || x2 === 0 ? -1 : 0,
          "data-orientation": n3,
          ...C,
          ref: b,
          style: { outline: "none", ...e2.style },
          onMouseDown: y(e2.onMouseDown, () => {
            T.current = true;
          }),
          onFocus: y(e2.onFocus, (u) => {
            const Y = !T.current;
            if (u.target === u.currentTarget && Y && !i) {
              const D = new CustomEvent(N, Z);
              if (u.currentTarget.dispatchEvent(D), !D.defaultPrevented) {
                const M = c().filter((S) => S.focusable), H = M.find((S) => S.active), q = M.find((S) => S.id === f), z = [H, q, ...M].filter(
                  Boolean
                ).map((S) => S.ref.current);
                V(z, s);
              }
            }
            T.current = false;
          }),
          onBlur: y(e2.onBlur, () => d(false))
        }
      )
    }
  );
});
var U = "RovingFocusGroupItem";
var B = l.forwardRef(
  (e2, r) => {
    const {
      __scopeRovingFocusGroup: a2,
      focusable: n3 = true,
      active: A = false,
      tabStopId: v,
      children: I,
      ...R
    } = e2, _ = g2(), p = v || _, s = re(U, a2), C = s.currentTabStopId === p, F = K(a2), { onFocusableItemAdd: b, onFocusableItemRemove: E, currentTabStopId: f } = s;
    return l.useEffect(() => {
      if (n3)
        return b(), () => E();
    }, [n3, b, E]), ae.jsx(
      O.ItemSlot,
      {
        scope: a2,
        id: p,
        focusable: n3,
        active: A,
        children: ae.jsx(
          h.span,
          {
            tabIndex: C ? 0 : -1,
            "data-orientation": s.orientation,
            ...R,
            ref: r,
            onMouseDown: y(e2.onMouseDown, (o2) => {
              n3 ? s.onItemFocus(p) : o2.preventDefault();
            }),
            onFocus: y(e2.onFocus, () => s.onItemFocus(p)),
            onKeyDown: y(e2.onKeyDown, (o2) => {
              if (o2.key === "Tab" && o2.shiftKey) {
                s.onItemShiftTab();
                return;
              }
              if (o2.target !== o2.currentTarget) return;
              const i = ie(o2, s.orientation, s.dir);
              if (i !== void 0) {
                if (o2.metaKey || o2.ctrlKey || o2.altKey || o2.shiftKey) return;
                o2.preventDefault();
                let t2 = F().filter((c) => c.focusable).map((c) => c.ref.current);
                if (i === "last") t2.reverse();
                else if (i === "prev" || i === "next") {
                  i === "prev" && t2.reverse();
                  const c = t2.indexOf(o2.currentTarget);
                  t2 = s.loop ? ae2(t2, c + 1) : t2.slice(c + 1);
                }
                setTimeout(() => V(t2));
              }
            }),
            children: typeof I == "function" ? I({ isCurrentTabStop: C, hasTabStop: f != null }) : I
          }
        )
      }
    );
  }
);
B.displayName = U;
var ce = {
  ArrowLeft: "prev",
  ArrowUp: "prev",
  ArrowRight: "next",
  ArrowDown: "next",
  PageUp: "first",
  Home: "first",
  PageDown: "last",
  End: "last"
};
function se(e2, r) {
  return r !== "rtl" ? e2 : e2 === "ArrowLeft" ? "ArrowRight" : e2 === "ArrowRight" ? "ArrowLeft" : e2;
}
function ie(e2, r, a2) {
  const n3 = se(e2.key, a2);
  if (!(r === "vertical" && ["ArrowLeft", "ArrowRight"].includes(n3)) && !(r === "horizontal" && ["ArrowUp", "ArrowDown"].includes(n3)))
    return ce[n3];
}
function V(e2, r = false) {
  const a2 = document.activeElement;
  for (const n3 of e2)
    if (n3 === a2 || (n3.focus({ preventScroll: r }), document.activeElement !== a2)) return;
}
function ae2(e2, r) {
  return e2.map((a2, n3) => e2[(r + n3) % e2.length]);
}
var Se = k2;
var ge = B;

// node_modules/dgz-ui/dist/circle-COtEidYe.js
var e = [["path", { d: "M20 6 9 17l-5-5", key: "1gmf2c" }]];
var t = k("check", e);
var o = [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }]];
var a = k("circle", o);

export {
  X,
  be,
  Se,
  ge,
  t,
  a
};
/*! Bundled license information:

dgz-ui/dist/circle-COtEidYe.js:
  (**
   * @license lucide-react v0.511.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=chunk-4PPYXZD4.js.map

import {
  w
} from "./chunk-HUVX2E5O.js";
import {
  require_react
} from "./chunk-4373DSHM.js";
import {
  __toESM
} from "./chunk-SNAQBZPT.js";

// node_modules/dgz-ui/dist/index-rSIGk0ww.js
var e = __toESM(require_react(), 1);
var S = e[" useId ".trim().toString()] || (() => {
});
var E = 0;
function g(t) {
  const [n, o] = e.useState(S());
  return w(() => {
    o((l) => l ?? String(E++));
  }, [t]), t || (n ? `radix-${n}` : "");
}
var I = e[" useInsertionEffect ".trim().toString()] || w;
function y({
  prop: t,
  defaultProp: n,
  onChange: o = () => {
  },
  caller: l
}) {
  const [f, r, s] = w2({
    defaultProp: n,
    onChange: o
  }), c = t !== void 0, v = c ? t : f;
  {
    const u = e.useRef(t !== void 0);
    e.useEffect(() => {
      const i = u.current;
      i !== c && console.warn(
        `${l} is changing from ${i ? "controlled" : "uncontrolled"} to ${c ? "controlled" : "uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`
      ), u.current = c;
    }, [c, l]);
  }
  const m = e.useCallback(
    (u) => {
      var i;
      if (c) {
        const d = R(u) ? u(t) : u;
        d !== t && ((i = s.current) == null || i.call(s, d));
      } else
        r(u);
    },
    [c, t, r, s]
  );
  return [v, m];
}
function w2({
  defaultProp: t,
  onChange: n
}) {
  const [o, l] = e.useState(t), f = e.useRef(o), r = e.useRef(n);
  return I(() => {
    r.current = n;
  }, [n]), e.useEffect(() => {
    var s;
    f.current !== o && ((s = r.current) == null || s.call(r, o), f.current = o);
  }, [o, f]), [o, l, r];
}
function R(t) {
  return typeof t == "function";
}

export {
  g,
  y
};
//# sourceMappingURL=chunk-ODKV7UAD.js.map

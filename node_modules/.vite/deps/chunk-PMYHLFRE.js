import {
  pt
} from "./chunk-4ONM6MHH.js";
import {
  lp
} from "./chunk-COGQTHYJ.js";
import {
  P
} from "./chunk-WW2ZRMOX.js";
import {
  require_react
} from "./chunk-HPJJ3TUJ.js";
import {
  __toESM
} from "./chunk-SNAQBZPT.js";

// node_modules/dgz-ui-shared/dist/SortOrder-CwuehjY1.js
var S = ((C2) => (C2.ASC = "ASC", C2.DESC = "DESC", C2))(S || {});

// node_modules/dgz-ui-shared/dist/useSortable-DRvyr1Gy.js
var import_react = __toESM(require_react(), 1);
var F = ({
  key: n,
  columns: e = []
}) => {
  const { storedColumns: t, setColumns: l } = P();
  (0, import_react.useEffect)(() => {
    if (lp.isEmpty(lp.get(t, n)) && !lp.isEmpty(e)) {
      const o = {};
      e.forEach((s) => {
        lp.set(o, s.key, !!s.hidden);
      }), l({
        ...t,
        [n]: o
      });
    }
  }, [n, e, t, l]);
  const m = (0, import_react.useMemo)(() => {
    const o = lp.get(t, n, {});
    return e.filter((s) => s.type !== "action").map((s) => {
      const { hidden: c2, ...i } = s;
      return {
        ...i,
        hidden: lp.get(o, s.key, !!c2)
      };
    });
  }, [n, t, e]), f2 = (0, import_react.useCallback)(
    (o, s) => {
      const c2 = lp.get(t, n, {});
      lp.set(c2, o.key, s), l({
        ...t,
        [n]: c2
      });
    },
    [n, l, t]
  ), r = (0, import_react.useCallback)(() => {
    const o = {};
    e.forEach((s) => {
      lp.set(o, s.key, !!s.hidden);
    }), l({
      ...t,
      [n]: o
    });
  }, [n, l, t, e]);
  return {
    formattedColumns: m,
    handleColumnsChange: f2,
    resetColumns: r
  };
};
var S2 = ({
  rows: n = [],
  defaultSelectedRows: e = []
}) => {
  const [t, l] = (0, import_react.useState)([]), m = (0, import_react.useCallback)(
    (s, c2) => {
      l((i) => {
        const d = n.map((h) => h[s]) || [], g = i.filter(
          (h) => !d.includes(h)
        );
        return c2 ? [...g, ...d] : g;
      });
    },
    [n]
  );
  (0, import_react.useEffect)(() => {
    e && l(
      (s) => lp.isEqual(s, e) ? s : e
    );
  }, [e]);
  const f2 = (0, import_react.useCallback)(
    (s, c2) => {
      l((i) => c2 ? [...i, s] : i.filter((d) => d !== s));
    },
    []
  ), r = (0, import_react.useCallback)(
    (s) => t.includes(s),
    [t]
  ), o = (0, import_react.useCallback)(
    (s) => {
      const c2 = n.map((d) => d[s]) || [];
      let i = 0;
      for (const d of c2)
        t.includes(d) && i++;
      return c2.length === i ? true : i ? "indeterminate" : false;
    },
    [t, n]
  );
  return {
    selectedRows: t,
    isRowSelected: r,
    isAllRowsSelected: o,
    handleSelectAllRows: m,
    handleSelectRow: f2
  };
};
var x = ({
  sortField: n,
  sortOrder: e,
  onSortOrderChange: t
}) => {
  const [l, m] = (0, import_react.useState)();
  (0, import_react.useEffect)(() => {
    n && m(
      (r) => (r == null ? void 0 : r.sortField) === e && (r == null ? void 0 : r.sortOrder) === e ? r : {
        sortField: n,
        sortOrder: e || void 0
      }
    );
  }, [n, e]);
  const f2 = (0, import_react.useCallback)(
    (r) => {
      m((o) => {
        const c2 = (o == null ? void 0 : o.sortField) === r ? (o == null ? void 0 : o.sortOrder) === S.ASC ? S.DESC : void 0 : S.ASC, i = {
          sortField: c2 ? r : void 0,
          sortOrder: c2
        };
        return t && t(i), i;
      });
    },
    [t]
  );
  return {
    sortObject: l,
    handleSort: f2
  };
};

// node_modules/dgz-ui-shared/dist/useFilter-DMpxv27U.js
var import_react2 = __toESM(require_react(), 1);
var c = ({ params: t }) => {
  const o = pt({ mode: "onChange" });
  return (0, import_react2.useEffect)(() => {
    lp.entries(t || {}).forEach(([e, r]) => {
      /[[\]]$/g.test(e) && !(r instanceof Array) ? o.setValue(e, [r]) : o.setValue(e, r);
    });
  }, [t, o]), {
    params: t,
    form: o
  };
};

export {
  S,
  F,
  S2,
  x,
  c
};
//# sourceMappingURL=chunk-PMYHLFRE.js.map

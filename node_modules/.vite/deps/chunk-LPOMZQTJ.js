import {
  $1,
  D1,
  Q1,
  U1,
  q1,
  ui
} from "./chunk-KLLUJUWE.js";
import {
  Re,
  W,
  be,
  ee,
  ge,
  he,
  ye
} from "./chunk-RKXJDLNT.js";
import {
  A,
  H,
  He,
  J,
  Lt,
  Mt,
  O,
  Oe,
  Pe,
  Qe,
  Qn,
  S,
  Tt,
  Yn,
  Ze,
  ce,
  de,
  er,
  ht,
  ke,
  mo,
  nr,
  q,
  qe,
  rr,
  tr,
  w,
  ze
} from "./chunk-SPRZPVMT.js";
import {
  require_react_dom
} from "./chunk-TKQHW6KT.js";
import {
  require_react
} from "./chunk-HPJJ3TUJ.js";
import {
  __toESM
} from "./chunk-SNAQBZPT.js";

// node_modules/dgz-ui-shared/dist/input-mask-IfACg7qz-KwMI6P_O.js
var C = __toESM(require_react(), 1);
var import_react = __toESM(require_react(), 1);
var sc = __toESM(require_react_dom(), 1);

// node_modules/dgz-ui-shared/dist/index-CYIFqWxx-6SIsOs0F.js
var o = __toESM(require_react(), 1);
var d = Object.freeze({
  // See: https://github.com/twbs/bootstrap/blob/main/scss/mixins/_visually-hidden.scss
  position: "absolute",
  border: 0,
  width: 1,
  height: 1,
  padding: 0,
  margin: -1,
  overflow: "hidden",
  clip: "rect(0, 0, 0, 0)",
  whiteSpace: "nowrap",
  wordWrap: "normal"
});
var p = "VisuallyHidden";
var r = o.forwardRef(
  (e, a) => S.jsx(
    de.span,
    {
      ...e,
      ref: a,
      style: { ...d, ...e.style }
    }
  )
);
r.displayName = p;

// node_modules/dgz-ui-shared/dist/input-mask-IfACg7qz-KwMI6P_O.js
function ml(r2, [t, e]) {
  return Math.min(e, Math.max(t, r2));
}
var Hp = Object.defineProperty;
var Kp = (r2, t, e) => t in r2 ? Hp(r2, t, { enumerable: true, configurable: true, writable: true, value: e }) : r2[t] = e;
var Q = (r2, t, e) => Kp(r2, typeof t != "symbol" ? t + "" : t, e);
var Gp = [["path", { d: "m6 9 6 6 6-6", key: "qrunsl" }]];
var ac = Lt("chevron-down", Gp);
var Wp = [["path", { d: "m18 15-6-6-6 6", key: "153udz" }]];
var Zp = Lt("chevron-up", Wp);
function ti(r2) {
  const t = C.useRef({ value: r2, previous: r2 });
  return C.useMemo(() => (t.current.value !== r2 && (t.current.previous = t.current.value, t.current.value = r2), t.current.previous), [r2]);
}
var ei = "Checkbox";
var [Xp, ow] = He(ei);
var [Yp, Ia] = Xp(ei);
function Jp(r2) {
  const {
    __scopeCheckbox: t,
    checked: e,
    children: s,
    defaultChecked: n,
    disabled: i,
    form: o2,
    name: a,
    onCheckedChange: l,
    required: c,
    value: d2 = "on",
    // @ts-expect-error
    internal_do_not_use_render: g
  } = r2, [h, f] = Qe({
    prop: e,
    defaultProp: n ?? false,
    onChange: l,
    caller: ei
  }), [v, m] = C.useState(null), [k, _] = C.useState(null), E = C.useRef(false), N = v ? !!o2 || !!v.closest("form") : (
    // We set this to true by default so that events bubble to forms without JS (SSR)
    true
  ), q2 = {
    checked: h,
    disabled: i,
    setChecked: f,
    control: v,
    setControl: m,
    name: a,
    form: o2,
    value: d2,
    hasConsumerStoppedPropagationRef: E,
    required: c,
    defaultChecked: Ge(n) ? false : n,
    isFormControl: N,
    bubbleInput: k,
    setBubbleInput: _
  };
  return S.jsx(
    Yp,
    {
      scope: t,
      ...q2,
      children: Qp(g) ? g(q2) : s
    }
  );
}
var lc = "CheckboxTrigger";
var uc = C.forwardRef(
  ({ __scopeCheckbox: r2, onKeyDown: t, onClick: e, ...s }, n) => {
    const {
      control: i,
      value: o2,
      disabled: a,
      checked: l,
      required: c,
      setControl: d2,
      setChecked: g,
      hasConsumerStoppedPropagationRef: h,
      isFormControl: f,
      bubbleInput: v
    } = Ia(lc, r2), m = H(n, d2), k = C.useRef(l);
    return C.useEffect(() => {
      const _ = i == null ? void 0 : i.form;
      if (_) {
        const E = () => g(k.current);
        return _.addEventListener("reset", E), () => _.removeEventListener("reset", E);
      }
    }, [i, g]), S.jsx(
      de.button,
      {
        type: "button",
        role: "checkbox",
        "aria-checked": Ge(l) ? "mixed" : l,
        "aria-required": c,
        "data-state": fc(l),
        "data-disabled": a ? "" : void 0,
        disabled: a,
        value: o2,
        ...s,
        ref: m,
        onKeyDown: J(t, (_) => {
          _.key === "Enter" && _.preventDefault();
        }),
        onClick: J(e, (_) => {
          g((E) => Ge(E) ? true : !E), v && f && (h.current = _.isPropagationStopped(), h.current || _.stopPropagation());
        })
      }
    );
  }
);
uc.displayName = lc;
var qa = C.forwardRef(
  (r2, t) => {
    const {
      __scopeCheckbox: e,
      name: s,
      checked: n,
      defaultChecked: i,
      required: o2,
      disabled: a,
      value: l,
      onCheckedChange: c,
      form: d2,
      ...g
    } = r2;
    return S.jsx(
      Jp,
      {
        __scopeCheckbox: e,
        checked: n,
        defaultChecked: i,
        disabled: a,
        required: o2,
        onCheckedChange: c,
        name: s,
        form: d2,
        value: l,
        internal_do_not_use_render: ({ isFormControl: h }) => S.jsxs(S.Fragment, { children: [
          S.jsx(
            uc,
            {
              ...g,
              ref: t,
              __scopeCheckbox: e
            }
          ),
          h && S.jsx(
            pc,
            {
              __scopeCheckbox: e
            }
          )
        ] })
      }
    );
  }
);
qa.displayName = ei;
var cc = "CheckboxIndicator";
var hc = C.forwardRef(
  (r2, t) => {
    const { __scopeCheckbox: e, forceMount: s, ...n } = r2, i = Ia(cc, e);
    return S.jsx(
      Pe,
      {
        present: s || Ge(i.checked) || i.checked === true,
        children: S.jsx(
          de.span,
          {
            "data-state": fc(i.checked),
            "data-disabled": i.disabled ? "" : void 0,
            ...n,
            ref: t,
            style: { pointerEvents: "none", ...r2.style }
          }
        )
      }
    );
  }
);
hc.displayName = cc;
var dc = "CheckboxBubbleInput";
var pc = C.forwardRef(
  ({ __scopeCheckbox: r2, ...t }, e) => {
    const {
      control: s,
      hasConsumerStoppedPropagationRef: n,
      checked: i,
      defaultChecked: o2,
      required: a,
      disabled: l,
      name: c,
      value: d2,
      form: g,
      bubbleInput: h,
      setBubbleInput: f
    } = Ia(dc, r2), v = H(e, f), m = ti(i), k = Yn(s);
    C.useEffect(() => {
      const E = h;
      if (!E) return;
      const N = window.HTMLInputElement.prototype, q2 = Object.getOwnPropertyDescriptor(
        N,
        "checked"
      ).set, A2 = !n.current;
      if (m !== i && q2) {
        const X = new Event("click", { bubbles: A2 });
        E.indeterminate = Ge(i), q2.call(E, Ge(i) ? false : i), E.dispatchEvent(X);
      }
    }, [h, m, i, n]);
    const _ = C.useRef(Ge(i) ? false : i);
    return S.jsx(
      de.input,
      {
        type: "checkbox",
        "aria-hidden": true,
        defaultChecked: o2 ?? _.current,
        required: a,
        disabled: l,
        name: c,
        value: d2,
        form: g,
        ...t,
        tabIndex: -1,
        ref: v,
        style: {
          ...t.style,
          ...k,
          position: "absolute",
          pointerEvents: "none",
          opacity: 0,
          margin: 0,
          // We transform because the input is absolutely positioned but we have
          // rendered it **after** the button. This pulls it back to sit on top
          // of the button.
          transform: "translateX(-100%)"
        }
      }
    );
  }
);
pc.displayName = dc;
function Qp(r2) {
  return typeof r2 == "function";
}
function Ge(r2) {
  return r2 === "indeterminate";
}
function fc(r2) {
  return Ge(r2) ? "indeterminate" : r2 ? "checked" : "unchecked";
}
var tf = C.forwardRef(({ className: r2, ...t }, e) => S.jsx(
  qa,
  {
    ref: e,
    className: mo(
      "peer border-primary ring-offset-background focus-visible:ring-ring data-[state=checked]:text-primary size-4 shrink-0 rounded-sm border focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",
      r2
    ),
    ...t,
    children: S.jsx(
      hc,
      {
        className: mo("flex size-4 items-center justify-center text-current"),
        children: t.checked === "indeterminate" ? S.jsx($1, { className: "text-primary mr-0.5 mb-0.5 size-3.5" }) : S.jsx(D1, { className: "text-primary mr-0.5 mb-0.5 size-3.5" })
      }
    )
  }
));
tf.displayName = qa.displayName;
var ja = w(
  "flex h-10 w-full rounded-lg border border-border-alpha-strong px-3 py-2 dark:bg-transparent file:border-0 placeholder:text-secondary placeholder:text-body-sm-regular focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-bg focus-visible:ring-offset-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",
  {
    variants: {
      variant: {
        default: "focus-visible:ring-item-primary",
        failure: "focus-visible:ring-item-destructive bg-item-destructive-focus placeholder:text-item-destructive border-item-destructive text-destructive",
        success: "focus-visible:ring-success bg-success/20 placeholder:text-success/80 border-success text-success"
      }
    },
    defaultVariants: {
      variant: "default"
    }
  }
);
var ef = C.forwardRef(
  ({ className: r2, type: t, variant: e, ...s }, n) => {
    const [i, o2] = (0, import_react.useState)(false), [a, l] = (0, import_react.useState)(false);
    return (0, import_react.useEffect)(() => {
      o2(t === "password");
    }, [t]), S.jsxs("div", { className: "relative", children: [
      S.jsx(
        "input",
        {
          type: a ? "text" : t,
          className: mo(
            ja({ variant: e }),
            r2,
            i && "pr-10"
          ),
          ref: n,
          ...s
        }
      ),
      i && S.jsx(
        O,
        {
          type: "button",
          size: "icon",
          variant: "tertiary",
          className: "absolute top-1 right-1 size-8 cursor-pointer rounded-md p-2 !ring-0 !ring-offset-0",
          onClick: () => {
            l(!a);
          },
          children: a ? S.jsx(Q1, {}) : S.jsx(U1, {})
        }
      )
    ] });
  }
);
ef.displayName = "Input";
var Wt = function() {
  return Wt = Object.assign || function(r2) {
    for (var t, e = 1, s = arguments.length; e < s; e++) {
      t = arguments[e];
      for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (r2[n] = t[n]);
    }
    return r2;
  }, Wt.apply(this, arguments);
};
function Yr(r2, t, e) {
  if (e || arguments.length === 2) for (var s = 0, n = t.length, i; s < n; s++)
    (i || !(s in t)) && (i || (i = Array.prototype.slice.call(t, 0, s)), i[s] = t[s]);
  return r2.concat(i || Array.prototype.slice.call(t));
}
function rf(r2) {
  var t = /* @__PURE__ */ Object.create(null);
  return function(e) {
    return t[e] === void 0 && (t[e] = r2(e)), t[e];
  };
}
var sf = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;
var nf = rf(
  function(r2) {
    return sf.test(r2) || r2.charCodeAt(0) === 111 && r2.charCodeAt(1) === 110 && r2.charCodeAt(2) < 91;
  }
  /* Z+1 */
);
var Et = "-ms-";
var Ls = "-moz-";
var bt = "-webkit-";
var mc = "comm";
var ri = "rule";
var Ma = "decl";
var of = "@import";
var gc = "@keyframes";
var af = "@layer";
var vc = Math.abs;
var Ba = String.fromCharCode;
var zo = Object.assign;
function lf(r2, t) {
  return Lt2(r2, 0) ^ 45 ? (((t << 2 ^ Lt2(r2, 0)) << 2 ^ Lt2(r2, 1)) << 2 ^ Lt2(r2, 2)) << 2 ^ Lt2(r2, 3) : 0;
}
function bc(r2) {
  return r2.trim();
}
function Te(r2, t) {
  return (r2 = t.exec(r2)) ? r2[0] : r2;
}
function ht2(r2, t, e) {
  return r2.replace(t, e);
}
function Tn(r2, t, e) {
  return r2.indexOf(t, e);
}
function Lt2(r2, t) {
  return r2.charCodeAt(t) | 0;
}
function Jr(r2, t, e) {
  return r2.slice(t, e);
}
function be2(r2) {
  return r2.length;
}
function yc(r2) {
  return r2.length;
}
function Ss(r2, t) {
  return t.push(r2), r2;
}
function uf(r2, t) {
  return r2.map(t).join("");
}
function gl(r2, t) {
  return r2.filter(function(e) {
    return !Te(e, t);
  });
}
var si = 1;
var Qr = 1;
var kc = 0;
var re = 0;
var Tt2 = 0;
var os = "";
function ni(r2, t, e, s, n, i, o2, a) {
  return { value: r2, root: t, parent: e, type: s, props: n, children: i, line: si, column: Qr, length: o2, return: "", siblings: a };
}
function Ve(r2, t) {
  return zo(ni("", null, null, "", null, null, 0, r2.siblings), r2, { length: -r2.length }, t);
}
function Fr(r2) {
  for (; r2.root; )
    r2 = Ve(r2.root, { children: [r2] });
  Ss(r2, r2.siblings);
}
function cf() {
  return Tt2;
}
function hf() {
  return Tt2 = re > 0 ? Lt2(os, --re) : 0, Qr--, Tt2 === 10 && (Qr = 1, si--), Tt2;
}
function le() {
  return Tt2 = re < kc ? Lt2(os, re++) : 0, Qr++, Tt2 === 10 && (Qr = 1, si++), Tt2;
}
function fr() {
  return Lt2(os, re);
}
function Rn() {
  return re;
}
function ii(r2, t) {
  return Jr(os, r2, t);
}
function Ho(r2) {
  switch (r2) {
    // \0 \t \n \r \s whitespace token
    case 0:
    case 9:
    case 10:
    case 13:
    case 32:
      return 5;
    // ! + , / > @ ~ isolate token
    case 33:
    case 43:
    case 44:
    case 47:
    case 62:
    case 64:
    case 126:
    // ; { } breakpoint token
    case 59:
    case 123:
    case 125:
      return 4;
    // : accompanied token
    case 58:
      return 3;
    // " ' ( [ opening delimit token
    case 34:
    case 39:
    case 40:
    case 91:
      return 2;
    // ) ] closing delimit token
    case 41:
    case 93:
      return 1;
  }
  return 0;
}
function df(r2) {
  return si = Qr = 1, kc = be2(os = r2), re = 0, [];
}
function pf(r2) {
  return os = "", r2;
}
function bo(r2) {
  return bc(ii(re - 1, Ko(r2 === 91 ? r2 + 2 : r2 === 40 ? r2 + 1 : r2)));
}
function ff(r2) {
  for (; (Tt2 = fr()) && Tt2 < 33; )
    le();
  return Ho(r2) > 2 || Ho(Tt2) > 3 ? "" : " ";
}
function mf(r2, t) {
  for (; --t && le() && !(Tt2 < 48 || Tt2 > 102 || Tt2 > 57 && Tt2 < 65 || Tt2 > 70 && Tt2 < 97); )
    ;
  return ii(r2, Rn() + (t < 6 && fr() == 32 && le() == 32));
}
function Ko(r2) {
  for (; le(); )
    switch (Tt2) {
      // ] ) " '
      case r2:
        return re;
      // " '
      case 34:
      case 39:
        r2 !== 34 && r2 !== 39 && Ko(Tt2);
        break;
      // (
      case 40:
        r2 === 41 && Ko(r2);
        break;
      // \
      case 92:
        le();
        break;
    }
  return re;
}
function gf(r2, t) {
  for (; le() && r2 + Tt2 !== 57 && !(r2 + Tt2 === 84 && fr() === 47); )
    ;
  return "/*" + ii(t, re - 1) + "*" + Ba(r2 === 47 ? r2 : le());
}
function vf(r2) {
  for (; !Ho(fr()); )
    le();
  return ii(r2, re);
}
function bf(r2) {
  return pf(Ln("", null, null, null, [""], r2 = df(r2), 0, [0], r2));
}
function Ln(r2, t, e, s, n, i, o2, a, l) {
  for (var c = 0, d2 = 0, g = o2, h = 0, f = 0, v = 0, m = 1, k = 1, _ = 1, E = 0, N = "", q2 = n, A2 = i, X = s, G = N; k; )
    switch (v = E, E = le()) {
      // (
      case 40:
        if (v != 108 && Lt2(G, g - 1) == 58) {
          Tn(G += ht2(bo(E), "&", "&\f"), "&\f", vc(c ? a[c - 1] : 0)) != -1 && (_ = -1);
          break;
        }
      // " ' [
      case 34:
      case 39:
      case 91:
        G += bo(E);
        break;
      // \t \n \r \s
      case 9:
      case 10:
      case 13:
      case 32:
        G += ff(v);
        break;
      // \
      case 92:
        G += mf(Rn() - 1, 7);
        continue;
      // /
      case 47:
        switch (fr()) {
          case 42:
          case 47:
            Ss(yf(gf(le(), Rn()), t, e, l), l);
            break;
          default:
            G += "/";
        }
        break;
      // {
      case 123 * m:
        a[c++] = be2(G) * _;
      // } ; \0
      case 125 * m:
      case 59:
      case 0:
        switch (E) {
          // \0 }
          case 0:
          case 125:
            k = 0;
          // ;
          case 59 + d2:
            _ == -1 && (G = ht2(G, /\f/g, "")), f > 0 && be2(G) - g && Ss(f > 32 ? bl(G + ";", s, e, g - 1, l) : bl(ht2(G, " ", "") + ";", s, e, g - 2, l), l);
            break;
          // @ ;
          case 59:
            G += ";";
          // { rule/at-rule
          default:
            if (Ss(X = vl(G, t, e, c, d2, n, a, N, q2 = [], A2 = [], g, i), i), E === 123)
              if (d2 === 0)
                Ln(G, t, X, X, q2, i, g, a, A2);
              else
                switch (h === 99 && Lt2(G, 3) === 110 ? 100 : h) {
                  // d l m s
                  case 100:
                  case 108:
                  case 109:
                  case 115:
                    Ln(r2, X, X, s && Ss(vl(r2, X, X, 0, 0, n, a, N, n, q2 = [], g, A2), A2), n, A2, g, a, s ? q2 : A2);
                    break;
                  default:
                    Ln(G, X, X, X, [""], A2, 0, a, A2);
                }
        }
        c = d2 = f = 0, m = _ = 1, N = G = "", g = o2;
        break;
      // :
      case 58:
        g = 1 + be2(G), f = v;
      default:
        if (m < 1) {
          if (E == 123)
            --m;
          else if (E == 125 && m++ == 0 && hf() == 125)
            continue;
        }
        switch (G += Ba(E), E * m) {
          // &
          case 38:
            _ = d2 > 0 ? 1 : (G += "\f", -1);
            break;
          // ,
          case 44:
            a[c++] = (be2(G) - 1) * _, _ = 1;
            break;
          // @
          case 64:
            fr() === 45 && (G += bo(le())), h = fr(), d2 = g = be2(N = G += vf(Rn())), E++;
            break;
          // -
          case 45:
            v === 45 && be2(G) == 2 && (m = 0);
        }
    }
  return i;
}
function vl(r2, t, e, s, n, i, o2, a, l, c, d2, g) {
  for (var h = n - 1, f = n === 0 ? i : [""], v = yc(f), m = 0, k = 0, _ = 0; m < s; ++m)
    for (var E = 0, N = Jr(r2, h + 1, h = vc(k = o2[m])), q2 = r2; E < v; ++E)
      (q2 = bc(k > 0 ? f[E] + " " + N : ht2(N, /&\f/g, f[E]))) && (l[_++] = q2);
  return ni(r2, t, e, n === 0 ? ri : a, l, c, d2, g);
}
function yf(r2, t, e, s) {
  return ni(r2, t, e, mc, Ba(cf()), Jr(r2, 2, -2), 0, s);
}
function bl(r2, t, e, s, n) {
  return ni(r2, t, e, Ma, Jr(r2, 0, s), Jr(r2, s + 1, -1), s, n);
}
function xc(r2, t, e) {
  switch (lf(r2, t)) {
    // color-adjust
    case 5103:
      return bt + "print-" + r2 + r2;
    // animation, animation-(delay|direction|duration|fill-mode|iteration-count|name|play-state|timing-function)
    case 5737:
    case 4201:
    case 3177:
    case 3433:
    case 1641:
    case 4457:
    case 2921:
    // text-decoration, filter, clip-path, backface-visibility, column, box-decoration-break
    case 5572:
    case 6356:
    case 5844:
    case 3191:
    case 6645:
    case 3005:
    // mask, mask-image, mask-(mode|clip|size), mask-(repeat|origin), mask-position, mask-composite,
    case 6391:
    case 5879:
    case 5623:
    case 6135:
    case 4599:
    case 4855:
    // background-clip, columns, column-(count|fill|gap|rule|rule-color|rule-style|rule-width|span|width)
    case 4215:
    case 6389:
    case 5109:
    case 5365:
    case 5621:
    case 3829:
      return bt + r2 + r2;
    // tab-size
    case 4789:
      return Ls + r2 + r2;
    // appearance, user-select, transform, hyphens, text-size-adjust
    case 5349:
    case 4246:
    case 4810:
    case 6968:
    case 2756:
      return bt + r2 + Ls + r2 + Et + r2 + r2;
    // writing-mode
    case 5936:
      switch (Lt2(r2, t + 11)) {
        // vertical-l(r)
        case 114:
          return bt + r2 + Et + ht2(r2, /[svh]\w+-[tblr]{2}/, "tb") + r2;
        // vertical-r(l)
        case 108:
          return bt + r2 + Et + ht2(r2, /[svh]\w+-[tblr]{2}/, "tb-rl") + r2;
        // horizontal(-)tb
        case 45:
          return bt + r2 + Et + ht2(r2, /[svh]\w+-[tblr]{2}/, "lr") + r2;
      }
    // flex, flex-direction, scroll-snap-type, writing-mode
    case 6828:
    case 4268:
    case 2903:
      return bt + r2 + Et + r2 + r2;
    // order
    case 6165:
      return bt + r2 + Et + "flex-" + r2 + r2;
    // align-items
    case 5187:
      return bt + r2 + ht2(r2, /(\w+).+(:[^]+)/, bt + "box-$1$2" + Et + "flex-$1$2") + r2;
    // align-self
    case 5443:
      return bt + r2 + Et + "flex-item-" + ht2(r2, /flex-|-self/g, "") + (Te(r2, /flex-|baseline/) ? "" : Et + "grid-row-" + ht2(r2, /flex-|-self/g, "")) + r2;
    // align-content
    case 4675:
      return bt + r2 + Et + "flex-line-pack" + ht2(r2, /align-content|flex-|-self/g, "") + r2;
    // flex-shrink
    case 5548:
      return bt + r2 + Et + ht2(r2, "shrink", "negative") + r2;
    // flex-basis
    case 5292:
      return bt + r2 + Et + ht2(r2, "basis", "preferred-size") + r2;
    // flex-grow
    case 6060:
      return bt + "box-" + ht2(r2, "-grow", "") + bt + r2 + Et + ht2(r2, "grow", "positive") + r2;
    // transition
    case 4554:
      return bt + ht2(r2, /([^-])(transform)/g, "$1" + bt + "$2") + r2;
    // cursor
    case 6187:
      return ht2(ht2(ht2(r2, /(zoom-|grab)/, bt + "$1"), /(image-set)/, bt + "$1"), r2, "") + r2;
    // background, background-image
    case 5495:
    case 3959:
      return ht2(r2, /(image-set\([^]*)/, bt + "$1$`$1");
    // justify-content
    case 4968:
      return ht2(ht2(r2, /(.+:)(flex-)?(.*)/, bt + "box-pack:$3" + Et + "flex-pack:$3"), /s.+-b[^;]+/, "justify") + bt + r2 + r2;
    // justify-self
    case 4200:
      if (!Te(r2, /flex-|baseline/)) return Et + "grid-column-align" + Jr(r2, t) + r2;
      break;
    // grid-template-(columns|rows)
    case 2592:
    case 3360:
      return Et + ht2(r2, "template-", "") + r2;
    // grid-(row|column)-start
    case 4384:
    case 3616:
      return e && e.some(function(s, n) {
        return t = n, Te(s.props, /grid-\w+-end/);
      }) ? ~Tn(r2 + (e = e[t].value), "span", 0) ? r2 : Et + ht2(r2, "-start", "") + r2 + Et + "grid-row-span:" + (~Tn(e, "span", 0) ? Te(e, /\d+/) : +Te(e, /\d+/) - +Te(r2, /\d+/)) + ";" : Et + ht2(r2, "-start", "") + r2;
    // grid-(row|column)-end
    case 4896:
    case 4128:
      return e && e.some(function(s) {
        return Te(s.props, /grid-\w+-start/);
      }) ? r2 : Et + ht2(ht2(r2, "-end", "-span"), "span ", "") + r2;
    // (margin|padding)-inline-(start|end)
    case 4095:
    case 3583:
    case 4068:
    case 2532:
      return ht2(r2, /(.+)-inline(.+)/, bt + "$1$2") + r2;
    // (min|max)?(width|height|inline-size|block-size)
    case 8116:
    case 7059:
    case 5753:
    case 5535:
    case 5445:
    case 5701:
    case 4933:
    case 4677:
    case 5533:
    case 5789:
    case 5021:
    case 4765:
      if (be2(r2) - 1 - t > 6)
        switch (Lt2(r2, t + 1)) {
          // (m)ax-content, (m)in-content
          case 109:
            if (Lt2(r2, t + 4) !== 45)
              break;
          // (f)ill-available, (f)it-content
          case 102:
            return ht2(r2, /(.+:)(.+)-([^]+)/, "$1" + bt + "$2-$3$1" + Ls + (Lt2(r2, t + 3) == 108 ? "$3" : "$2-$3")) + r2;
          // (s)tretch
          case 115:
            return ~Tn(r2, "stretch", 0) ? xc(ht2(r2, "stretch", "fill-available"), t, e) + r2 : r2;
        }
      break;
    // grid-(column|row)
    case 5152:
    case 5920:
      return ht2(r2, /(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/, function(s, n, i, o2, a, l, c) {
        return Et + n + ":" + i + c + (o2 ? Et + n + "-span:" + (a ? l : +l - +i) + c : "") + r2;
      });
    // position: sticky
    case 4949:
      if (Lt2(r2, t + 6) === 121)
        return ht2(r2, ":", ":" + bt) + r2;
      break;
    // display: (flex|inline-flex|grid|inline-grid)
    case 6444:
      switch (Lt2(r2, Lt2(r2, 14) === 45 ? 18 : 11)) {
        // (inline-)?fle(x)
        case 120:
          return ht2(r2, /(.+:)([^;\s!]+)(;|(\s+)?!.+)?/, "$1" + bt + (Lt2(r2, 14) === 45 ? "inline-" : "") + "box$3$1" + bt + "$2$3$1" + Et + "$2box$3") + r2;
        // (inline-)?gri(d)
        case 100:
          return ht2(r2, ":", ":" + Et) + r2;
      }
      break;
    // scroll-margin, scroll-margin-(top|right|bottom|left)
    case 5719:
    case 2647:
    case 2135:
    case 3927:
    case 2391:
      return ht2(r2, "scroll-", "scroll-snap-") + r2;
  }
  return r2;
}
function zn(r2, t) {
  for (var e = "", s = 0; s < r2.length; s++)
    e += t(r2[s], s, r2, t) || "";
  return e;
}
function kf(r2, t, e, s) {
  switch (r2.type) {
    case af:
      if (r2.children.length) break;
    case of:
    case Ma:
      return r2.return = r2.return || r2.value;
    case mc:
      return "";
    case gc:
      return r2.return = r2.value + "{" + zn(r2.children, s) + "}";
    case ri:
      if (!be2(r2.value = r2.props.join(","))) return "";
  }
  return be2(e = zn(r2.children, s)) ? r2.return = r2.value + "{" + e + "}" : "";
}
function xf(r2) {
  var t = yc(r2);
  return function(e, s, n, i) {
    for (var o2 = "", a = 0; a < t; a++)
      o2 += r2[a](e, s, n, i) || "";
    return o2;
  };
}
function wf(r2) {
  return function(t) {
    t.root || (t = t.return) && r2(t);
  };
}
function Ef(r2, t, e, s) {
  if (r2.length > -1 && !r2.return)
    switch (r2.type) {
      case Ma:
        r2.return = xc(r2.value, r2.length, e);
        return;
      case gc:
        return zn([Ve(r2, { value: ht2(r2.value, "@", "@" + bt) })], s);
      case ri:
        if (r2.length)
          return uf(e = r2.props, function(n) {
            switch (Te(n, s = /(::plac\w+|:read-\w+)/)) {
              // :read-(only|write)
              case ":read-only":
              case ":read-write":
                Fr(Ve(r2, { props: [ht2(n, /:(read-\w+)/, ":" + Ls + "$1")] })), Fr(Ve(r2, { props: [n] })), zo(r2, { props: gl(e, s) });
                break;
              // :placeholder
              case "::placeholder":
                Fr(Ve(r2, { props: [ht2(n, /:(plac\w+)/, ":" + bt + "input-$1")] })), Fr(Ve(r2, { props: [ht2(n, /:(plac\w+)/, ":" + Ls + "$1")] })), Fr(Ve(r2, { props: [ht2(n, /:(plac\w+)/, Et + "input-$1")] })), Fr(Ve(r2, { props: [n] })), zo(r2, { props: gl(e, s) });
                break;
            }
            return "";
          });
    }
}
var _f = {
  animationIterationCount: 1,
  aspectRatio: 1,
  borderImageOutset: 1,
  borderImageSlice: 1,
  borderImageWidth: 1,
  boxFlex: 1,
  boxFlexGroup: 1,
  boxOrdinalGroup: 1,
  columnCount: 1,
  columns: 1,
  flex: 1,
  flexGrow: 1,
  flexPositive: 1,
  flexShrink: 1,
  flexNegative: 1,
  flexOrder: 1,
  gridRow: 1,
  gridRowEnd: 1,
  gridRowSpan: 1,
  gridRowStart: 1,
  gridColumn: 1,
  gridColumnEnd: 1,
  gridColumnSpan: 1,
  gridColumnStart: 1,
  msGridRow: 1,
  msGridRowSpan: 1,
  msGridColumn: 1,
  msGridColumnSpan: 1,
  fontWeight: 1,
  lineHeight: 1,
  opacity: 1,
  order: 1,
  orphans: 1,
  tabSize: 1,
  widows: 1,
  zIndex: 1,
  zoom: 1,
  WebkitLineClamp: 1,
  // SVG-related properties
  fillOpacity: 1,
  floodOpacity: 1,
  stopOpacity: 1,
  strokeDasharray: 1,
  strokeDashoffset: 1,
  strokeMiterlimit: 1,
  strokeOpacity: 1,
  strokeWidth: 1
};
var gr = typeof process < "u" && process.env !== void 0 && (process.env.REACT_APP_SC_ATTR || process.env.SC_ATTR) || "data-styled";
var wc = "active";
var Ec = "data-styled-version";
var oi = "6.1.19";
var Da = `/*!sc*/
`;
var Hn = typeof window < "u" && typeof document < "u";
var Af = !!(typeof SC_DISABLE_SPEEDY == "boolean" ? SC_DISABLE_SPEEDY : typeof process < "u" && process.env !== void 0 && process.env.REACT_APP_SC_DISABLE_SPEEDY !== void 0 && process.env.REACT_APP_SC_DISABLE_SPEEDY !== "" ? process.env.REACT_APP_SC_DISABLE_SPEEDY !== "false" && process.env.REACT_APP_SC_DISABLE_SPEEDY : typeof process < "u" && process.env !== void 0 && process.env.SC_DISABLE_SPEEDY !== void 0 && process.env.SC_DISABLE_SPEEDY !== "" ? process.env.SC_DISABLE_SPEEDY !== "false" && process.env.SC_DISABLE_SPEEDY : true);
var yl = /invalid hook call/i;
var vn = /* @__PURE__ */ new Set();
var Nf = function(r2, t) {
  if (true) {
    var e = t ? ' with the id of "'.concat(t, '"') : "", s = "The component ".concat(r2).concat(e, ` has been created dynamically.
`) + `You may see this warning because you've called styled inside another component.
To resolve this only create new StyledComponents outside of any render method and function component.
See https://styled-components.com/docs/basics#define-styled-components-outside-of-the-render-method for more info.
`, n = console.error;
    try {
      var i = true;
      console.error = function(o2) {
        for (var a = [], l = 1; l < arguments.length; l++) a[l - 1] = arguments[l];
        yl.test(o2) ? (i = false, vn.delete(s)) : n.apply(void 0, Yr([o2], a, false));
      }, (0, import_react.useRef)(), i && !vn.has(s) && (console.warn(s), vn.add(s));
    } catch (o2) {
      yl.test(o2.message) && vn.delete(s);
    } finally {
      console.error = n;
    }
  }
};
var ai = Object.freeze([]);
var ts = Object.freeze({});
function Sf(r2, t, e) {
  return e === void 0 && (e = ts), r2.theme !== e.theme && r2.theme || t || e.theme;
}
var Go = /* @__PURE__ */ new Set(["a", "abbr", "address", "area", "article", "aside", "audio", "b", "base", "bdi", "bdo", "big", "blockquote", "body", "br", "button", "canvas", "caption", "cite", "code", "col", "colgroup", "data", "datalist", "dd", "del", "details", "dfn", "dialog", "div", "dl", "dt", "em", "embed", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "header", "hgroup", "hr", "html", "i", "iframe", "img", "input", "ins", "kbd", "keygen", "label", "legend", "li", "link", "main", "map", "mark", "menu", "menuitem", "meta", "meter", "nav", "noscript", "object", "ol", "optgroup", "option", "output", "p", "param", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "script", "section", "select", "small", "source", "span", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "u", "ul", "use", "var", "video", "wbr", "circle", "clipPath", "defs", "ellipse", "foreignObject", "g", "image", "line", "linearGradient", "marker", "mask", "path", "pattern", "polygon", "polyline", "radialGradient", "rect", "stop", "svg", "text", "tspan"]);
var Cf = /[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g;
var Of = /(^-|-$)/g;
function kl(r2) {
  return r2.replace(Cf, "-").replace(Of, "");
}
var Tf = /(a)(d)/gi;
var bn = 52;
var xl = function(r2) {
  return String.fromCharCode(r2 + (r2 > 25 ? 39 : 97));
};
function Wo(r2) {
  var t, e = "";
  for (t = Math.abs(r2); t > bn; t = t / bn | 0) e = xl(t % bn) + e;
  return (xl(t % bn) + e).replace(Tf, "$1-$2");
}
var yo;
var _c = 5381;
var hr = function(r2, t) {
  for (var e = t.length; e; ) r2 = 33 * r2 ^ t.charCodeAt(--e);
  return r2;
};
var Ac = function(r2) {
  return hr(_c, r2);
};
function Rf(r2) {
  return Wo(Ac(r2) >>> 0);
}
function Nc(r2) {
  return typeof r2 == "string" && r2 || r2.displayName || r2.name || "Component";
}
function ko(r2) {
  return typeof r2 == "string" && r2.charAt(0) === r2.charAt(0).toLowerCase();
}
var Sc = typeof Symbol == "function" && Symbol.for;
var Cc = Sc ? Symbol.for("react.memo") : 60115;
var Lf = Sc ? Symbol.for("react.forward_ref") : 60112;
var If = { childContextTypes: true, contextType: true, contextTypes: true, defaultProps: true, displayName: true, getDefaultProps: true, getDerivedStateFromError: true, getDerivedStateFromProps: true, mixins: true, propTypes: true, type: true };
var qf = { name: true, length: true, prototype: true, caller: true, callee: true, arguments: true, arity: true };
var Oc = { $$typeof: true, compare: true, defaultProps: true, displayName: true, propTypes: true, type: true };
var jf = ((yo = {})[Lf] = { $$typeof: true, render: true, defaultProps: true, displayName: true, propTypes: true }, yo[Cc] = Oc, yo);
function wl(r2) {
  return ("type" in (t = r2) && t.type.$$typeof) === Cc ? Oc : "$$typeof" in r2 ? jf[r2.$$typeof] : If;
  var t;
}
var Mf = Object.defineProperty;
var Bf = Object.getOwnPropertyNames;
var El = Object.getOwnPropertySymbols;
var Df = Object.getOwnPropertyDescriptor;
var Ff = Object.getPrototypeOf;
var _l = Object.prototype;
function Tc(r2, t, e) {
  if (typeof t != "string") {
    if (_l) {
      var s = Ff(t);
      s && s !== _l && Tc(r2, s, e);
    }
    var n = Bf(t);
    El && (n = n.concat(El(t)));
    for (var i = wl(r2), o2 = wl(t), a = 0; a < n.length; ++a) {
      var l = n[a];
      if (!(l in qf || e && e[l] || o2 && l in o2 || i && l in i)) {
        var c = Df(t, l);
        try {
          Mf(r2, l, c);
        } catch {
        }
      }
    }
  }
  return r2;
}
function es(r2) {
  return typeof r2 == "function";
}
function Fa(r2) {
  return typeof r2 == "object" && "styledComponentId" in r2;
}
function dr(r2, t) {
  return r2 && t ? "".concat(r2, " ").concat(t) : r2 || t || "";
}
function Al(r2, t) {
  if (r2.length === 0) return "";
  for (var e = r2[0], s = 1; s < r2.length; s++) e += r2[s];
  return e;
}
function rs(r2) {
  return r2 !== null && typeof r2 == "object" && r2.constructor.name === Object.name && !("props" in r2 && r2.$$typeof);
}
function Zo(r2, t, e) {
  if (e === void 0 && (e = false), !e && !rs(r2) && !Array.isArray(r2)) return t;
  if (Array.isArray(t)) for (var s = 0; s < t.length; s++) r2[s] = Zo(r2[s], t[s]);
  else if (rs(t)) for (var s in t) r2[s] = Zo(r2[s], t[s]);
  return r2;
}
function Pa(r2, t) {
  Object.defineProperty(r2, "toString", { value: t });
}
var Pf = true ? { 1: `Cannot create styled-component for component: %s.

`, 2: `Can't collect styles once you've consumed a \`ServerStyleSheet\`'s styles! \`ServerStyleSheet\` is a one off instance for each server-side render cycle.

- Are you trying to reuse it across renders?
- Are you accidentally calling collectStyles twice?

`, 3: `Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.

`, 4: `The \`StyleSheetManager\` expects a valid target or sheet prop!

- Does this error occur on the client and is your target falsy?
- Does this error occur on the server and is the sheet falsy?

`, 5: `The clone method cannot be used on the client!

- Are you running in a client-like environment on the server?
- Are you trying to run SSR on the client?

`, 6: `Trying to insert a new style tag, but the given Node is unmounted!

- Are you using a custom target that isn't mounted?
- Does your document not have a valid head element?
- Have you accidentally removed a style tag manually?

`, 7: 'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n', 8: `ThemeProvider: Please make your "theme" prop an object.

`, 9: "Missing document `<head>`\n\n", 10: `Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021

`, 11: `_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.

`, 12: "It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n", 13: `%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.

`, 14: `ThemeProvider: "theme" prop is required.

`, 15: "A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n", 16: `Reached the limit of how many styled components may be created at group %s.
You may only create up to 1,073,741,824 components. If you're creating components dynamically,
as for instance in your render method then you may be running into this limitation.

`, 17: `CSSStyleSheet could not be found on HTMLStyleElement.
Has styled-components' style tag been unmounted or altered by another script?
`, 18: "ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`" } : {};
function Vf() {
  for (var r2 = [], t = 0; t < arguments.length; t++) r2[t] = arguments[t];
  for (var e = r2[0], s = [], n = 1, i = r2.length; n < i; n += 1) s.push(r2[n]);
  return s.forEach(function(o2) {
    e = e.replace(/%[a-z]/, o2);
  }), e;
}
function as(r2) {
  for (var t = [], e = 1; e < arguments.length; e++) t[e - 1] = arguments[e];
  return false ? new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r2, " for more information.").concat(t.length > 0 ? " Args: ".concat(t.join(", ")) : "")) : new Error(Vf.apply(void 0, Yr([Pf[r2]], t, false)).trim());
}
var Uf = function() {
  function r2(t) {
    this.groupSizes = new Uint32Array(512), this.length = 512, this.tag = t;
  }
  return r2.prototype.indexOfGroup = function(t) {
    for (var e = 0, s = 0; s < t; s++) e += this.groupSizes[s];
    return e;
  }, r2.prototype.insertRules = function(t, e) {
    if (t >= this.groupSizes.length) {
      for (var s = this.groupSizes, n = s.length, i = n; t >= i; ) if ((i <<= 1) < 0) throw as(16, "".concat(t));
      this.groupSizes = new Uint32Array(i), this.groupSizes.set(s), this.length = i;
      for (var o2 = n; o2 < i; o2++) this.groupSizes[o2] = 0;
    }
    for (var a = this.indexOfGroup(t + 1), l = (o2 = 0, e.length); o2 < l; o2++) this.tag.insertRule(a, e[o2]) && (this.groupSizes[t]++, a++);
  }, r2.prototype.clearGroup = function(t) {
    if (t < this.length) {
      var e = this.groupSizes[t], s = this.indexOfGroup(t), n = s + e;
      this.groupSizes[t] = 0;
      for (var i = s; i < n; i++) this.tag.deleteRule(s);
    }
  }, r2.prototype.getGroup = function(t) {
    var e = "";
    if (t >= this.length || this.groupSizes[t] === 0) return e;
    for (var s = this.groupSizes[t], n = this.indexOfGroup(t), i = n + s, o2 = n; o2 < i; o2++) e += "".concat(this.tag.getRule(o2)).concat(Da);
    return e;
  }, r2;
}();
var $f = 1 << 30;
var In = /* @__PURE__ */ new Map();
var Kn = /* @__PURE__ */ new Map();
var qn = 1;
var yn = function(r2) {
  if (In.has(r2)) return In.get(r2);
  for (; Kn.has(qn); ) qn++;
  var t = qn++;
  if ((0 | t) < 0 || t > $f) throw as(16, "".concat(t));
  return In.set(r2, t), Kn.set(t, r2), t;
};
var zf = function(r2, t) {
  qn = t + 1, In.set(r2, t), Kn.set(t, r2);
};
var Hf = "style[".concat(gr, "][").concat(Ec, '="').concat(oi, '"]');
var Kf = new RegExp("^".concat(gr, '\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'));
var Gf = function(r2, t, e) {
  for (var s, n = e.split(","), i = 0, o2 = n.length; i < o2; i++) (s = n[i]) && r2.registerName(t, s);
};
var Wf = function(r2, t) {
  for (var e, s = ((e = t.textContent) !== null && e !== void 0 ? e : "").split(Da), n = [], i = 0, o2 = s.length; i < o2; i++) {
    var a = s[i].trim();
    if (a) {
      var l = a.match(Kf);
      if (l) {
        var c = 0 | parseInt(l[1], 10), d2 = l[2];
        c !== 0 && (zf(d2, c), Gf(r2, d2, l[3]), r2.getTag().insertRules(c, n)), n.length = 0;
      } else n.push(a);
    }
  }
};
var Nl = function(r2) {
  for (var t = document.querySelectorAll(Hf), e = 0, s = t.length; e < s; e++) {
    var n = t[e];
    n && n.getAttribute(gr) !== wc && (Wf(r2, n), n.parentNode && n.parentNode.removeChild(n));
  }
};
function Zf() {
  return typeof __webpack_nonce__ < "u" ? __webpack_nonce__ : null;
}
var Rc = function(r2) {
  var t = document.head, e = r2 || t, s = document.createElement("style"), n = function(a) {
    var l = Array.from(a.querySelectorAll("style[".concat(gr, "]")));
    return l[l.length - 1];
  }(e), i = n !== void 0 ? n.nextSibling : null;
  s.setAttribute(gr, wc), s.setAttribute(Ec, oi);
  var o2 = Zf();
  return o2 && s.setAttribute("nonce", o2), e.insertBefore(s, i), s;
};
var Xf = function() {
  function r2(t) {
    this.element = Rc(t), this.element.appendChild(document.createTextNode("")), this.sheet = function(e) {
      if (e.sheet) return e.sheet;
      for (var s = document.styleSheets, n = 0, i = s.length; n < i; n++) {
        var o2 = s[n];
        if (o2.ownerNode === e) return o2;
      }
      throw as(17);
    }(this.element), this.length = 0;
  }
  return r2.prototype.insertRule = function(t, e) {
    try {
      return this.sheet.insertRule(e, t), this.length++, true;
    } catch {
      return false;
    }
  }, r2.prototype.deleteRule = function(t) {
    this.sheet.deleteRule(t), this.length--;
  }, r2.prototype.getRule = function(t) {
    var e = this.sheet.cssRules[t];
    return e && e.cssText ? e.cssText : "";
  }, r2;
}();
var Yf = function() {
  function r2(t) {
    this.element = Rc(t), this.nodes = this.element.childNodes, this.length = 0;
  }
  return r2.prototype.insertRule = function(t, e) {
    if (t <= this.length && t >= 0) {
      var s = document.createTextNode(e);
      return this.element.insertBefore(s, this.nodes[t] || null), this.length++, true;
    }
    return false;
  }, r2.prototype.deleteRule = function(t) {
    this.element.removeChild(this.nodes[t]), this.length--;
  }, r2.prototype.getRule = function(t) {
    return t < this.length ? this.nodes[t].textContent : "";
  }, r2;
}();
var Jf = function() {
  function r2(t) {
    this.rules = [], this.length = 0;
  }
  return r2.prototype.insertRule = function(t, e) {
    return t <= this.length && (this.rules.splice(t, 0, e), this.length++, true);
  }, r2.prototype.deleteRule = function(t) {
    this.rules.splice(t, 1), this.length--;
  }, r2.prototype.getRule = function(t) {
    return t < this.length ? this.rules[t] : "";
  }, r2;
}();
var Sl = Hn;
var Qf = { isServer: !Hn, useCSSOMInjection: !Af };
var Lc = function() {
  function r2(t, e, s) {
    t === void 0 && (t = ts), e === void 0 && (e = {});
    var n = this;
    this.options = Wt(Wt({}, Qf), t), this.gs = e, this.names = new Map(s), this.server = !!t.isServer, !this.server && Hn && Sl && (Sl = false, Nl(this)), Pa(this, function() {
      return function(i) {
        for (var o2 = i.getTag(), a = o2.length, l = "", c = function(g) {
          var h = function(_) {
            return Kn.get(_);
          }(g);
          if (h === void 0) return "continue";
          var f = i.names.get(h), v = o2.getGroup(g);
          if (f === void 0 || !f.size || v.length === 0) return "continue";
          var m = "".concat(gr, ".g").concat(g, '[id="').concat(h, '"]'), k = "";
          f !== void 0 && f.forEach(function(_) {
            _.length > 0 && (k += "".concat(_, ","));
          }), l += "".concat(v).concat(m, '{content:"').concat(k, '"}').concat(Da);
        }, d2 = 0; d2 < a; d2++) c(d2);
        return l;
      }(n);
    });
  }
  return r2.registerId = function(t) {
    return yn(t);
  }, r2.prototype.rehydrate = function() {
    !this.server && Hn && Nl(this);
  }, r2.prototype.reconstructWithOptions = function(t, e) {
    return e === void 0 && (e = true), new r2(Wt(Wt({}, this.options), t), this.gs, e && this.names || void 0);
  }, r2.prototype.allocateGSInstance = function(t) {
    return this.gs[t] = (this.gs[t] || 0) + 1;
  }, r2.prototype.getTag = function() {
    return this.tag || (this.tag = (t = function(e) {
      var s = e.useCSSOMInjection, n = e.target;
      return e.isServer ? new Jf(n) : s ? new Xf(n) : new Yf(n);
    }(this.options), new Uf(t)));
    var t;
  }, r2.prototype.hasNameForId = function(t, e) {
    return this.names.has(t) && this.names.get(t).has(e);
  }, r2.prototype.registerName = function(t, e) {
    if (yn(t), this.names.has(t)) this.names.get(t).add(e);
    else {
      var s = /* @__PURE__ */ new Set();
      s.add(e), this.names.set(t, s);
    }
  }, r2.prototype.insertRules = function(t, e, s) {
    this.registerName(t, e), this.getTag().insertRules(yn(t), s);
  }, r2.prototype.clearNames = function(t) {
    this.names.has(t) && this.names.get(t).clear();
  }, r2.prototype.clearRules = function(t) {
    this.getTag().clearGroup(yn(t)), this.clearNames(t);
  }, r2.prototype.clearTag = function() {
    this.tag = void 0;
  }, r2;
}();
var tm = /&/g;
var em = /^\s*\/\/.*$/gm;
function Ic(r2, t) {
  return r2.map(function(e) {
    return e.type === "rule" && (e.value = "".concat(t, " ").concat(e.value), e.value = e.value.replaceAll(",", ",".concat(t, " ")), e.props = e.props.map(function(s) {
      return "".concat(t, " ").concat(s);
    })), Array.isArray(e.children) && e.type !== "@keyframes" && (e.children = Ic(e.children, t)), e;
  });
}
function rm(r2) {
  var t, e, s, n = ts, i = n.options, o2 = i === void 0 ? ts : i, a = n.plugins, l = a === void 0 ? ai : a, c = function(h, f, v) {
    return v.startsWith(e) && v.endsWith(e) && v.replaceAll(e, "").length > 0 ? ".".concat(t) : h;
  }, d2 = l.slice();
  d2.push(function(h) {
    h.type === ri && h.value.includes("&") && (h.props[0] = h.props[0].replace(tm, e).replace(s, c));
  }), o2.prefix && d2.push(Ef), d2.push(kf);
  var g = function(h, f, v, m) {
    f === void 0 && (f = ""), v === void 0 && (v = ""), m === void 0 && (m = "&"), t = m, e = f, s = new RegExp("\\".concat(e, "\\b"), "g");
    var k = h.replace(em, ""), _ = bf(v || f ? "".concat(v, " ").concat(f, " { ").concat(k, " }") : k);
    o2.namespace && (_ = Ic(_, o2.namespace));
    var E = [];
    return zn(_, xf(d2.concat(wf(function(N) {
      return E.push(N);
    })))), E;
  };
  return g.hash = l.length ? l.reduce(function(h, f) {
    return f.name || as(15), hr(h, f.name);
  }, _c).toString() : "", g;
}
var sm = new Lc();
var Xo = rm();
var qc = import_react.default.createContext({ shouldForwardProp: void 0, styleSheet: sm, stylis: Xo });
qc.Consumer;
import_react.default.createContext(void 0);
function Cl() {
  return (0, import_react.useContext)(qc);
}
var Ol = function() {
  function r2(t, e) {
    var s = this;
    this.inject = function(n, i) {
      i === void 0 && (i = Xo);
      var o2 = s.name + i.hash;
      n.hasNameForId(s.id, o2) || n.insertRules(s.id, o2, i(s.rules, o2, "@keyframes"));
    }, this.name = t, this.id = "sc-keyframes-".concat(t), this.rules = e, Pa(this, function() {
      throw as(12, String(s.name));
    });
  }
  return r2.prototype.getName = function(t) {
    return t === void 0 && (t = Xo), this.name + t.hash;
  }, r2;
}();
var nm = function(r2) {
  return r2 >= "A" && r2 <= "Z";
};
function Tl(r2) {
  for (var t = "", e = 0; e < r2.length; e++) {
    var s = r2[e];
    if (e === 1 && s === "-" && r2[0] === "-") return r2;
    nm(s) ? t += "-" + s.toLowerCase() : t += s;
  }
  return t.startsWith("ms-") ? "-" + t : t;
}
var jc = function(r2) {
  return r2 == null || r2 === false || r2 === "";
};
var Mc = function(r2) {
  var t, e, s = [];
  for (var n in r2) {
    var i = r2[n];
    r2.hasOwnProperty(n) && !jc(i) && (Array.isArray(i) && i.isCss || es(i) ? s.push("".concat(Tl(n), ":"), i, ";") : rs(i) ? s.push.apply(s, Yr(Yr(["".concat(n, " {")], Mc(i), false), ["}"], false)) : s.push("".concat(Tl(n), ": ").concat((t = n, (e = i) == null || typeof e == "boolean" || e === "" ? "" : typeof e != "number" || e === 0 || t in _f || t.startsWith("--") ? String(e).trim() : "".concat(e, "px")), ";")));
  }
  return s;
};
function mr(r2, t, e, s) {
  if (jc(r2)) return [];
  if (Fa(r2)) return [".".concat(r2.styledComponentId)];
  if (es(r2)) {
    if (!es(i = r2) || i.prototype && i.prototype.isReactComponent || !t) return [r2];
    var n = r2(t);
    return typeof n != "object" || Array.isArray(n) || n instanceof Ol || rs(n) || n === null || console.error("".concat(Nc(r2), " is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.")), mr(n, t, e, s);
  }
  var i;
  return r2 instanceof Ol ? e ? (r2.inject(e, s), [r2.getName(s)]) : [r2] : rs(r2) ? Mc(r2) : Array.isArray(r2) ? Array.prototype.concat.apply(ai, r2.map(function(o2) {
    return mr(o2, t, e, s);
  })) : [r2.toString()];
}
var om = Ac(oi);
var am = function() {
  function r2(t, e, s) {
    this.rules = t, this.staticRulesId = "", this.isStatic = false, this.componentId = e, this.baseHash = hr(om, e), this.baseStyle = s, Lc.registerId(e);
  }
  return r2.prototype.generateAndInjectStyles = function(t, e, s) {
    var n = this.baseStyle ? this.baseStyle.generateAndInjectStyles(t, e, s) : "";
    if (this.isStatic && !s.hash) if (this.staticRulesId && e.hasNameForId(this.componentId, this.staticRulesId)) n = dr(n, this.staticRulesId);
    else {
      var i = Al(mr(this.rules, t, e, s)), o2 = Wo(hr(this.baseHash, i) >>> 0);
      if (!e.hasNameForId(this.componentId, o2)) {
        var a = s(i, ".".concat(o2), void 0, this.componentId);
        e.insertRules(this.componentId, o2, a);
      }
      n = dr(n, o2), this.staticRulesId = o2;
    }
    else {
      for (var l = hr(this.baseHash, s.hash), c = "", d2 = 0; d2 < this.rules.length; d2++) {
        var g = this.rules[d2];
        if (typeof g == "string") c += g, l = hr(l, g);
        else if (g) {
          var h = Al(mr(g, t, e, s));
          l = hr(l, h + d2), c += h;
        }
      }
      if (c) {
        var f = Wo(l >>> 0);
        e.hasNameForId(this.componentId, f) || e.insertRules(this.componentId, f, s(c, ".".concat(f), void 0, this.componentId)), n = dr(n, f);
      }
    }
    return n;
  }, r2;
}();
var Bc = import_react.default.createContext(void 0);
Bc.Consumer;
var xo = {};
var Rl = /* @__PURE__ */ new Set();
function lm(r2, t, e) {
  var s = Fa(r2), n = r2, i = !ko(r2), o2 = t.attrs, a = o2 === void 0 ? ai : o2, l = t.componentId, c = l === void 0 ? function(q2, A2) {
    var X = typeof q2 != "string" ? "sc" : kl(q2);
    xo[X] = (xo[X] || 0) + 1;
    var G = "".concat(X, "-").concat(Rf(oi + X + xo[X]));
    return A2 ? "".concat(A2, "-").concat(G) : G;
  }(t.displayName, t.parentComponentId) : l, d2 = t.displayName, g = d2 === void 0 ? function(q2) {
    return ko(q2) ? "styled.".concat(q2) : "Styled(".concat(Nc(q2), ")");
  }(r2) : d2, h = t.displayName && t.componentId ? "".concat(kl(t.displayName), "-").concat(t.componentId) : t.componentId || c, f = s && n.attrs ? n.attrs.concat(a).filter(Boolean) : a, v = t.shouldForwardProp;
  if (s && n.shouldForwardProp) {
    var m = n.shouldForwardProp;
    if (t.shouldForwardProp) {
      var k = t.shouldForwardProp;
      v = function(q2, A2) {
        return m(q2, A2) && k(q2, A2);
      };
    } else v = m;
  }
  var _ = new am(e, h, s ? n.componentStyle : void 0);
  function E(q2, A2) {
    return function(X, G, ct) {
      var mt = X.attrs, xt = X.componentStyle, b = X.defaultProps, M = X.foldedComponentIds, x = X.styledComponentId, $ = X.target, P = import_react.default.useContext(Bc), S2 = Cl(), B = X.shouldForwardProp || S2.shouldForwardProp;
      (0, import_react.useDebugValue)(x);
      var W2 = Sf(G, P, b) || ts, Z = function(U, Y, j) {
        for (var D, H2 = Wt(Wt({}, Y), { className: void 0, theme: j }), F = 0; F < U.length; F += 1) {
          var J2 = es(D = U[F]) ? D(H2) : D;
          for (var T in J2) H2[T] = T === "className" ? dr(H2[T], J2[T]) : T === "style" ? Wt(Wt({}, H2[T]), J2[T]) : J2[T];
        }
        return Y.className && (H2.className = dr(H2.className, Y.className)), H2;
      }(mt, G, W2), w2 = Z.as || $, L = {};
      for (var V in Z) Z[V] === void 0 || V[0] === "$" || V === "as" || V === "theme" && Z.theme === W2 || (V === "forwardedAs" ? L.as = Z.forwardedAs : B && !B(V, w2) || (L[V] = Z[V], B || false || nf(V) || Rl.has(V) || !Go.has(w2) || (Rl.add(V), console.warn('styled-components: it looks like an unknown prop "'.concat(V, '" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via `<StyleSheetManager shouldForwardProp={...}>` (connect an API like `@emotion/is-prop-valid`) or consider using transient props (`$` prefix for automatic filtering.)')))));
      var K = function(U, Y) {
        var j = Cl(), D = U.generateAndInjectStyles(Y, j.styleSheet, j.stylis);
        return (0, import_react.useDebugValue)(D), D;
      }(xt, Z);
      X.warnTooManyClasses && X.warnTooManyClasses(K);
      var z = dr(M, x);
      return K && (z += " " + K), Z.className && (z += " " + Z.className), L[ko(w2) && !Go.has(w2) ? "class" : "className"] = z, ct && (L.ref = ct), (0, import_react.createElement)(w2, L);
    }(N, q2, A2);
  }
  E.displayName = g;
  var N = import_react.default.forwardRef(E);
  return N.attrs = f, N.componentStyle = _, N.displayName = g, N.shouldForwardProp = v, N.foldedComponentIds = s ? dr(n.foldedComponentIds, n.styledComponentId) : "", N.styledComponentId = h, N.target = s ? n.target : r2, Object.defineProperty(N, "defaultProps", { get: function() {
    return this._foldedDefaultProps;
  }, set: function(q2) {
    this._foldedDefaultProps = s ? function(A2) {
      for (var X = [], G = 1; G < arguments.length; G++) X[G - 1] = arguments[G];
      for (var ct = 0, mt = X; ct < mt.length; ct++) Zo(A2, mt[ct], true);
      return A2;
    }({}, n.defaultProps, q2) : q2;
  } }), Nf(g, h), N.warnTooManyClasses = /* @__PURE__ */ function(q2, A2) {
    var X = {}, G = false;
    return function(ct) {
      if (!G && (X[ct] = true, Object.keys(X).length >= 200)) {
        var mt = A2 ? ' with the id of "'.concat(A2, '"') : "";
        console.warn("Over ".concat(200, " classes were generated for component ").concat(q2).concat(mt, `.
`) + `Consider using the attrs method, together with a style object for frequently changed styles.
Example:
  const Component = styled.div.attrs(props => ({
    style: {
      background: props.background,
    },
  }))\`width: 100%;\`

  <Component />`), G = true, X = {};
      }
    };
  }(g, h), Pa(N, function() {
    return ".".concat(N.styledComponentId);
  }), i && Tc(N, r2, { attrs: true, componentStyle: true, displayName: true, foldedComponentIds: true, shouldForwardProp: true, styledComponentId: true, target: true }), N;
}
function Ll(r2, t) {
  for (var e = [r2[0]], s = 0, n = t.length; s < n; s += 1) e.push(t[s], r2[s + 1]);
  return e;
}
var Il = function(r2) {
  return Object.assign(r2, { isCss: true });
};
function um(r2) {
  for (var t = [], e = 1; e < arguments.length; e++) t[e - 1] = arguments[e];
  if (es(r2) || rs(r2)) return Il(mr(Ll(ai, Yr([r2], t, true))));
  var s = r2;
  return t.length === 0 && s.length === 1 && typeof s[0] == "string" ? mr(s) : Il(mr(Ll(s, t)));
}
function Yo(r2, t, e) {
  if (e === void 0 && (e = ts), !t) throw as(1, t);
  var s = function(n) {
    for (var i = [], o2 = 1; o2 < arguments.length; o2++) i[o2 - 1] = arguments[o2];
    return r2(t, e, um.apply(void 0, Yr([n], i, false)));
  };
  return s.attrs = function(n) {
    return Yo(r2, t, Wt(Wt({}, e), { attrs: Array.prototype.concat(e.attrs, n).filter(Boolean) }));
  }, s.withConfig = function(n) {
    return Yo(r2, t, Wt(Wt({}, e), n));
  }, s;
}
var Dc = function(r2) {
  return Yo(lm, r2);
};
var Va = Dc;
Go.forEach(function(r2) {
  Va[r2] = Dc(r2);
});
typeof navigator < "u" && navigator.product === "ReactNative" && console.warn(`It looks like you've imported 'styled-components' on React Native.
Perhaps you're looking to import 'styled-components/native'?
Read more about this at https://www.styled-components.com/docs/basics#react-native`);
var kn = "__sc-".concat(gr, "__");
typeof window < "u" && (window[kn] || (window[kn] = 0), window[kn] === 1 && console.warn(`It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.

See https://s-c.sh/2BAXzed for more info.`), window[kn] += 1);
var cm = Va.div`
  .filepond {
    &--drop-label {
      label {
        color: ${({ $invalid: r2 }) => r2 ? "var(--color-item-primary-destructive)" : "inherit"} !important;
      }
    }

    &--root {
      margin-bottom: 0.5rem;
      border-radius: 0.75rem;
    }

    &--panel {
      border-radius: 0.8rem;
      overflow: hidden;

      &-root {
        background-color: transparent;
      }
    }

    &--drip {
      border: 1px solid
        ${({ $invalid: r2 }) => r2 ? "var(--color-item-primary-destructive)" : "var(--color-border-alpha-strong)"};
      background-color: transparent;
      opacity: 1;
      outline-offset: 2px;
      border-radius: 0.75rem;
    }
  }

  &:focus-within {
    .filepond {
      &--drip {
        outline: 2px solid
          ${({ $invalid: r2 }) => r2 ? "var(--color-item-primary-destructive)" : "var(--color-item-primary-primary)"};
      }
    }
  }
`;
function hm({
  variant: r2 = "default",
  ...t
}) {
  return S.jsx(cm, { $invalid: r2 === "failure", ...t });
}
hm.displayName = "FilepondContainer";
var dm = "Label";
var Fc = C.forwardRef((r2, t) => S.jsx(
  de.label,
  {
    ...r2,
    ref: t,
    onMouseDown: (e) => {
      var s;
      e.target.closest("button, input, select, textarea") || ((s = r2.onMouseDown) == null || s.call(r2, e), !e.defaultPrevented && e.detail > 1 && e.preventDefault());
    }
  }
));
Fc.displayName = dm;
var Pc = Fc;
var pm = (r2) => r2.type === "checkbox";
var fm = (r2) => r2 instanceof Date;
var Vc = (r2) => r2 == null;
var mm = (r2) => typeof r2 == "object";
var Hs = (r2) => !Vc(r2) && !Array.isArray(r2) && mm(r2) && !fm(r2);
var gm = (r2) => Hs(r2) && r2.target ? pm(r2.target) ? r2.target.checked : r2.target.value : r2;
var vm = (r2) => r2.substring(0, r2.search(/\.\d+(\.|$)/)) || r2;
var bm = (r2, t) => r2.has(vm(t));
var ym = (r2) => {
  const t = r2.constructor && r2.constructor.prototype;
  return Hs(t) && t.hasOwnProperty("isPrototypeOf");
};
var km = typeof window < "u" && typeof window.HTMLElement < "u" && typeof document < "u";
function Uc(r2) {
  let t;
  const e = Array.isArray(r2), s = typeof FileList < "u" ? r2 instanceof FileList : false;
  if (r2 instanceof Date)
    t = new Date(r2);
  else if (!(km && (r2 instanceof Blob || s)) && (e || Hs(r2)))
    if (t = e ? [] : {}, !e && !ym(r2))
      t = r2;
    else
      for (const n in r2)
        r2.hasOwnProperty(n) && (t[n] = Uc(r2[n]));
  else
    return r2;
  return t;
}
var $c = (r2) => /^\w*$/.test(r2);
var Jo = (r2) => r2 === void 0;
var xm = (r2) => Array.isArray(r2) ? r2.filter(Boolean) : [];
var zc = (r2) => xm(r2.replace(/["|']|\]/g, "").split(/\.|\[/));
var Gt = (r2, t, e) => {
  if (!t || !Hs(r2))
    return e;
  const s = ($c(t) ? [t] : zc(t)).reduce((n, i) => Vc(n) ? n : n[i], r2);
  return Jo(s) || s === r2 ? Jo(r2[t]) ? e : r2[t] : s;
};
var wo = (r2) => typeof r2 == "boolean";
var ql = (r2, t, e) => {
  let s = -1;
  const n = $c(t) ? [t] : zc(t), i = n.length, o2 = i - 1;
  for (; ++s < i; ) {
    const a = n[s];
    let l = e;
    if (s !== o2) {
      const c = r2[a];
      l = Hs(c) || Array.isArray(c) ? c : isNaN(+n[s + 1]) ? {} : [];
    }
    if (a === "__proto__" || a === "constructor" || a === "prototype")
      return;
    r2[a] = l, r2 = r2[a];
  }
};
var jl = {
  BLUR: "blur",
  CHANGE: "change"
};
var Ml = {
  all: "all"
};
var Ua = import_react.default.createContext(null);
Ua.displayName = "HookFormContext";
var li = () => import_react.default.useContext(Ua);
var wm = (r2) => {
  const { children: t, ...e } = r2;
  return import_react.default.createElement(Ua.Provider, { value: e }, t);
};
var Em = (r2, t, e, s = true) => {
  const n = {
    defaultValues: t._defaultValues
  };
  for (const i in r2)
    Object.defineProperty(n, i, {
      get: () => {
        const o2 = i;
        return t._proxyFormState[o2] !== Ml.all && (t._proxyFormState[o2] = !s || Ml.all), e && (e[o2] = true), r2[o2];
      }
    });
  return n;
};
var Hc = typeof window < "u" ? C.useLayoutEffect : C.useEffect;
function _m(r2) {
  const t = li(), { control: e = t.control, disabled: s, name: n, exact: i } = r2 || {}, [o2, a] = import_react.default.useState(e._formState), l = import_react.default.useRef({
    isDirty: false,
    isLoading: false,
    dirtyFields: false,
    touchedFields: false,
    validatingFields: false,
    isValidating: false,
    isValid: false,
    errors: false
  });
  return Hc(() => e._subscribe({
    name: n,
    formState: l.current,
    exact: i,
    callback: (c) => {
      !s && a({
        ...e._formState,
        ...c
      });
    }
  }), [n, s, i]), import_react.default.useEffect(() => {
    l.current.isValid && e._setValid(true);
  }, [e]), import_react.default.useMemo(() => Em(o2, e, l.current, false), [o2, e]);
}
var Am = (r2) => typeof r2 == "string";
var Nm = (r2, t, e, s, n) => Am(r2) ? Gt(e, r2, n) : Array.isArray(r2) ? r2.map((i) => Gt(e, i)) : e;
function Sm(r2) {
  const t = li(), { control: e = t.control, name: s, defaultValue: n, disabled: i, exact: o2 } = r2 || {}, a = import_react.default.useRef(n), [l, c] = import_react.default.useState(e._getWatch(s, a.current));
  return Hc(() => e._subscribe({
    name: s,
    formState: {
      values: true
    },
    exact: o2,
    callback: (d2) => !i && c(Nm(s, e._names, d2.values || e._formValues, false, a.current))
  }), [s, e, i, o2]), import_react.default.useEffect(() => e._removeUnmounted()), l;
}
function Cm(r2) {
  const t = li(), { name: e, disabled: s, control: n = t.control, shouldUnregister: i } = r2, o2 = bm(n._names.array, e), a = Sm({
    control: n,
    name: e,
    defaultValue: Gt(n._formValues, e, Gt(n._defaultValues, e, r2.defaultValue)),
    exact: true
  }), l = _m({
    control: n,
    name: e,
    exact: true
  }), c = import_react.default.useRef(r2), d2 = import_react.default.useRef(n.register(e, {
    ...r2.rules,
    value: a,
    ...wo(r2.disabled) ? { disabled: r2.disabled } : {}
  })), g = import_react.default.useMemo(() => Object.defineProperties({}, {
    invalid: {
      enumerable: true,
      get: () => !!Gt(l.errors, e)
    },
    isDirty: {
      enumerable: true,
      get: () => !!Gt(l.dirtyFields, e)
    },
    isTouched: {
      enumerable: true,
      get: () => !!Gt(l.touchedFields, e)
    },
    isValidating: {
      enumerable: true,
      get: () => !!Gt(l.validatingFields, e)
    },
    error: {
      enumerable: true,
      get: () => Gt(l.errors, e)
    }
  }), [l, e]), h = import_react.default.useCallback((k) => d2.current.onChange({
    target: {
      value: gm(k),
      name: e
    },
    type: jl.CHANGE
  }), [e]), f = import_react.default.useCallback(() => d2.current.onBlur({
    target: {
      value: Gt(n._formValues, e),
      name: e
    },
    type: jl.BLUR
  }), [e, n._formValues]), v = import_react.default.useCallback((k) => {
    const _ = Gt(n._fields, e);
    _ && k && (_._f.ref = {
      focus: () => k.focus && k.focus(),
      select: () => k.select && k.select(),
      setCustomValidity: (E) => k.setCustomValidity(E),
      reportValidity: () => k.reportValidity()
    });
  }, [n._fields, e]), m = import_react.default.useMemo(() => ({
    name: e,
    value: a,
    ...wo(s) || l.disabled ? { disabled: l.disabled || s } : {},
    onChange: h,
    onBlur: f,
    ref: v
  }), [e, s, l.disabled, h, f, v, a]);
  return import_react.default.useEffect(() => {
    const k = n._options.shouldUnregister || i;
    n.register(e, {
      ...c.current.rules,
      ...wo(c.current.disabled) ? { disabled: c.current.disabled } : {}
    });
    const _ = (E, N) => {
      const q2 = Gt(n._fields, E);
      q2 && q2._f && (q2._f.mount = N);
    };
    if (_(e, true), k) {
      const E = Uc(Gt(n._options.defaultValues, e));
      ql(n._defaultValues, e, E), Jo(Gt(n._formValues, e)) && ql(n._formValues, e, E);
    }
    return !o2 && n.register(e), () => {
      (o2 ? k && !n._state.action : k) ? n.unregister(e) : _(e, false);
    };
  }, [e, n, o2, i]), import_react.default.useEffect(() => {
    n._setDisabledField({
      disabled: s,
      name: e
    });
  }, [s, e, n]), import_react.default.useMemo(() => ({
    field: m,
    formState: l,
    fieldState: g
  }), [m, l, g]);
}
var Om = (r2) => r2.render(Cm(r2));
var Tm = w(
  "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
);
var Kc = C.forwardRef(({ className: r2, ...t }, e) => S.jsx(
  Pc,
  {
    ref: e,
    className: mo(Tm(), r2),
    ...t
  }
));
Kc.displayName = Pc.displayName;
var aw = wm;
var Gc = C.createContext(
  {}
);
var lw = ({
  ...r2
}) => S.jsx(Gc.Provider, { value: { name: r2.name }, children: S.jsx(Om, { ...r2 }) });
var ui2 = () => {
  const r2 = C.useContext(Gc), t = C.useContext(Wc), { getFieldState: e, formState: s } = li(), n = e(r2.name, s);
  if (!r2)
    throw new Error("useFormField should be used within <FormField>");
  const { id: i } = t;
  return {
    id: i,
    name: r2.name,
    formItemId: `${i}-form-item`,
    formDescriptionId: `${i}-form-item-description`,
    formMessageId: `${i}-form-item-message`,
    ...n
  };
};
var Wc = C.createContext(
  {}
);
var Rm = C.forwardRef(({ className: r2, ...t }, e) => {
  const s = C.useId();
  return S.jsx(Wc.Provider, { value: { id: s }, children: S.jsx(
    "div",
    {
      ref: e,
      className: mo("relative space-y-2", r2),
      ...t
    }
  ) });
});
Rm.displayName = "FormItem";
var Lm = C.forwardRef(({ className: r2, ...t }, e) => {
  const { error: s, formItemId: n } = ui2();
  return S.jsx(
    Kc,
    {
      ref: e,
      className: mo(
        "!text-body-xs-medium",
        r2,
        s && "text-destructive"
      ),
      htmlFor: n,
      ...t
    }
  );
});
Lm.displayName = "FormLabel";
var Im = C.forwardRef(({ ...r2 }, t) => {
  const { error: e, formItemId: s, formDescriptionId: n, formMessageId: i } = ui2();
  return S.jsx(
    qe,
    {
      ref: t,
      id: s,
      "aria-describedby": e ? `${n} ${i}` : `${n}`,
      "aria-invalid": !!e,
      ...r2
    }
  );
});
Im.displayName = "FormControl";
var qm = C.forwardRef(({ className: r2, ...t }, e) => {
  const { formDescriptionId: s } = ui2();
  return S.jsx(
    "p",
    {
      ref: e,
      id: s,
      className: mo("text-muted-foreground text-sm", r2),
      ...t
    }
  );
});
qm.displayName = "FormDescription";
var jm = C.forwardRef(({ className: r2, children: t, ...e }, s) => {
  const { error: n, formMessageId: i } = ui2(), o2 = n ? String(n == null ? void 0 : n.message) : t;
  return o2 ? S.jsx(
    "p",
    {
      ref: s,
      id: i,
      className: mo("!text-body-xs-medium text-destructive", r2),
      ...e,
      children: o2
    }
  ) : null;
});
jm.displayName = "FormMessage";
var ci = "Switch";
var [Mm, uw] = He(ci);
var [Bm, Dm] = Mm(ci);
var Zc = C.forwardRef(
  (r2, t) => {
    const {
      __scopeSwitch: e,
      name: s,
      checked: n,
      defaultChecked: i,
      required: o2,
      disabled: a,
      value: l = "on",
      onCheckedChange: c,
      form: d2,
      ...g
    } = r2, [h, f] = C.useState(null), v = H(t, (N) => f(N)), m = C.useRef(false), k = h ? d2 || !!h.closest("form") : true, [_, E] = Qe({
      prop: n,
      defaultProp: i ?? false,
      onChange: c,
      caller: ci
    });
    return S.jsxs(Bm, { scope: e, checked: _, disabled: a, children: [
      S.jsx(
        de.button,
        {
          type: "button",
          role: "switch",
          "aria-checked": _,
          "aria-required": o2,
          "data-state": Qc(_),
          "data-disabled": a ? "" : void 0,
          disabled: a,
          value: l,
          ...g,
          ref: v,
          onClick: J(r2.onClick, (N) => {
            E((q2) => !q2), k && (m.current = N.isPropagationStopped(), m.current || N.stopPropagation());
          })
        }
      ),
      k && S.jsx(
        Jc,
        {
          control: h,
          bubbles: !m.current,
          name: s,
          value: l,
          checked: _,
          required: o2,
          disabled: a,
          form: d2,
          style: { transform: "translateX(-100%)" }
        }
      )
    ] });
  }
);
Zc.displayName = ci;
var Xc = "SwitchThumb";
var Yc = C.forwardRef(
  (r2, t) => {
    const { __scopeSwitch: e, ...s } = r2, n = Dm(Xc, e);
    return S.jsx(
      de.span,
      {
        "data-state": Qc(n.checked),
        "data-disabled": n.disabled ? "" : void 0,
        ...s,
        ref: t
      }
    );
  }
);
Yc.displayName = Xc;
var Fm = "SwitchBubbleInput";
var Jc = C.forwardRef(
  ({
    __scopeSwitch: r2,
    control: t,
    checked: e,
    bubbles: s = true,
    ...n
  }, i) => {
    const o2 = C.useRef(null), a = H(o2, i), l = ti(e), c = Yn(t);
    return C.useEffect(() => {
      const d2 = o2.current;
      if (!d2) return;
      const g = window.HTMLInputElement.prototype, h = Object.getOwnPropertyDescriptor(
        g,
        "checked"
      ).set;
      if (l !== e && h) {
        const f = new Event("click", { bubbles: s });
        h.call(d2, e), d2.dispatchEvent(f);
      }
    }, [l, e, s]), S.jsx(
      "input",
      {
        type: "checkbox",
        "aria-hidden": true,
        defaultChecked: e,
        ...n,
        tabIndex: -1,
        ref: a,
        style: {
          ...n.style,
          ...c,
          position: "absolute",
          pointerEvents: "none",
          opacity: 0,
          margin: 0
        }
      }
    );
  }
);
Jc.displayName = Fm;
function Qc(r2) {
  return r2 ? "checked" : "unchecked";
}
var th = Zc;
var Pm = Yc;
var Vm = C.forwardRef(({ className: r2, ...t }, e) => S.jsx(
  th,
  {
    className: mo(
      "peer focus-visible:ring-ring focus-visible:ring-offset-background data-[state=checked]:bg-item-primary data-[state=unchecked]:bg-input inline-flex h-4 w-7 shrink-0 cursor-pointer items-center rounded-full border border-transparent transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-40",
      r2
    ),
    ...t,
    ref: e,
    children: S.jsx(
      Pm,
      {
        className: mo(
          "bg-background pointer-events-none block size-3.5 rounded-full shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-3 data-[state=unchecked]:translate-x-0"
        )
      }
    )
  }
));
Vm.displayName = th.displayName;
var Um = C.forwardRef(
  ({ className: r2, variant: t, ...e }, s) => S.jsx(
    "textarea",
    {
      className: mo(
        "min-h-20 px-3 py-2",
        ja({ variant: t }),
        r2
      ),
      ref: s,
      ...e
    }
  )
);
Um.displayName = "Textarea";
var $m = [" ", "Enter", "ArrowUp", "ArrowDown"];
var zm = [" ", "Enter"];
var vr = "Select";
var [hi, di, Hm] = ee(vr);
var [ls, cw] = He(vr, [
  Hm,
  Qn
]);
var pi = Qn();
var [Km, Je] = ls(vr);
var [Gm, Wm] = ls(vr);
var eh = (r2) => {
  const {
    __scopeSelect: t,
    children: e,
    open: s,
    defaultOpen: n,
    onOpenChange: i,
    value: o2,
    defaultValue: a,
    onValueChange: l,
    dir: c,
    name: d2,
    autoComplete: g,
    disabled: h,
    required: f,
    form: v
  } = r2, m = pi(t), [k, _] = C.useState(null), [E, N] = C.useState(null), [q2, A2] = C.useState(false), X = W(c), [G, ct] = Qe({
    prop: s,
    defaultProp: n ?? false,
    onChange: i,
    caller: vr
  }), [mt, xt] = Qe({
    prop: o2,
    defaultProp: a,
    onChange: l,
    caller: vr
  }), b = C.useRef(null), M = k ? v || !!k.closest("form") : true, [x, $] = C.useState(/* @__PURE__ */ new Set()), P = Array.from(x).map((S2) => S2.props.value).join(";");
  return S.jsx(er, { ...m, children: S.jsxs(
    Km,
    {
      required: f,
      scope: t,
      trigger: k,
      onTriggerChange: _,
      valueNode: E,
      onValueNodeChange: N,
      valueNodeHasChildren: q2,
      onValueNodeHasChildrenChange: A2,
      contentId: Ze(),
      value: mt,
      onValueChange: xt,
      open: G,
      onOpenChange: ct,
      dir: X,
      triggerPointerDownPosRef: b,
      disabled: h,
      children: [
        S.jsx(hi.Provider, { scope: t, children: S.jsx(
          Gm,
          {
            scope: r2.__scopeSelect,
            onNativeOptionAdd: C.useCallback((S2) => {
              $((B) => new Set(B).add(S2));
            }, []),
            onNativeOptionRemove: C.useCallback((S2) => {
              $((B) => {
                const W2 = new Set(B);
                return W2.delete(S2), W2;
              });
            }, []),
            children: e
          }
        ) }),
        M ? S.jsxs(
          Nh,
          {
            "aria-hidden": true,
            required: f,
            tabIndex: -1,
            name: d2,
            autoComplete: g,
            value: mt,
            onChange: (S2) => xt(S2.target.value),
            disabled: h,
            form: v,
            children: [
              mt === void 0 ? S.jsx("option", { value: "" }) : null,
              Array.from(x)
            ]
          },
          P
        ) : null
      ]
    }
  ) });
};
eh.displayName = vr;
var rh = "SelectTrigger";
var sh = C.forwardRef(
  (r2, t) => {
    const { __scopeSelect: e, disabled: s = false, ...n } = r2, i = pi(e), o2 = Je(rh, e), a = o2.disabled || s, l = H(t, o2.onTriggerChange), c = di(e), d2 = C.useRef("touch"), [g, h, f] = Ch((m) => {
      const k = c().filter((N) => !N.disabled), _ = k.find((N) => N.value === o2.value), E = Oh(k, m, _);
      E !== void 0 && o2.onValueChange(E.value);
    }), v = (m) => {
      a || (o2.onOpenChange(true), f()), m && (o2.triggerPointerDownPosRef.current = {
        x: Math.round(m.pageX),
        y: Math.round(m.pageY)
      });
    };
    return S.jsx(tr, { asChild: true, ...i, children: S.jsx(
      de.button,
      {
        type: "button",
        role: "combobox",
        "aria-controls": o2.contentId,
        "aria-expanded": o2.open,
        "aria-required": o2.required,
        "aria-autocomplete": "none",
        dir: o2.dir,
        "data-state": o2.open ? "open" : "closed",
        disabled: a,
        "data-disabled": a ? "" : void 0,
        "data-placeholder": Sh(o2.value) ? "" : void 0,
        ...n,
        ref: l,
        onClick: J(n.onClick, (m) => {
          m.currentTarget.focus(), d2.current !== "mouse" && v(m);
        }),
        onPointerDown: J(n.onPointerDown, (m) => {
          d2.current = m.pointerType;
          const k = m.target;
          k.hasPointerCapture(m.pointerId) && k.releasePointerCapture(m.pointerId), m.button === 0 && m.ctrlKey === false && m.pointerType === "mouse" && (v(m), m.preventDefault());
        }),
        onKeyDown: J(n.onKeyDown, (m) => {
          const k = g.current !== "";
          !(m.ctrlKey || m.altKey || m.metaKey) && m.key.length === 1 && h(m.key), !(k && m.key === " ") && $m.includes(m.key) && (v(), m.preventDefault());
        })
      }
    ) });
  }
);
sh.displayName = rh;
var nh = "SelectValue";
var ih = C.forwardRef(
  (r2, t) => {
    const { __scopeSelect: e, className: s, style: n, children: i, placeholder: o2 = "", ...a } = r2, l = Je(nh, e), { onValueNodeHasChildrenChange: c } = l, d2 = i !== void 0, g = H(t, l.onValueNodeChange);
    return A(() => {
      c(d2);
    }, [c, d2]), S.jsx(
      de.span,
      {
        ...a,
        ref: g,
        style: { pointerEvents: "none" },
        children: Sh(l.value) ? S.jsx(S.Fragment, { children: o2 }) : i
      }
    );
  }
);
ih.displayName = nh;
var Zm = "SelectIcon";
var oh = C.forwardRef(
  (r2, t) => {
    const { __scopeSelect: e, children: s, ...n } = r2;
    return S.jsx(de.span, { "aria-hidden": true, ...n, ref: t, children: s || "" });
  }
);
oh.displayName = Zm;
var Xm = "SelectPortal";
var ah = (r2) => S.jsx(Oe, { asChild: true, ...r2 });
ah.displayName = Xm;
var br = "SelectContent";
var lh = C.forwardRef(
  (r2, t) => {
    const e = Je(br, r2.__scopeSelect), [s, n] = C.useState();
    if (A(() => {
      n(new DocumentFragment());
    }, []), !e.open) {
      const i = s;
      return i ? sc.createPortal(
        S.jsx(uh, { scope: r2.__scopeSelect, children: S.jsx(hi.Slot, { scope: r2.__scopeSelect, children: S.jsx("div", { children: r2.children }) }) }),
        i
      ) : null;
    }
    return S.jsx(ch, { ...r2, ref: t });
  }
);
lh.displayName = br;
var oe = 10;
var [uh, Qe2] = ls(br);
var Ym = "SelectContentImpl";
var Jm = ce("SelectContent.RemoveScroll");
var ch = C.forwardRef(
  (r2, t) => {
    const {
      __scopeSelect: e,
      position: s = "item-aligned",
      onCloseAutoFocus: n,
      onEscapeKeyDown: i,
      onPointerDownOutside: o2,
      //
      // PopperContent props
      side: a,
      sideOffset: l,
      align: c,
      alignOffset: d2,
      arrowPadding: g,
      collisionBoundary: h,
      collisionPadding: f,
      sticky: v,
      hideWhenDetached: m,
      avoidCollisions: k,
      //
      ..._
    } = r2, E = Je(br, e), [N, q2] = C.useState(null), [A2, X] = C.useState(null), G = H(t, (j) => q2(j)), [ct, mt] = C.useState(null), [xt, b] = C.useState(
      null
    ), M = di(e), [x, $] = C.useState(false), P = C.useRef(false);
    C.useEffect(() => {
      if (N) return Tt(N);
    }, [N]), Mt();
    const S2 = C.useCallback(
      (j) => {
        const [D, ...H2] = M().map((T) => T.ref.current), [F] = H2.slice(-1), J2 = document.activeElement;
        for (const T of j)
          if (T === J2 || (T == null || T.scrollIntoView({ block: "nearest" }), T === D && A2 && (A2.scrollTop = 0), T === F && A2 && (A2.scrollTop = A2.scrollHeight), T == null || T.focus(), document.activeElement !== J2)) return;
      },
      [M, A2]
    ), B = C.useCallback(
      () => S2([ct, N]),
      [S2, ct, N]
    );
    C.useEffect(() => {
      x && B();
    }, [x, B]);
    const { onOpenChange: W2, triggerPointerDownPosRef: Z } = E;
    C.useEffect(() => {
      if (N) {
        let j = { x: 0, y: 0 };
        const D = (F) => {
          var J2, T;
          j = {
            x: Math.abs(Math.round(F.pageX) - (((J2 = Z.current) == null ? void 0 : J2.x) ?? 0)),
            y: Math.abs(Math.round(F.pageY) - (((T = Z.current) == null ? void 0 : T.y) ?? 0))
          };
        }, H2 = (F) => {
          j.x <= 10 && j.y <= 10 ? F.preventDefault() : N.contains(F.target) || W2(false), document.removeEventListener("pointermove", D), Z.current = null;
        };
        return Z.current !== null && (document.addEventListener("pointermove", D), document.addEventListener("pointerup", H2, { capture: true, once: true })), () => {
          document.removeEventListener("pointermove", D), document.removeEventListener("pointerup", H2, { capture: true });
        };
      }
    }, [N, W2, Z]), C.useEffect(() => {
      const j = () => W2(false);
      return window.addEventListener("blur", j), window.addEventListener("resize", j), () => {
        window.removeEventListener("blur", j), window.removeEventListener("resize", j);
      };
    }, [W2]);
    const [w2, L] = Ch((j) => {
      const D = M().filter((J2) => !J2.disabled), H2 = D.find((J2) => J2.ref.current === document.activeElement), F = Oh(D, j, H2);
      F && setTimeout(() => F.ref.current.focus());
    }), V = C.useCallback(
      (j, D, H2) => {
        const F = !P.current && !H2;
        (E.value !== void 0 && E.value === D || F) && (mt(j), F && (P.current = true));
      },
      [E.value]
    ), K = C.useCallback(() => N == null ? void 0 : N.focus(), [N]), z = C.useCallback(
      (j, D, H2) => {
        const F = !P.current && !H2;
        (E.value !== void 0 && E.value === D || F) && b(j);
      },
      [E.value]
    ), U = s === "popper" ? Qo : hh, Y = U === Qo ? {
      side: a,
      sideOffset: l,
      align: c,
      alignOffset: d2,
      arrowPadding: g,
      collisionBoundary: h,
      collisionPadding: f,
      sticky: v,
      hideWhenDetached: m,
      avoidCollisions: k
    } : {};
    return S.jsx(
      uh,
      {
        scope: e,
        content: N,
        viewport: A2,
        onViewportChange: X,
        itemRefCallback: V,
        selectedItem: ct,
        onItemLeave: K,
        itemTextRefCallback: z,
        focusSelectedItem: B,
        selectedItemText: xt,
        position: s,
        isPositioned: x,
        searchRef: w2,
        children: S.jsx(ht, { as: Jm, allowPinchZoom: true, children: S.jsx(
          ke,
          {
            asChild: true,
            trapped: E.open,
            onMountAutoFocus: (j) => {
              j.preventDefault();
            },
            onUnmountAutoFocus: J(n, (j) => {
              var D;
              (D = E.trigger) == null || D.focus({ preventScroll: true }), j.preventDefault();
            }),
            children: S.jsx(
              ze,
              {
                asChild: true,
                disableOutsidePointerEvents: true,
                onEscapeKeyDown: i,
                onPointerDownOutside: o2,
                onFocusOutside: (j) => j.preventDefault(),
                onDismiss: () => E.onOpenChange(false),
                children: S.jsx(
                  U,
                  {
                    role: "listbox",
                    id: E.contentId,
                    "data-state": E.open ? "open" : "closed",
                    dir: E.dir,
                    onContextMenu: (j) => j.preventDefault(),
                    ..._,
                    ...Y,
                    onPlaced: () => $(true),
                    ref: G,
                    style: {
                      // flex layout so we can place the scroll buttons properly
                      display: "flex",
                      flexDirection: "column",
                      // reset the outline by default as the content MAY get focused
                      outline: "none",
                      ..._.style
                    },
                    onKeyDown: J(_.onKeyDown, (j) => {
                      const D = j.ctrlKey || j.altKey || j.metaKey;
                      if (j.key === "Tab" && j.preventDefault(), !D && j.key.length === 1 && L(j.key), ["ArrowUp", "ArrowDown", "Home", "End"].includes(j.key)) {
                        let H2 = M().filter((F) => !F.disabled).map((F) => F.ref.current);
                        if (["ArrowUp", "End"].includes(j.key) && (H2 = H2.slice().reverse()), ["ArrowUp", "ArrowDown"].includes(j.key)) {
                          const F = j.target, J2 = H2.indexOf(F);
                          H2 = H2.slice(J2 + 1);
                        }
                        setTimeout(() => S2(H2)), j.preventDefault();
                      }
                    })
                  }
                )
              }
            )
          }
        ) })
      }
    );
  }
);
ch.displayName = Ym;
var Qm = "SelectItemAlignedPosition";
var hh = C.forwardRef((r2, t) => {
  const { __scopeSelect: e, onPlaced: s, ...n } = r2, i = Je(br, e), o2 = Qe2(br, e), [a, l] = C.useState(null), [c, d2] = C.useState(null), g = H(t, (G) => d2(G)), h = di(e), f = C.useRef(false), v = C.useRef(true), { viewport: m, selectedItem: k, selectedItemText: _, focusSelectedItem: E } = o2, N = C.useCallback(() => {
    if (i.trigger && i.valueNode && a && c && m && k && _) {
      const G = i.trigger.getBoundingClientRect(), ct = c.getBoundingClientRect(), mt = i.valueNode.getBoundingClientRect(), xt = _.getBoundingClientRect();
      if (i.dir !== "rtl") {
        const F = xt.left - ct.left, J2 = mt.left - F, T = G.left - J2, at = G.width + T, yt = Math.max(at, ct.width), At = window.innerWidth - oe, _e = ml(J2, [
          oe,
          // Prevents the content from going off the starting edge of the
          // viewport. It may still go off the ending edge, but this can be
          // controlled by the user since they may want to manage overflow in a
          // specific way.
          // https://github.com/radix-ui/primitives/issues/2049
          Math.max(oe, At - yt)
        ]);
        a.style.minWidth = at + "px", a.style.left = _e + "px";
      } else {
        const F = ct.right - xt.right, J2 = window.innerWidth - mt.right - F, T = window.innerWidth - G.right - J2, at = G.width + T, yt = Math.max(at, ct.width), At = window.innerWidth - oe, _e = ml(J2, [
          oe,
          Math.max(oe, At - yt)
        ]);
        a.style.minWidth = at + "px", a.style.right = _e + "px";
      }
      const b = h(), M = window.innerHeight - oe * 2, x = m.scrollHeight, $ = window.getComputedStyle(c), P = parseInt($.borderTopWidth, 10), S2 = parseInt($.paddingTop, 10), B = parseInt($.borderBottomWidth, 10), W2 = parseInt($.paddingBottom, 10), Z = P + S2 + x + W2 + B, w2 = Math.min(k.offsetHeight * 5, Z), L = window.getComputedStyle(m), V = parseInt(L.paddingTop, 10), K = parseInt(L.paddingBottom, 10), z = G.top + G.height / 2 - oe, U = M - z, Y = k.offsetHeight / 2, j = k.offsetTop + Y, D = P + S2 + j, H2 = Z - D;
      if (D <= z) {
        const F = b.length > 0 && k === b[b.length - 1].ref.current;
        a.style.bottom = "0px";
        const J2 = c.clientHeight - m.offsetTop - m.offsetHeight, T = Math.max(
          U,
          Y + // viewport might have padding bottom, include it to avoid a scrollable viewport
          (F ? K : 0) + J2 + B
        ), at = D + T;
        a.style.height = at + "px";
      } else {
        const F = b.length > 0 && k === b[0].ref.current;
        a.style.top = "0px";
        const J2 = Math.max(
          z,
          P + m.offsetTop + // viewport might have padding top, include it to avoid a scrollable viewport
          (F ? V : 0) + Y
        ) + H2;
        a.style.height = J2 + "px", m.scrollTop = D - z + m.offsetTop;
      }
      a.style.margin = `${oe}px 0`, a.style.minHeight = w2 + "px", a.style.maxHeight = M + "px", s == null || s(), requestAnimationFrame(() => f.current = true);
    }
  }, [
    h,
    i.trigger,
    i.valueNode,
    a,
    c,
    m,
    k,
    _,
    i.dir,
    s
  ]);
  A(() => N(), [N]);
  const [q2, A2] = C.useState();
  A(() => {
    c && A2(window.getComputedStyle(c).zIndex);
  }, [c]);
  const X = C.useCallback(
    (G) => {
      G && v.current === true && (N(), E == null || E(), v.current = false);
    },
    [N, E]
  );
  return S.jsx(
    eg,
    {
      scope: e,
      contentWrapper: a,
      shouldExpandOnScrollRef: f,
      onScrollButtonChange: X,
      children: S.jsx(
        "div",
        {
          ref: l,
          style: {
            display: "flex",
            flexDirection: "column",
            position: "fixed",
            zIndex: q2
          },
          children: S.jsx(
            de.div,
            {
              ...n,
              ref: g,
              style: {
                // When we get the height of the content, it includes borders. If we were to set
                // the height without having `boxSizing: 'border-box'` it would be too big.
                boxSizing: "border-box",
                // We need to ensure the content doesn't get taller than the wrapper
                maxHeight: "100%",
                ...n.style
              }
            }
          )
        }
      )
    }
  );
});
hh.displayName = Qm;
var tg = "SelectPopperPosition";
var Qo = C.forwardRef((r2, t) => {
  const {
    __scopeSelect: e,
    align: s = "start",
    collisionPadding: n = oe,
    ...i
  } = r2, o2 = pi(e);
  return S.jsx(
    nr,
    {
      ...o2,
      ...i,
      ref: t,
      align: s,
      collisionPadding: n,
      style: {
        // Ensure border-box for floating-ui calculations
        boxSizing: "border-box",
        ...i.style,
        "--radix-select-content-transform-origin": "var(--radix-popper-transform-origin)",
        "--radix-select-content-available-width": "var(--radix-popper-available-width)",
        "--radix-select-content-available-height": "var(--radix-popper-available-height)",
        "--radix-select-trigger-width": "var(--radix-popper-anchor-width)",
        "--radix-select-trigger-height": "var(--radix-popper-anchor-height)"
      }
    }
  );
});
Qo.displayName = tg;
var [eg, $a] = ls(br, {});
var ta = "SelectViewport";
var dh = C.forwardRef(
  (r2, t) => {
    const { __scopeSelect: e, nonce: s, ...n } = r2, i = Qe2(ta, e), o2 = $a(ta, e), a = H(t, i.onViewportChange), l = C.useRef(0);
    return S.jsxs(S.Fragment, { children: [
      S.jsx(
        "style",
        {
          dangerouslySetInnerHTML: {
            __html: "[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"
          },
          nonce: s
        }
      ),
      S.jsx(hi.Slot, { scope: e, children: S.jsx(
        de.div,
        {
          "data-radix-select-viewport": "",
          role: "presentation",
          ...n,
          ref: a,
          style: {
            // we use position: 'relative' here on the `viewport` so that when we call
            // `selectedItem.offsetTop` in calculations, the offset is relative to the viewport
            // (independent of the scrollUpButton).
            position: "relative",
            flex: 1,
            // Viewport should only be scrollable in the vertical direction.
            // This won't work in vertical writing modes, so we'll need to
            // revisit this if/when that is supported
            // https://developer.chrome.com/blog/vertical-form-controls
            overflow: "hidden auto",
            ...n.style
          },
          onScroll: J(n.onScroll, (c) => {
            const d2 = c.currentTarget, { contentWrapper: g, shouldExpandOnScrollRef: h } = o2;
            if (h != null && h.current && g) {
              const f = Math.abs(l.current - d2.scrollTop);
              if (f > 0) {
                const v = window.innerHeight - oe * 2, m = parseFloat(g.style.minHeight), k = parseFloat(g.style.height), _ = Math.max(m, k);
                if (_ < v) {
                  const E = _ + f, N = Math.min(v, E), q2 = E - N;
                  g.style.height = N + "px", g.style.bottom === "0px" && (d2.scrollTop = q2 > 0 ? q2 : 0, g.style.justifyContent = "flex-end");
                }
              }
            }
            l.current = d2.scrollTop;
          })
        }
      ) })
    ] });
  }
);
dh.displayName = ta;
var ph = "SelectGroup";
var [rg, sg] = ls(ph);
var fh = C.forwardRef(
  (r2, t) => {
    const { __scopeSelect: e, ...s } = r2, n = Ze();
    return S.jsx(rg, { scope: e, id: n, children: S.jsx(de.div, { role: "group", "aria-labelledby": n, ...s, ref: t }) });
  }
);
fh.displayName = ph;
var mh = "SelectLabel";
var gh = C.forwardRef(
  (r2, t) => {
    const { __scopeSelect: e, ...s } = r2, n = sg(mh, e);
    return S.jsx(de.div, { id: n.id, ...s, ref: t });
  }
);
gh.displayName = mh;
var Gn = "SelectItem";
var [ng, vh] = ls(Gn);
var bh = C.forwardRef(
  (r2, t) => {
    const {
      __scopeSelect: e,
      value: s,
      disabled: n = false,
      textValue: i,
      ...o2
    } = r2, a = Je(Gn, e), l = Qe2(Gn, e), c = a.value === s, [d2, g] = C.useState(i ?? ""), [h, f] = C.useState(false), v = H(
      t,
      (E) => {
        var N;
        return (N = l.itemRefCallback) == null ? void 0 : N.call(l, E, s, n);
      }
    ), m = Ze(), k = C.useRef("touch"), _ = () => {
      n || (a.onValueChange(s), a.onOpenChange(false));
    };
    if (s === "")
      throw new Error(
        "A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder."
      );
    return S.jsx(
      ng,
      {
        scope: e,
        value: s,
        disabled: n,
        textId: m,
        isSelected: c,
        onItemTextChange: C.useCallback((E) => {
          g((N) => N || ((E == null ? void 0 : E.textContent) ?? "").trim());
        }, []),
        children: S.jsx(
          hi.ItemSlot,
          {
            scope: e,
            value: s,
            disabled: n,
            textValue: d2,
            children: S.jsx(
              de.div,
              {
                role: "option",
                "aria-labelledby": m,
                "data-highlighted": h ? "" : void 0,
                "aria-selected": c && h,
                "data-state": c ? "checked" : "unchecked",
                "aria-disabled": n || void 0,
                "data-disabled": n ? "" : void 0,
                tabIndex: n ? void 0 : -1,
                ...o2,
                ref: v,
                onFocus: J(o2.onFocus, () => f(true)),
                onBlur: J(o2.onBlur, () => f(false)),
                onClick: J(o2.onClick, () => {
                  k.current !== "mouse" && _();
                }),
                onPointerUp: J(o2.onPointerUp, () => {
                  k.current === "mouse" && _();
                }),
                onPointerDown: J(o2.onPointerDown, (E) => {
                  k.current = E.pointerType;
                }),
                onPointerMove: J(o2.onPointerMove, (E) => {
                  var N;
                  k.current = E.pointerType, n ? (N = l.onItemLeave) == null || N.call(l) : k.current === "mouse" && E.currentTarget.focus({ preventScroll: true });
                }),
                onPointerLeave: J(o2.onPointerLeave, (E) => {
                  var N;
                  E.currentTarget === document.activeElement && ((N = l.onItemLeave) == null || N.call(l));
                }),
                onKeyDown: J(o2.onKeyDown, (E) => {
                  var N;
                  ((N = l.searchRef) == null ? void 0 : N.current) !== "" && E.key === " " || (zm.includes(E.key) && _(), E.key === " " && E.preventDefault());
                })
              }
            )
          }
        )
      }
    );
  }
);
bh.displayName = Gn;
var Cs = "SelectItemText";
var yh = C.forwardRef(
  (r2, t) => {
    const { __scopeSelect: e, className: s, style: n, ...i } = r2, o2 = Je(Cs, e), a = Qe2(Cs, e), l = vh(Cs, e), c = Wm(Cs, e), [d2, g] = C.useState(null), h = H(
      t,
      (_) => g(_),
      l.onItemTextChange,
      (_) => {
        var E;
        return (E = a.itemTextRefCallback) == null ? void 0 : E.call(a, _, l.value, l.disabled);
      }
    ), f = d2 == null ? void 0 : d2.textContent, v = C.useMemo(
      () => S.jsx("option", { value: l.value, disabled: l.disabled, children: f }, l.value),
      [l.disabled, l.value, f]
    ), { onNativeOptionAdd: m, onNativeOptionRemove: k } = c;
    return A(() => (m(v), () => k(v)), [m, k, v]), S.jsxs(S.Fragment, { children: [
      S.jsx(de.span, { id: l.textId, ...i, ref: h }),
      l.isSelected && o2.valueNode && !o2.valueNodeHasChildren ? sc.createPortal(i.children, o2.valueNode) : null
    ] });
  }
);
yh.displayName = Cs;
var kh = "SelectItemIndicator";
var xh = C.forwardRef(
  (r2, t) => {
    const { __scopeSelect: e, ...s } = r2;
    return vh(kh, e).isSelected ? S.jsx(de.span, { "aria-hidden": true, ...s, ref: t }) : null;
  }
);
xh.displayName = kh;
var ea = "SelectScrollUpButton";
var wh = C.forwardRef((r2, t) => {
  const e = Qe2(ea, r2.__scopeSelect), s = $a(ea, r2.__scopeSelect), [n, i] = C.useState(false), o2 = H(t, s.onScrollButtonChange);
  return A(() => {
    if (e.viewport && e.isPositioned) {
      let a = function() {
        const c = l.scrollTop > 0;
        i(c);
      };
      const l = e.viewport;
      return a(), l.addEventListener("scroll", a), () => l.removeEventListener("scroll", a);
    }
  }, [e.viewport, e.isPositioned]), n ? S.jsx(
    _h,
    {
      ...r2,
      ref: o2,
      onAutoScroll: () => {
        const { viewport: a, selectedItem: l } = e;
        a && l && (a.scrollTop = a.scrollTop - l.offsetHeight);
      }
    }
  ) : null;
});
wh.displayName = ea;
var ra = "SelectScrollDownButton";
var Eh = C.forwardRef((r2, t) => {
  const e = Qe2(ra, r2.__scopeSelect), s = $a(ra, r2.__scopeSelect), [n, i] = C.useState(false), o2 = H(t, s.onScrollButtonChange);
  return A(() => {
    if (e.viewport && e.isPositioned) {
      let a = function() {
        const c = l.scrollHeight - l.clientHeight, d2 = Math.ceil(l.scrollTop) < c;
        i(d2);
      };
      const l = e.viewport;
      return a(), l.addEventListener("scroll", a), () => l.removeEventListener("scroll", a);
    }
  }, [e.viewport, e.isPositioned]), n ? S.jsx(
    _h,
    {
      ...r2,
      ref: o2,
      onAutoScroll: () => {
        const { viewport: a, selectedItem: l } = e;
        a && l && (a.scrollTop = a.scrollTop + l.offsetHeight);
      }
    }
  ) : null;
});
Eh.displayName = ra;
var _h = C.forwardRef((r2, t) => {
  const { __scopeSelect: e, onAutoScroll: s, ...n } = r2, i = Qe2("SelectScrollButton", e), o2 = C.useRef(null), a = di(e), l = C.useCallback(() => {
    o2.current !== null && (window.clearInterval(o2.current), o2.current = null);
  }, []);
  return C.useEffect(() => () => l(), [l]), A(() => {
    var c;
    const d2 = a().find((g) => g.ref.current === document.activeElement);
    (c = d2 == null ? void 0 : d2.ref.current) == null || c.scrollIntoView({ block: "nearest" });
  }, [a]), S.jsx(
    de.div,
    {
      "aria-hidden": true,
      ...n,
      ref: t,
      style: { flexShrink: 0, ...n.style },
      onPointerDown: J(n.onPointerDown, () => {
        o2.current === null && (o2.current = window.setInterval(s, 50));
      }),
      onPointerMove: J(n.onPointerMove, () => {
        var c;
        (c = i.onItemLeave) == null || c.call(i), o2.current === null && (o2.current = window.setInterval(s, 50));
      }),
      onPointerLeave: J(n.onPointerLeave, () => {
        l();
      })
    }
  );
});
var ig = "SelectSeparator";
var Ah = C.forwardRef(
  (r2, t) => {
    const { __scopeSelect: e, ...s } = r2;
    return S.jsx(de.div, { "aria-hidden": true, ...s, ref: t });
  }
);
Ah.displayName = ig;
var sa = "SelectArrow";
var og = C.forwardRef(
  (r2, t) => {
    const { __scopeSelect: e, ...s } = r2, n = pi(e), i = Je(sa, e), o2 = Qe2(sa, e);
    return i.open && o2.position === "popper" ? S.jsx(rr, { ...n, ...s, ref: t }) : null;
  }
);
og.displayName = sa;
var ag = "SelectBubbleInput";
var Nh = C.forwardRef(
  ({ __scopeSelect: r2, value: t, ...e }, s) => {
    const n = C.useRef(null), i = H(s, n), o2 = ti(t);
    return C.useEffect(() => {
      const a = n.current;
      if (!a) return;
      const l = window.HTMLSelectElement.prototype, c = Object.getOwnPropertyDescriptor(
        l,
        "value"
      ).set;
      if (o2 !== t && c) {
        const d2 = new Event("change", { bubbles: true });
        c.call(a, t), a.dispatchEvent(d2);
      }
    }, [o2, t]), S.jsx(
      de.select,
      {
        ...e,
        style: { ...d, ...e.style },
        ref: i,
        defaultValue: t
      }
    );
  }
);
Nh.displayName = ag;
function Sh(r2) {
  return r2 === "" || r2 === void 0;
}
function Ch(r2) {
  const t = q(r2), e = C.useRef(""), s = C.useRef(0), n = C.useCallback(
    (o2) => {
      const a = e.current + o2;
      t(a), function l(c) {
        e.current = c, window.clearTimeout(s.current), c !== "" && (s.current = window.setTimeout(() => l(""), 1e3));
      }(a);
    },
    [t]
  ), i = C.useCallback(() => {
    e.current = "", window.clearTimeout(s.current);
  }, []);
  return C.useEffect(() => () => window.clearTimeout(s.current), []), [e, n, i];
}
function Oh(r2, t, e) {
  const s = t.length > 1 && Array.from(t).every((a) => a === t[0]) ? t[0] : t, n = e ? r2.indexOf(e) : -1;
  let i = lg(r2, Math.max(n, 0));
  s.length === 1 && (i = i.filter((a) => a !== e));
  const o2 = i.find(
    (a) => a.textValue.toLowerCase().startsWith(s.toLowerCase())
  );
  return o2 !== e ? o2 : void 0;
}
function lg(r2, t) {
  return r2.map((e, s) => r2[(t + s) % r2.length]);
}
var ug = eh;
var Th = sh;
var cg = ih;
var hg = oh;
var dg = ah;
var Rh = lh;
var pg = dh;
var fg = fh;
var Lh = gh;
var Ih = bh;
var mg = yh;
var gg = xh;
var qh = wh;
var jh = Eh;
var Mh = Ah;
var hw = ug;
var dw = fg;
var pw = cg;
var vg = C.forwardRef(({ className: r2, children: t, variant: e = "default", ...s }, n) => S.jsxs(
  Th,
  {
    ref: n,
    className: mo(
      "border-border ring-offset-background placeholder:text-muted-foreground focus:ring-offset-none focus:ring-primary flex h-10 w-full items-center justify-between rounded-md border bg-white px-3 py-2 text-sm focus:ring-2 focus:ring-offset-transparent focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 dark:bg-transparent [&>span]:line-clamp-1",
      e === "failure" && "focus:ring-destructive hover:bg-destructive/20 bg-destructive/20 border-destructive !text-destructive",
      r2
    ),
    ...s,
    children: [
      t,
      S.jsx(hg, { asChild: true, children: S.jsx(ac, { className: "h-4 w-4 opacity-50" }) })
    ]
  }
));
vg.displayName = Th.displayName;
var Bh = C.forwardRef(({ className: r2, ...t }, e) => S.jsx(
  qh,
  {
    ref: e,
    className: mo(
      "flex cursor-default items-center justify-center py-1",
      r2
    ),
    ...t,
    children: S.jsx(Zp, { className: "h-4 w-4" })
  }
));
Bh.displayName = qh.displayName;
var Dh = C.forwardRef(({ className: r2, ...t }, e) => S.jsx(
  jh,
  {
    ref: e,
    className: mo(
      "flex cursor-default items-center justify-center py-1",
      r2
    ),
    ...t,
    children: S.jsx(ac, { className: "h-4 w-4" })
  }
));
Dh.displayName = jh.displayName;
var bg = C.forwardRef(({ className: r2, children: t, position: e = "popper", ...s }, n) => S.jsx(dg, { children: S.jsxs(
  Rh,
  {
    ref: n,
    className: mo(
      "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",
      e === "popper" && "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
      r2
    ),
    position: e,
    ...s,
    children: [
      S.jsx(Bh, {}),
      S.jsx(
        pg,
        {
          className: mo(
            "p-1",
            e === "popper" && "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"
          ),
          children: t
        }
      ),
      S.jsx(Dh, {})
    ]
  }
) }));
bg.displayName = Rh.displayName;
var yg = C.forwardRef(({ className: r2, ...t }, e) => S.jsx(
  Lh,
  {
    ref: e,
    className: mo("py-1.5 pr-2 pl-8 text-sm font-semibold", r2),
    ...t
  }
));
yg.displayName = Lh.displayName;
var kg = C.forwardRef(({ className: r2, children: t, ...e }, s) => S.jsxs(
  Ih,
  {
    ref: s,
    className: mo(
      "focus:bg-accent focus:text-accent-foreground relative flex w-full cursor-default items-center rounded-sm py-1.5 pr-2 pl-8 text-sm outline-none select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      r2
    ),
    ...e,
    children: [
      S.jsx("span", { className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center", children: S.jsx(gg, { children: S.jsx(Re, { className: "h-4 w-4" }) }) }),
      S.jsx(mg, { children: t })
    ]
  }
));
kg.displayName = Ih.displayName;
var xg = C.forwardRef(({ className: r2, ...t }, e) => S.jsx(
  Mh,
  {
    ref: e,
    className: mo("bg-muted -mx-1 my-1 h-px", r2),
    ...t
  }
));
xg.displayName = Mh.displayName;
var za = "Radio";
var [wg, Fh] = He(za);
var [Eg, _g] = wg(za);
var Ph = C.forwardRef(
  (r2, t) => {
    const {
      __scopeRadio: e,
      name: s,
      checked: n = false,
      required: i,
      disabled: o2,
      value: a = "on",
      onCheck: l,
      form: c,
      ...d2
    } = r2, [g, h] = C.useState(null), f = H(t, (k) => h(k)), v = C.useRef(false), m = g ? c || !!g.closest("form") : true;
    return S.jsxs(Eg, { scope: e, checked: n, disabled: o2, children: [
      S.jsx(
        de.button,
        {
          type: "button",
          role: "radio",
          "aria-checked": n,
          "data-state": zh(n),
          "data-disabled": o2 ? "" : void 0,
          disabled: o2,
          value: a,
          ...d2,
          ref: f,
          onClick: J(r2.onClick, (k) => {
            n || l == null || l(), m && (v.current = k.isPropagationStopped(), v.current || k.stopPropagation());
          })
        }
      ),
      m && S.jsx(
        $h,
        {
          control: g,
          bubbles: !v.current,
          name: s,
          value: a,
          checked: n,
          required: i,
          disabled: o2,
          form: c,
          style: { transform: "translateX(-100%)" }
        }
      )
    ] });
  }
);
Ph.displayName = za;
var Vh = "RadioIndicator";
var Uh = C.forwardRef(
  (r2, t) => {
    const { __scopeRadio: e, forceMount: s, ...n } = r2, i = _g(Vh, e);
    return S.jsx(Pe, { present: s || i.checked, children: S.jsx(
      de.span,
      {
        "data-state": zh(i.checked),
        "data-disabled": i.disabled ? "" : void 0,
        ...n,
        ref: t
      }
    ) });
  }
);
Uh.displayName = Vh;
var Ag = "RadioBubbleInput";
var $h = C.forwardRef(
  ({
    __scopeRadio: r2,
    control: t,
    checked: e,
    bubbles: s = true,
    ...n
  }, i) => {
    const o2 = C.useRef(null), a = H(o2, i), l = ti(e), c = Yn(t);
    return C.useEffect(() => {
      const d2 = o2.current;
      if (!d2) return;
      const g = window.HTMLInputElement.prototype, h = Object.getOwnPropertyDescriptor(
        g,
        "checked"
      ).set;
      if (l !== e && h) {
        const f = new Event("click", { bubbles: s });
        h.call(d2, e), d2.dispatchEvent(f);
      }
    }, [l, e, s]), S.jsx(
      de.input,
      {
        type: "radio",
        "aria-hidden": true,
        defaultChecked: e,
        ...n,
        tabIndex: -1,
        ref: a,
        style: {
          ...n.style,
          ...c,
          position: "absolute",
          pointerEvents: "none",
          opacity: 0,
          margin: 0
        }
      }
    );
  }
);
$h.displayName = Ag;
function zh(r2) {
  return r2 ? "checked" : "unchecked";
}
var Ng = ["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"];
var fi = "RadioGroup";
var [Sg, fw] = He(fi, [
  be,
  Fh
]);
var Hh = be();
var Kh = Fh();
var [Cg, Og] = Sg(fi);
var Gh = C.forwardRef(
  (r2, t) => {
    const {
      __scopeRadioGroup: e,
      name: s,
      defaultValue: n,
      value: i,
      required: o2 = false,
      disabled: a = false,
      orientation: l,
      dir: c,
      loop: d2 = true,
      onValueChange: g,
      ...h
    } = r2, f = Hh(e), v = W(c), [m, k] = Qe({
      prop: i,
      defaultProp: n ?? null,
      onChange: g,
      caller: fi
    });
    return S.jsx(
      Cg,
      {
        scope: e,
        name: s,
        required: o2,
        disabled: a,
        value: m,
        onValueChange: k,
        children: S.jsx(
          he,
          {
            asChild: true,
            ...f,
            orientation: l,
            dir: v,
            loop: d2,
            children: S.jsx(
              de.div,
              {
                role: "radiogroup",
                "aria-required": o2,
                "aria-orientation": l,
                "data-disabled": a ? "" : void 0,
                dir: v,
                ...h,
                ref: t
              }
            )
          }
        )
      }
    );
  }
);
Gh.displayName = fi;
var Wh = "RadioGroupItem";
var Zh = C.forwardRef(
  (r2, t) => {
    const { __scopeRadioGroup: e, disabled: s, ...n } = r2, i = Og(Wh, e), o2 = i.disabled || s, a = Hh(e), l = Kh(e), c = C.useRef(null), d2 = H(t, c), g = i.value === n.value, h = C.useRef(false);
    return C.useEffect(() => {
      const f = (m) => {
        Ng.includes(m.key) && (h.current = true);
      }, v = () => h.current = false;
      return document.addEventListener("keydown", f), document.addEventListener("keyup", v), () => {
        document.removeEventListener("keydown", f), document.removeEventListener("keyup", v);
      };
    }, []), S.jsx(
      ye,
      {
        asChild: true,
        ...a,
        focusable: !o2,
        active: g,
        children: S.jsx(
          Ph,
          {
            disabled: o2,
            required: i.required,
            checked: g,
            ...l,
            ...n,
            name: i.name,
            ref: d2,
            onCheck: () => i.onValueChange(n.value),
            onKeyDown: J((f) => {
              f.key === "Enter" && f.preventDefault();
            }),
            onFocus: J(n.onFocus, () => {
              var f;
              h.current && ((f = c.current) == null || f.click());
            })
          }
        )
      }
    );
  }
);
Zh.displayName = Wh;
var Tg = "RadioGroupIndicator";
var Xh = C.forwardRef(
  (r2, t) => {
    const { __scopeRadioGroup: e, ...s } = r2, n = Kh(e);
    return S.jsx(Uh, { ...n, ...s, ref: t });
  }
);
Xh.displayName = Tg;
var Yh = Gh;
var Jh = Zh;
var Rg = Xh;
var Lg = C.forwardRef(({ className: r2, ...t }, e) => S.jsx(
  Yh,
  {
    className: mo("grid gap-2", r2),
    ...t,
    ref: e
  }
));
Lg.displayName = Yh.displayName;
var Ig = C.forwardRef(({ className: r2, ...t }, e) => S.jsx(
  Jh,
  {
    ref: e,
    className: mo(
      "border-primary text-primary ring-offset-background focus-visible:ring-ring aspect-square h-4 w-4 rounded-full border focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
      r2
    ),
    ...t,
    children: S.jsx(Rg, { className: "flex items-center justify-center", children: S.jsx(ge, { className: "h-2.5 w-2.5 fill-current text-current" }) })
  }
));
Ig.displayName = Jh.displayName;
var Qh = typeof global == "object" && global && global.Object === Object && global;
var qg = typeof self == "object" && self && self.Object === Object && self;
var Ee = Qh || qg || Function("return this")();
var Ye = Ee.Symbol;
var td = Object.prototype;
var jg = td.hasOwnProperty;
var Mg = td.toString;
var As = Ye ? Ye.toStringTag : void 0;
function Bg(r2) {
  var t = jg.call(r2, As), e = r2[As];
  try {
    r2[As] = void 0;
    var s = true;
  } catch {
  }
  var n = Mg.call(r2);
  return s && (t ? r2[As] = e : delete r2[As]), n;
}
var Dg = Object.prototype;
var Fg = Dg.toString;
function Pg(r2) {
  return Fg.call(r2);
}
var Vg = "[object Null]";
var Ug = "[object Undefined]";
var Bl = Ye ? Ye.toStringTag : void 0;
function us(r2) {
  return r2 == null ? r2 === void 0 ? Ug : Vg : Bl && Bl in Object(r2) ? Bg(r2) : Pg(r2);
}
function Ie(r2) {
  return r2 != null && typeof r2 == "object";
}
var yr = Array.isArray;
function tr2(r2) {
  var t = typeof r2;
  return r2 != null && (t == "object" || t == "function");
}
function ed(r2) {
  return r2;
}
var $g = "[object AsyncFunction]";
var zg = "[object Function]";
var Hg = "[object GeneratorFunction]";
var Kg = "[object Proxy]";
function Ha(r2) {
  if (!tr2(r2))
    return false;
  var t = us(r2);
  return t == zg || t == Hg || t == $g || t == Kg;
}
var Eo = Ee["__core-js_shared__"];
var Dl = function() {
  var r2 = /[^.]+$/.exec(Eo && Eo.keys && Eo.keys.IE_PROTO || "");
  return r2 ? "Symbol(src)_1." + r2 : "";
}();
function Gg(r2) {
  return !!Dl && Dl in r2;
}
var Wg = Function.prototype;
var Zg = Wg.toString;
function wr(r2) {
  if (r2 != null) {
    try {
      return Zg.call(r2);
    } catch {
    }
    try {
      return r2 + "";
    } catch {
    }
  }
  return "";
}
var Xg = /[\\^$.*+?()[\]{}|]/g;
var Yg = /^\[object .+?Constructor\]$/;
var Jg = Function.prototype;
var Qg = Object.prototype;
var t0 = Jg.toString;
var e0 = Qg.hasOwnProperty;
var r0 = RegExp(
  "^" + t0.call(e0).replace(Xg, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
);
function s0(r2) {
  if (!tr2(r2) || Gg(r2))
    return false;
  var t = Ha(r2) ? r0 : Yg;
  return t.test(wr(r2));
}
function n0(r2, t) {
  return r2 == null ? void 0 : r2[t];
}
function Er(r2, t) {
  var e = n0(r2, t);
  return s0(e) ? e : void 0;
}
var na = Er(Ee, "WeakMap");
var Fl = Object.create;
var i0 = /* @__PURE__ */ function() {
  function r2() {
  }
  return function(t) {
    if (!tr2(t))
      return {};
    if (Fl)
      return Fl(t);
    r2.prototype = t;
    var e = new r2();
    return r2.prototype = void 0, e;
  };
}();
function o0(r2, t, e) {
  switch (e.length) {
    case 0:
      return r2.call(t);
    case 1:
      return r2.call(t, e[0]);
    case 2:
      return r2.call(t, e[0], e[1]);
    case 3:
      return r2.call(t, e[0], e[1], e[2]);
  }
  return r2.apply(t, e);
}
function a0(r2, t) {
  var e = -1, s = r2.length;
  for (t || (t = Array(s)); ++e < s; )
    t[e] = r2[e];
  return t;
}
var l0 = 800;
var u0 = 16;
var c0 = Date.now;
function h0(r2) {
  var t = 0, e = 0;
  return function() {
    var s = c0(), n = u0 - (s - e);
    if (e = s, n > 0) {
      if (++t >= l0)
        return arguments[0];
    } else
      t = 0;
    return r2.apply(void 0, arguments);
  };
}
function d0(r2) {
  return function() {
    return r2;
  };
}
var Wn = function() {
  try {
    var r2 = Er(Object, "defineProperty");
    return r2({}, "", {}), r2;
  } catch {
  }
}();
var p0 = Wn ? function(r2, t) {
  return Wn(r2, "toString", {
    configurable: true,
    enumerable: false,
    value: d0(t),
    writable: true
  });
} : ed;
var f0 = h0(p0);
function m0(r2, t) {
  for (var e = -1, s = r2 == null ? 0 : r2.length; ++e < s && t(r2[e], e, r2) !== false; )
    ;
  return r2;
}
var g0 = 9007199254740991;
var v0 = /^(?:0|[1-9]\d*)$/;
function rd(r2, t) {
  var e = typeof r2;
  return t = t ?? g0, !!t && (e == "number" || e != "symbol" && v0.test(r2)) && r2 > -1 && r2 % 1 == 0 && r2 < t;
}
function Ka(r2, t, e) {
  t == "__proto__" && Wn ? Wn(r2, t, {
    configurable: true,
    enumerable: true,
    value: e,
    writable: true
  }) : r2[t] = e;
}
function Ks(r2, t) {
  return r2 === t || r2 !== r2 && t !== t;
}
var b0 = Object.prototype;
var y0 = b0.hasOwnProperty;
function sd(r2, t, e) {
  var s = r2[t];
  (!(y0.call(r2, t) && Ks(s, e)) || e === void 0 && !(t in r2)) && Ka(r2, t, e);
}
function k0(r2, t, e, s) {
  var n = !e;
  e || (e = {});
  for (var i = -1, o2 = t.length; ++i < o2; ) {
    var a = t[i], l = void 0;
    l === void 0 && (l = r2[a]), n ? Ka(e, a, l) : sd(e, a, l);
  }
  return e;
}
var Pl = Math.max;
function x0(r2, t, e) {
  return t = Pl(t === void 0 ? r2.length - 1 : t, 0), function() {
    for (var s = arguments, n = -1, i = Pl(s.length - t, 0), o2 = Array(i); ++n < i; )
      o2[n] = s[t + n];
    n = -1;
    for (var a = Array(t + 1); ++n < t; )
      a[n] = s[n];
    return a[t] = e(o2), o0(r2, this, a);
  };
}
function w0(r2, t) {
  return f0(x0(r2, t, ed), r2 + "");
}
var E0 = 9007199254740991;
function nd(r2) {
  return typeof r2 == "number" && r2 > -1 && r2 % 1 == 0 && r2 <= E0;
}
function mi(r2) {
  return r2 != null && nd(r2.length) && !Ha(r2);
}
function _0(r2, t, e) {
  if (!tr2(e))
    return false;
  var s = typeof t;
  return (s == "number" ? mi(e) && rd(t, e.length) : s == "string" && t in e) ? Ks(e[t], r2) : false;
}
function A0(r2) {
  return w0(function(t, e) {
    var s = -1, n = e.length, i = n > 1 ? e[n - 1] : void 0, o2 = n > 2 ? e[2] : void 0;
    for (i = r2.length > 3 && typeof i == "function" ? (n--, i) : void 0, o2 && _0(e[0], e[1], o2) && (i = n < 3 ? void 0 : i, n = 1), t = Object(t); ++s < n; ) {
      var a = e[s];
      a && r2(t, a, s, i);
    }
    return t;
  });
}
var N0 = Object.prototype;
function Ga(r2) {
  var t = r2 && r2.constructor, e = typeof t == "function" && t.prototype || N0;
  return r2 === e;
}
function S0(r2, t) {
  for (var e = -1, s = Array(r2); ++e < r2; )
    s[e] = t(e);
  return s;
}
var C0 = "[object Arguments]";
function Vl(r2) {
  return Ie(r2) && us(r2) == C0;
}
var id = Object.prototype;
var O0 = id.hasOwnProperty;
var T0 = id.propertyIsEnumerable;
var ia = Vl(/* @__PURE__ */ function() {
  return arguments;
}()) ? Vl : function(r2) {
  return Ie(r2) && O0.call(r2, "callee") && !T0.call(r2, "callee");
};
function R0() {
  return false;
}
var od = typeof exports == "object" && exports && !exports.nodeType && exports;
var Ul = od && typeof module == "object" && module && !module.nodeType && module;
var L0 = Ul && Ul.exports === od;
var $l = L0 ? Ee.Buffer : void 0;
var I0 = $l ? $l.isBuffer : void 0;
var Ms = I0 || R0;
var q0 = "[object Arguments]";
var j0 = "[object Array]";
var M0 = "[object Boolean]";
var B0 = "[object Date]";
var D0 = "[object Error]";
var F0 = "[object Function]";
var P0 = "[object Map]";
var V0 = "[object Number]";
var U0 = "[object Object]";
var $0 = "[object RegExp]";
var z0 = "[object Set]";
var H0 = "[object String]";
var K0 = "[object WeakMap]";
var G0 = "[object ArrayBuffer]";
var W0 = "[object DataView]";
var Z0 = "[object Float32Array]";
var X0 = "[object Float64Array]";
var Y0 = "[object Int8Array]";
var J0 = "[object Int16Array]";
var Q0 = "[object Int32Array]";
var t1 = "[object Uint8Array]";
var e1 = "[object Uint8ClampedArray]";
var r1 = "[object Uint16Array]";
var s1 = "[object Uint32Array]";
var _t = {};
_t[Z0] = _t[X0] = _t[Y0] = _t[J0] = _t[Q0] = _t[t1] = _t[e1] = _t[r1] = _t[s1] = true;
_t[q0] = _t[j0] = _t[G0] = _t[M0] = _t[W0] = _t[B0] = _t[D0] = _t[F0] = _t[P0] = _t[V0] = _t[U0] = _t[$0] = _t[z0] = _t[H0] = _t[K0] = false;
function n1(r2) {
  return Ie(r2) && nd(r2.length) && !!_t[us(r2)];
}
function Wa(r2) {
  return function(t) {
    return r2(t);
  };
}
var ad = typeof exports == "object" && exports && !exports.nodeType && exports;
var Is = ad && typeof module == "object" && module && !module.nodeType && module;
var i1 = Is && Is.exports === ad;
var _o = i1 && Qh.process;
var ss = function() {
  try {
    var r2 = Is && Is.require && Is.require("util").types;
    return r2 || _o && _o.binding && _o.binding("util");
  } catch {
  }
}();
var zl = ss && ss.isTypedArray;
var Za = zl ? Wa(zl) : n1;
var o1 = Object.prototype;
var a1 = o1.hasOwnProperty;
function ld(r2, t) {
  var e = yr(r2), s = !e && ia(r2), n = !e && !s && Ms(r2), i = !e && !s && !n && Za(r2), o2 = e || s || n || i, a = o2 ? S0(r2.length, String) : [], l = a.length;
  for (var c in r2)
    (t || a1.call(r2, c)) && !(o2 && // Safari 9 has enumerable `arguments.length` in strict mode.
    (c == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
    n && (c == "offset" || c == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
    i && (c == "buffer" || c == "byteLength" || c == "byteOffset") || // Skip index properties.
    rd(c, l))) && a.push(c);
  return a;
}
function ud(r2, t) {
  return function(e) {
    return r2(t(e));
  };
}
var l1 = ud(Object.keys, Object);
var u1 = Object.prototype;
var c1 = u1.hasOwnProperty;
function h1(r2) {
  if (!Ga(r2))
    return l1(r2);
  var t = [];
  for (var e in Object(r2))
    c1.call(r2, e) && e != "constructor" && t.push(e);
  return t;
}
function d1(r2) {
  return mi(r2) ? ld(r2) : h1(r2);
}
function p1(r2) {
  var t = [];
  if (r2 != null)
    for (var e in Object(r2))
      t.push(e);
  return t;
}
var f1 = Object.prototype;
var m1 = f1.hasOwnProperty;
function g1(r2) {
  if (!tr2(r2))
    return p1(r2);
  var t = Ga(r2), e = [];
  for (var s in r2)
    s == "constructor" && (t || !m1.call(r2, s)) || e.push(s);
  return e;
}
function cd(r2) {
  return mi(r2) ? ld(r2, true) : g1(r2);
}
var Bs = Er(Object, "create");
function v1() {
  this.__data__ = Bs ? Bs(null) : {}, this.size = 0;
}
function b1(r2) {
  var t = this.has(r2) && delete this.__data__[r2];
  return this.size -= t ? 1 : 0, t;
}
var y1 = "__lodash_hash_undefined__";
var k1 = Object.prototype;
var x1 = k1.hasOwnProperty;
function w1(r2) {
  var t = this.__data__;
  if (Bs) {
    var e = t[r2];
    return e === y1 ? void 0 : e;
  }
  return x1.call(t, r2) ? t[r2] : void 0;
}
var E1 = Object.prototype;
var _1 = E1.hasOwnProperty;
function A1(r2) {
  var t = this.__data__;
  return Bs ? t[r2] !== void 0 : _1.call(t, r2);
}
var N1 = "__lodash_hash_undefined__";
function S1(r2, t) {
  var e = this.__data__;
  return this.size += this.has(r2) ? 0 : 1, e[r2] = Bs && t === void 0 ? N1 : t, this;
}
function kr(r2) {
  var t = -1, e = r2 == null ? 0 : r2.length;
  for (this.clear(); ++t < e; ) {
    var s = r2[t];
    this.set(s[0], s[1]);
  }
}
kr.prototype.clear = v1;
kr.prototype.delete = b1;
kr.prototype.get = w1;
kr.prototype.has = A1;
kr.prototype.set = S1;
function C1() {
  this.__data__ = [], this.size = 0;
}
function gi(r2, t) {
  for (var e = r2.length; e--; )
    if (Ks(r2[e][0], t))
      return e;
  return -1;
}
var O1 = Array.prototype;
var T1 = O1.splice;
function R1(r2) {
  var t = this.__data__, e = gi(t, r2);
  if (e < 0)
    return false;
  var s = t.length - 1;
  return e == s ? t.pop() : T1.call(t, e, 1), --this.size, true;
}
function L1(r2) {
  var t = this.__data__, e = gi(t, r2);
  return e < 0 ? void 0 : t[e][1];
}
function I1(r2) {
  return gi(this.__data__, r2) > -1;
}
function q12(r2, t) {
  var e = this.__data__, s = gi(e, r2);
  return s < 0 ? (++this.size, e.push([r2, t])) : e[s][1] = t, this;
}
function Be(r2) {
  var t = -1, e = r2 == null ? 0 : r2.length;
  for (this.clear(); ++t < e; ) {
    var s = r2[t];
    this.set(s[0], s[1]);
  }
}
Be.prototype.clear = C1;
Be.prototype.delete = R1;
Be.prototype.get = L1;
Be.prototype.has = I1;
Be.prototype.set = q12;
var Ds = Er(Ee, "Map");
function j1() {
  this.size = 0, this.__data__ = {
    hash: new kr(),
    map: new (Ds || Be)(),
    string: new kr()
  };
}
function M1(r2) {
  var t = typeof r2;
  return t == "string" || t == "number" || t == "symbol" || t == "boolean" ? r2 !== "__proto__" : r2 === null;
}
function vi(r2, t) {
  var e = r2.__data__;
  return M1(t) ? e[typeof t == "string" ? "string" : "hash"] : e.map;
}
function B1(r2) {
  var t = vi(this, r2).delete(r2);
  return this.size -= t ? 1 : 0, t;
}
function D12(r2) {
  return vi(this, r2).get(r2);
}
function F1(r2) {
  return vi(this, r2).has(r2);
}
function P1(r2, t) {
  var e = vi(this, r2), s = e.size;
  return e.set(r2, t), this.size += e.size == s ? 0 : 1, this;
}
function _r(r2) {
  var t = -1, e = r2 == null ? 0 : r2.length;
  for (this.clear(); ++t < e; ) {
    var s = r2[t];
    this.set(s[0], s[1]);
  }
}
_r.prototype.clear = j1;
_r.prototype.delete = B1;
_r.prototype.get = D12;
_r.prototype.has = F1;
_r.prototype.set = P1;
function V1(r2, t) {
  for (var e = -1, s = t.length, n = r2.length; ++e < s; )
    r2[n + e] = t[e];
  return r2;
}
var hd = ud(Object.getPrototypeOf, Object);
var U12 = "[object Object]";
var $12 = Function.prototype;
var z1 = Object.prototype;
var dd = $12.toString;
var H1 = z1.hasOwnProperty;
var K1 = dd.call(Object);
function G1(r2) {
  if (!Ie(r2) || us(r2) != U12)
    return false;
  var t = hd(r2);
  if (t === null)
    return true;
  var e = H1.call(t, "constructor") && t.constructor;
  return typeof e == "function" && e instanceof e && dd.call(e) == K1;
}
function W1() {
  this.__data__ = new Be(), this.size = 0;
}
function Z1(r2) {
  var t = this.__data__, e = t.delete(r2);
  return this.size = t.size, e;
}
function X1(r2) {
  return this.__data__.get(r2);
}
function Y1(r2) {
  return this.__data__.has(r2);
}
var J1 = 200;
function Q12(r2, t) {
  var e = this.__data__;
  if (e instanceof Be) {
    var s = e.__data__;
    if (!Ds || s.length < J1 - 1)
      return s.push([r2, t]), this.size = ++e.size, this;
    e = this.__data__ = new _r(s);
  }
  return e.set(r2, t), this.size = e.size, this;
}
function ke2(r2) {
  var t = this.__data__ = new Be(r2);
  this.size = t.size;
}
ke2.prototype.clear = W1;
ke2.prototype.delete = Z1;
ke2.prototype.get = X1;
ke2.prototype.has = Y1;
ke2.prototype.set = Q12;
var pd = typeof exports == "object" && exports && !exports.nodeType && exports;
var Hl = pd && typeof module == "object" && module && !module.nodeType && module;
var tv = Hl && Hl.exports === pd;
var Kl = tv ? Ee.Buffer : void 0;
var Gl = Kl ? Kl.allocUnsafe : void 0;
function fd(r2, t) {
  if (t)
    return r2.slice();
  var e = r2.length, s = Gl ? Gl(e) : new r2.constructor(e);
  return r2.copy(s), s;
}
function ev(r2, t) {
  for (var e = -1, s = r2 == null ? 0 : r2.length, n = 0, i = []; ++e < s; ) {
    var o2 = r2[e];
    t(o2, e, r2) && (i[n++] = o2);
  }
  return i;
}
function rv() {
  return [];
}
var sv = Object.prototype;
var nv = sv.propertyIsEnumerable;
var Wl = Object.getOwnPropertySymbols;
var iv = Wl ? function(r2) {
  return r2 == null ? [] : (r2 = Object(r2), ev(Wl(r2), function(t) {
    return nv.call(r2, t);
  }));
} : rv;
function ov(r2, t, e) {
  var s = t(r2);
  return yr(r2) ? s : V1(s, e(r2));
}
function oa(r2) {
  return ov(r2, d1, iv);
}
var aa = Er(Ee, "DataView");
var la = Er(Ee, "Promise");
var ua = Er(Ee, "Set");
var Zl = "[object Map]";
var av = "[object Object]";
var Xl = "[object Promise]";
var Yl = "[object Set]";
var Jl = "[object WeakMap]";
var Ql = "[object DataView]";
var lv = wr(aa);
var uv = wr(Ds);
var cv = wr(la);
var hv = wr(ua);
var dv = wr(na);
var ae = us;
(aa && ae(new aa(new ArrayBuffer(1))) != Ql || Ds && ae(new Ds()) != Zl || la && ae(la.resolve()) != Xl || ua && ae(new ua()) != Yl || na && ae(new na()) != Jl) && (ae = function(r2) {
  var t = us(r2), e = t == av ? r2.constructor : void 0, s = e ? wr(e) : "";
  if (s)
    switch (s) {
      case lv:
        return Ql;
      case uv:
        return Zl;
      case cv:
        return Xl;
      case hv:
        return Yl;
      case dv:
        return Jl;
    }
  return t;
});
var pv = Object.prototype;
var fv = pv.hasOwnProperty;
function mv(r2) {
  var t = r2.length, e = new r2.constructor(t);
  return t && typeof r2[0] == "string" && fv.call(r2, "index") && (e.index = r2.index, e.input = r2.input), e;
}
var Zn = Ee.Uint8Array;
function Xa(r2) {
  var t = new r2.constructor(r2.byteLength);
  return new Zn(t).set(new Zn(r2)), t;
}
function gv(r2, t) {
  var e = Xa(r2.buffer);
  return new r2.constructor(e, r2.byteOffset, r2.byteLength);
}
var vv = /\w*$/;
function bv(r2) {
  var t = new r2.constructor(r2.source, vv.exec(r2));
  return t.lastIndex = r2.lastIndex, t;
}
var tu = Ye ? Ye.prototype : void 0;
var eu = tu ? tu.valueOf : void 0;
function yv(r2) {
  return eu ? Object(eu.call(r2)) : {};
}
function md(r2, t) {
  var e = t ? Xa(r2.buffer) : r2.buffer;
  return new r2.constructor(e, r2.byteOffset, r2.length);
}
var kv = "[object Boolean]";
var xv = "[object Date]";
var wv = "[object Map]";
var Ev = "[object Number]";
var _v = "[object RegExp]";
var Av = "[object Set]";
var Nv = "[object String]";
var Sv = "[object Symbol]";
var Cv = "[object ArrayBuffer]";
var Ov = "[object DataView]";
var Tv = "[object Float32Array]";
var Rv = "[object Float64Array]";
var Lv = "[object Int8Array]";
var Iv = "[object Int16Array]";
var qv = "[object Int32Array]";
var jv = "[object Uint8Array]";
var Mv = "[object Uint8ClampedArray]";
var Bv = "[object Uint16Array]";
var Dv = "[object Uint32Array]";
function Fv(r2, t, e) {
  var s = r2.constructor;
  switch (t) {
    case Cv:
      return Xa(r2);
    case kv:
    case xv:
      return new s(+r2);
    case Ov:
      return gv(r2);
    case Tv:
    case Rv:
    case Lv:
    case Iv:
    case qv:
    case jv:
    case Mv:
    case Bv:
    case Dv:
      return md(r2, e);
    case wv:
      return new s();
    case Ev:
    case Nv:
      return new s(r2);
    case _v:
      return bv(r2);
    case Av:
      return new s();
    case Sv:
      return yv(r2);
  }
}
function gd(r2) {
  return typeof r2.constructor == "function" && !Ga(r2) ? i0(hd(r2)) : {};
}
var Pv = "[object Map]";
function Vv(r2) {
  return Ie(r2) && ae(r2) == Pv;
}
var ru = ss && ss.isMap;
var Uv = ru ? Wa(ru) : Vv;
var $v = "[object Set]";
function zv(r2) {
  return Ie(r2) && ae(r2) == $v;
}
var su = ss && ss.isSet;
var Hv = su ? Wa(su) : zv;
var Kv = 1;
var vd = "[object Arguments]";
var Gv = "[object Array]";
var Wv = "[object Boolean]";
var Zv = "[object Date]";
var Xv = "[object Error]";
var bd = "[object Function]";
var Yv = "[object GeneratorFunction]";
var Jv = "[object Map]";
var Qv = "[object Number]";
var yd = "[object Object]";
var tb = "[object RegExp]";
var eb = "[object Set]";
var rb = "[object String]";
var sb = "[object Symbol]";
var nb = "[object WeakMap]";
var ib = "[object ArrayBuffer]";
var ob = "[object DataView]";
var ab = "[object Float32Array]";
var lb = "[object Float64Array]";
var ub = "[object Int8Array]";
var cb = "[object Int16Array]";
var hb = "[object Int32Array]";
var db = "[object Uint8Array]";
var pb = "[object Uint8ClampedArray]";
var fb = "[object Uint16Array]";
var mb = "[object Uint32Array]";
var wt = {};
wt[vd] = wt[Gv] = wt[ib] = wt[ob] = wt[Wv] = wt[Zv] = wt[ab] = wt[lb] = wt[ub] = wt[cb] = wt[hb] = wt[Jv] = wt[Qv] = wt[yd] = wt[tb] = wt[eb] = wt[rb] = wt[sb] = wt[db] = wt[pb] = wt[fb] = wt[mb] = true;
wt[Xv] = wt[bd] = wt[nb] = false;
function jn(r2, t, e, s, n, i) {
  var o2, a = t & Kv;
  if (o2 !== void 0)
    return o2;
  if (!tr2(r2))
    return r2;
  var l = yr(r2);
  if (l)
    o2 = mv(r2);
  else {
    var c = ae(r2), d2 = c == bd || c == Yv;
    if (Ms(r2))
      return fd(r2, a);
    if (c == yd || c == vd || d2 && !n)
      o2 = d2 ? {} : gd(r2);
    else {
      if (!wt[c])
        return n ? r2 : {};
      o2 = Fv(r2, c, a);
    }
  }
  i || (i = new ke2());
  var g = i.get(r2);
  if (g)
    return g;
  i.set(r2, o2), Hv(r2) ? r2.forEach(function(v) {
    o2.add(jn(v, t, e, v, r2, i));
  }) : Uv(r2) && r2.forEach(function(v, m) {
    o2.set(m, jn(v, t, e, m, r2, i));
  });
  var h = oa, f = l ? void 0 : h(r2);
  return m0(f || r2, function(v, m) {
    f && (m = v, v = r2[m]), sd(o2, m, jn(v, t, e, m, r2, i));
  }), o2;
}
var gb = 1;
var vb = 4;
function Wr(r2) {
  return jn(r2, gb | vb);
}
var bb = "__lodash_hash_undefined__";
function yb(r2) {
  return this.__data__.set(r2, bb), this;
}
function kb(r2) {
  return this.__data__.has(r2);
}
function Xn(r2) {
  var t = -1, e = r2 == null ? 0 : r2.length;
  for (this.__data__ = new _r(); ++t < e; )
    this.add(r2[t]);
}
Xn.prototype.add = Xn.prototype.push = yb;
Xn.prototype.has = kb;
function xb(r2, t) {
  for (var e = -1, s = r2 == null ? 0 : r2.length; ++e < s; )
    if (t(r2[e], e, r2))
      return true;
  return false;
}
function wb(r2, t) {
  return r2.has(t);
}
var Eb = 1;
var _b = 2;
function kd(r2, t, e, s, n, i) {
  var o2 = e & Eb, a = r2.length, l = t.length;
  if (a != l && !(o2 && l > a))
    return false;
  var c = i.get(r2), d2 = i.get(t);
  if (c && d2)
    return c == t && d2 == r2;
  var g = -1, h = true, f = e & _b ? new Xn() : void 0;
  for (i.set(r2, t), i.set(t, r2); ++g < a; ) {
    var v = r2[g], m = t[g];
    if (s)
      var k = o2 ? s(m, v, g, t, r2, i) : s(v, m, g, r2, t, i);
    if (k !== void 0) {
      if (k)
        continue;
      h = false;
      break;
    }
    if (f) {
      if (!xb(t, function(_, E) {
        if (!wb(f, E) && (v === _ || n(v, _, e, s, i)))
          return f.push(E);
      })) {
        h = false;
        break;
      }
    } else if (!(v === m || n(v, m, e, s, i))) {
      h = false;
      break;
    }
  }
  return i.delete(r2), i.delete(t), h;
}
function Ab(r2) {
  var t = -1, e = Array(r2.size);
  return r2.forEach(function(s, n) {
    e[++t] = [n, s];
  }), e;
}
function Nb(r2) {
  var t = -1, e = Array(r2.size);
  return r2.forEach(function(s) {
    e[++t] = s;
  }), e;
}
var Sb = 1;
var Cb = 2;
var Ob = "[object Boolean]";
var Tb = "[object Date]";
var Rb = "[object Error]";
var Lb = "[object Map]";
var Ib = "[object Number]";
var qb = "[object RegExp]";
var jb = "[object Set]";
var Mb = "[object String]";
var Bb = "[object Symbol]";
var Db = "[object ArrayBuffer]";
var Fb = "[object DataView]";
var nu = Ye ? Ye.prototype : void 0;
var Ao = nu ? nu.valueOf : void 0;
function Pb(r2, t, e, s, n, i, o2) {
  switch (e) {
    case Fb:
      if (r2.byteLength != t.byteLength || r2.byteOffset != t.byteOffset)
        return false;
      r2 = r2.buffer, t = t.buffer;
    case Db:
      return !(r2.byteLength != t.byteLength || !i(new Zn(r2), new Zn(t)));
    case Ob:
    case Tb:
    case Ib:
      return Ks(+r2, +t);
    case Rb:
      return r2.name == t.name && r2.message == t.message;
    case qb:
    case Mb:
      return r2 == t + "";
    case Lb:
      var a = Ab;
    case jb:
      var l = s & Sb;
      if (a || (a = Nb), r2.size != t.size && !l)
        return false;
      var c = o2.get(r2);
      if (c)
        return c == t;
      s |= Cb, o2.set(r2, t);
      var d2 = kd(a(r2), a(t), s, n, i, o2);
      return o2.delete(r2), d2;
    case Bb:
      if (Ao)
        return Ao.call(r2) == Ao.call(t);
  }
  return false;
}
var Vb = 1;
var Ub = Object.prototype;
var $b = Ub.hasOwnProperty;
function zb(r2, t, e, s, n, i) {
  var o2 = e & Vb, a = oa(r2), l = a.length, c = oa(t), d2 = c.length;
  if (l != d2 && !o2)
    return false;
  for (var g = l; g--; ) {
    var h = a[g];
    if (!(o2 ? h in t : $b.call(t, h)))
      return false;
  }
  var f = i.get(r2), v = i.get(t);
  if (f && v)
    return f == t && v == r2;
  var m = true;
  i.set(r2, t), i.set(t, r2);
  for (var k = o2; ++g < l; ) {
    h = a[g];
    var _ = r2[h], E = t[h];
    if (s)
      var N = o2 ? s(E, _, h, t, r2, i) : s(_, E, h, r2, t, i);
    if (!(N === void 0 ? _ === E || n(_, E, e, s, i) : N)) {
      m = false;
      break;
    }
    k || (k = h == "constructor");
  }
  if (m && !k) {
    var q2 = r2.constructor, A2 = t.constructor;
    q2 != A2 && "constructor" in r2 && "constructor" in t && !(typeof q2 == "function" && q2 instanceof q2 && typeof A2 == "function" && A2 instanceof A2) && (m = false);
  }
  return i.delete(r2), i.delete(t), m;
}
var Hb = 1;
var iu = "[object Arguments]";
var ou = "[object Array]";
var xn = "[object Object]";
var Kb = Object.prototype;
var au = Kb.hasOwnProperty;
function Gb(r2, t, e, s, n, i) {
  var o2 = yr(r2), a = yr(t), l = o2 ? ou : ae(r2), c = a ? ou : ae(t);
  l = l == iu ? xn : l, c = c == iu ? xn : c;
  var d2 = l == xn, g = c == xn, h = l == c;
  if (h && Ms(r2)) {
    if (!Ms(t))
      return false;
    o2 = true, d2 = false;
  }
  if (h && !d2)
    return i || (i = new ke2()), o2 || Za(r2) ? kd(r2, t, e, s, n, i) : Pb(r2, t, l, e, s, n, i);
  if (!(e & Hb)) {
    var f = d2 && au.call(r2, "__wrapped__"), v = g && au.call(t, "__wrapped__");
    if (f || v) {
      var m = f ? r2.value() : r2, k = v ? t.value() : t;
      return i || (i = new ke2()), n(m, k, e, s, i);
    }
  }
  return h ? (i || (i = new ke2()), zb(r2, t, e, s, n, i)) : false;
}
function xd(r2, t, e, s, n) {
  return r2 === t ? true : r2 == null || t == null || !Ie(r2) && !Ie(t) ? r2 !== r2 && t !== t : Gb(r2, t, e, s, xd, n);
}
function Wb(r2) {
  return function(t, e, s) {
    for (var n = -1, i = Object(t), o2 = s(t), a = o2.length; a--; ) {
      var l = o2[++n];
      if (e(i[l], l, i) === false)
        break;
    }
    return t;
  };
}
var Zb = Wb();
function ca(r2, t, e) {
  (e !== void 0 && !Ks(r2[t], e) || e === void 0 && !(t in r2)) && Ka(r2, t, e);
}
function Xb(r2) {
  return Ie(r2) && mi(r2);
}
function ha(r2, t) {
  if (!(t === "constructor" && typeof r2[t] == "function") && t != "__proto__")
    return r2[t];
}
function Yb(r2) {
  return k0(r2, cd(r2));
}
function Jb(r2, t, e, s, n, i, o2) {
  var a = ha(r2, e), l = ha(t, e), c = o2.get(l);
  if (c) {
    ca(r2, e, c);
    return;
  }
  var d2 = i ? i(a, l, e + "", r2, t, o2) : void 0, g = d2 === void 0;
  if (g) {
    var h = yr(l), f = !h && Ms(l), v = !h && !f && Za(l);
    d2 = l, h || f || v ? yr(a) ? d2 = a : Xb(a) ? d2 = a0(a) : f ? (g = false, d2 = fd(l, true)) : v ? (g = false, d2 = md(l, true)) : d2 = [] : G1(l) || ia(l) ? (d2 = a, ia(a) ? d2 = Yb(a) : (!tr2(a) || Ha(a)) && (d2 = gd(l))) : g = false;
  }
  g && (o2.set(l, d2), n(d2, l, s, i, o2), o2.delete(l)), ca(r2, e, d2);
}
function wd(r2, t, e, s, n) {
  r2 !== t && Zb(t, function(i, o2) {
    if (n || (n = new ke2()), tr2(i))
      Jb(r2, t, o2, e, wd, s, n);
    else {
      var a = s ? s(ha(r2, o2), i, o2 + "", r2, t, n) : void 0;
      a === void 0 && (a = i), ca(r2, o2, a);
    }
  }, cd);
}
function $e(r2, t) {
  return xd(r2, t);
}
var We = A0(function(r2, t, e) {
  wd(r2, t, e);
});
var rt = ((r2) => (r2[r2.TYPE = 3] = "TYPE", r2[r2.LEVEL = 12] = "LEVEL", r2[r2.ATTRIBUTE = 13] = "ATTRIBUTE", r2[r2.BLOT = 14] = "BLOT", r2[r2.INLINE = 7] = "INLINE", r2[r2.BLOCK = 11] = "BLOCK", r2[r2.BLOCK_BLOT = 10] = "BLOCK_BLOT", r2[r2.INLINE_BLOT = 6] = "INLINE_BLOT", r2[r2.BLOCK_ATTRIBUTE = 9] = "BLOCK_ATTRIBUTE", r2[r2.INLINE_ATTRIBUTE = 5] = "INLINE_ATTRIBUTE", r2[r2.ANY = 15] = "ANY", r2))(rt || {});
var we = class {
  constructor(t, e, s = {}) {
    this.attrName = t, this.keyName = e;
    const n = rt.TYPE & rt.ATTRIBUTE;
    this.scope = s.scope != null ? (
      // Ignore type bits, force attribute bit
      s.scope & rt.LEVEL | n
    ) : rt.ATTRIBUTE, s.whitelist != null && (this.whitelist = s.whitelist);
  }
  static keys(t) {
    return Array.from(t.attributes).map((e) => e.name);
  }
  add(t, e) {
    return this.canAdd(t, e) ? (t.setAttribute(this.keyName, e), true) : false;
  }
  canAdd(t, e) {
    return this.whitelist == null ? true : typeof e == "string" ? this.whitelist.indexOf(e.replace(/["']/g, "")) > -1 : this.whitelist.indexOf(e) > -1;
  }
  remove(t) {
    t.removeAttribute(this.keyName);
  }
  value(t) {
    const e = t.getAttribute(this.keyName);
    return this.canAdd(t, e) && e ? e : "";
  }
};
var Zr = class extends Error {
  constructor(t) {
    t = "[Parchment] " + t, super(t), this.message = t, this.name = this.constructor.name;
  }
};
var Ed = class da {
  constructor() {
    this.attributes = {}, this.classes = {}, this.tags = {}, this.types = {};
  }
  static find(t, e = false) {
    if (t == null)
      return null;
    if (this.blots.has(t))
      return this.blots.get(t) || null;
    if (e) {
      let s = null;
      try {
        s = t.parentNode;
      } catch {
        return null;
      }
      return this.find(s, e);
    }
    return null;
  }
  create(t, e, s) {
    const n = this.query(e);
    if (n == null)
      throw new Zr(`Unable to create ${e} blot`);
    const i = n, o2 = (
      // @ts-expect-error Fix me later
      e instanceof Node || e.nodeType === Node.TEXT_NODE ? e : i.create(s)
    ), a = new i(t, o2, s);
    return da.blots.set(a.domNode, a), a;
  }
  find(t, e = false) {
    return da.find(t, e);
  }
  query(t, e = rt.ANY) {
    let s;
    return typeof t == "string" ? s = this.types[t] || this.attributes[t] : t instanceof Text || t.nodeType === Node.TEXT_NODE ? s = this.types.text : typeof t == "number" ? t & rt.LEVEL & rt.BLOCK ? s = this.types.block : t & rt.LEVEL & rt.INLINE && (s = this.types.inline) : t instanceof Element && ((t.getAttribute("class") || "").split(/\s+/).some((n) => (s = this.classes[n], !!s)), s = s || this.tags[t.tagName]), s == null ? null : "scope" in s && e & rt.LEVEL & s.scope && e & rt.TYPE & s.scope ? s : null;
  }
  register(...t) {
    return t.map((e) => {
      const s = "blotName" in e, n = "attrName" in e;
      if (!s && !n)
        throw new Zr("Invalid definition");
      if (s && e.blotName === "abstract")
        throw new Zr("Cannot register abstract class");
      const i = s ? e.blotName : n ? e.attrName : void 0;
      return this.types[i] = e, n ? typeof e.keyName == "string" && (this.attributes[e.keyName] = e) : s && (e.className && (this.classes[e.className] = e), e.tagName && (Array.isArray(e.tagName) ? e.tagName = e.tagName.map((o2) => o2.toUpperCase()) : e.tagName = e.tagName.toUpperCase(), (Array.isArray(e.tagName) ? e.tagName : [e.tagName]).forEach((o2) => {
        (this.tags[o2] == null || e.className == null) && (this.tags[o2] = e);
      }))), e;
    });
  }
};
Ed.blots = /* @__PURE__ */ new WeakMap();
var ns = Ed;
function lu(r2, t) {
  return (r2.getAttribute("class") || "").split(/\s+/).filter((e) => e.indexOf(`${t}-`) === 0);
}
var Qb = class extends we {
  static keys(t) {
    return (t.getAttribute("class") || "").split(/\s+/).map((e) => e.split("-").slice(0, -1).join("-"));
  }
  add(t, e) {
    return this.canAdd(t, e) ? (this.remove(t), t.classList.add(`${this.keyName}-${e}`), true) : false;
  }
  remove(t) {
    lu(t, this.keyName).forEach((e) => {
      t.classList.remove(e);
    }), t.classList.length === 0 && t.removeAttribute("class");
  }
  value(t) {
    const e = (lu(t, this.keyName)[0] || "").slice(this.keyName.length + 1);
    return this.canAdd(t, e) ? e : "";
  }
};
var he2 = Qb;
function No(r2) {
  const t = r2.split("-"), e = t.slice(1).map((s) => s[0].toUpperCase() + s.slice(1)).join("");
  return t[0] + e;
}
var ty = class extends we {
  static keys(t) {
    return (t.getAttribute("style") || "").split(";").map((e) => e.split(":")[0].trim());
  }
  add(t, e) {
    return this.canAdd(t, e) ? (t.style[No(this.keyName)] = e, true) : false;
  }
  remove(t) {
    t.style[No(this.keyName)] = "", t.getAttribute("style") || t.removeAttribute("style");
  }
  value(t) {
    const e = t.style[No(this.keyName)];
    return this.canAdd(t, e) ? e : "";
  }
};
var er2 = ty;
var ey = class {
  constructor(t) {
    this.attributes = {}, this.domNode = t, this.build();
  }
  attribute(t, e) {
    e ? t.add(this.domNode, e) && (t.value(this.domNode) != null ? this.attributes[t.attrName] = t : delete this.attributes[t.attrName]) : (t.remove(this.domNode), delete this.attributes[t.attrName]);
  }
  build() {
    this.attributes = {};
    const t = ns.find(this.domNode);
    if (t == null)
      return;
    const e = we.keys(this.domNode), s = he2.keys(this.domNode), n = er2.keys(this.domNode);
    e.concat(s).concat(n).forEach((i) => {
      const o2 = t.scroll.query(i, rt.ATTRIBUTE);
      o2 instanceof we && (this.attributes[o2.attrName] = o2);
    });
  }
  copy(t) {
    Object.keys(this.attributes).forEach((e) => {
      const s = this.attributes[e].value(this.domNode);
      t.format(e, s);
    });
  }
  move(t) {
    this.copy(t), Object.keys(this.attributes).forEach((e) => {
      this.attributes[e].remove(this.domNode);
    }), this.attributes = {};
  }
  values() {
    return Object.keys(this.attributes).reduce(
      (t, e) => (t[e] = this.attributes[e].value(this.domNode), t),
      {}
    );
  }
};
var bi = ey;
var _d = class {
  constructor(r2, t) {
    this.scroll = r2, this.domNode = t, ns.blots.set(t, this), this.prev = null, this.next = null;
  }
  static create(r2) {
    if (this.tagName == null)
      throw new Zr("Blot definition missing tagName");
    let t, e;
    return Array.isArray(this.tagName) ? (typeof r2 == "string" ? (e = r2.toUpperCase(), parseInt(e, 10).toString() === e && (e = parseInt(e, 10))) : typeof r2 == "number" && (e = r2), typeof e == "number" ? t = document.createElement(this.tagName[e - 1]) : e && this.tagName.indexOf(e) > -1 ? t = document.createElement(e) : t = document.createElement(this.tagName[0])) : t = document.createElement(this.tagName), this.className && t.classList.add(this.className), t;
  }
  // Hack for accessing inherited static methods
  get statics() {
    return this.constructor;
  }
  attach() {
  }
  clone() {
    const r2 = this.domNode.cloneNode(false);
    return this.scroll.create(r2);
  }
  detach() {
    this.parent != null && this.parent.removeChild(this), ns.blots.delete(this.domNode);
  }
  deleteAt(r2, t) {
    this.isolate(r2, t).remove();
  }
  formatAt(r2, t, e, s) {
    const n = this.isolate(r2, t);
    if (this.scroll.query(e, rt.BLOT) != null && s)
      n.wrap(e, s);
    else if (this.scroll.query(e, rt.ATTRIBUTE) != null) {
      const i = this.scroll.create(this.statics.scope);
      n.wrap(i), i.format(e, s);
    }
  }
  insertAt(r2, t, e) {
    const s = e == null ? this.scroll.create("text", t) : this.scroll.create(t, e), n = this.split(r2);
    this.parent.insertBefore(s, n || void 0);
  }
  isolate(r2, t) {
    const e = this.split(r2);
    if (e == null)
      throw new Error("Attempt to isolate at end");
    return e.split(t), e;
  }
  length() {
    return 1;
  }
  offset(r2 = this.parent) {
    return this.parent == null || this === r2 ? 0 : this.parent.children.offset(this) + this.parent.offset(r2);
  }
  optimize(r2) {
    this.statics.requiredContainer && !(this.parent instanceof this.statics.requiredContainer) && this.wrap(this.statics.requiredContainer.blotName);
  }
  remove() {
    this.domNode.parentNode != null && this.domNode.parentNode.removeChild(this.domNode), this.detach();
  }
  replaceWith(r2, t) {
    const e = typeof r2 == "string" ? this.scroll.create(r2, t) : r2;
    return this.parent != null && (this.parent.insertBefore(e, this.next || void 0), this.remove()), e;
  }
  split(r2, t) {
    return r2 === 0 ? this : this.next;
  }
  update(r2, t) {
  }
  wrap(r2, t) {
    const e = typeof r2 == "string" ? this.scroll.create(r2, t) : r2;
    if (this.parent != null && this.parent.insertBefore(e, this.next || void 0), typeof e.appendChild != "function")
      throw new Zr(`Cannot wrap ${r2}`);
    return e.appendChild(this), e;
  }
};
_d.blotName = "abstract";
var Ad = _d;
var Nd = class extends Ad {
  /**
   * Returns the value represented by domNode if it is this Blot's type
   * No checking that domNode can represent this Blot type is required so
   * applications needing it should check externally before calling.
   */
  static value(r2) {
    return true;
  }
  /**
   * Given location represented by node and offset from DOM Selection Range,
   * return index to that location.
   */
  index(r2, t) {
    return this.domNode === r2 || this.domNode.compareDocumentPosition(r2) & Node.DOCUMENT_POSITION_CONTAINED_BY ? Math.min(t, 1) : -1;
  }
  /**
   * Given index to location within blot, return node and offset representing
   * that location, consumable by DOM Selection Range
   */
  position(r2, t) {
    let e = Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);
    return r2 > 0 && (e += 1), [this.parent.domNode, e];
  }
  /**
   * Return value represented by this blot
   * Should not change without interaction from API or
   * user change detectable by update()
   */
  value() {
    return {
      [this.statics.blotName]: this.statics.value(this.domNode) || true
    };
  }
};
Nd.scope = rt.INLINE_BLOT;
var ry = Nd;
var Pt = ry;
var sy = class {
  constructor() {
    this.head = null, this.tail = null, this.length = 0;
  }
  append(...t) {
    if (this.insertBefore(t[0], null), t.length > 1) {
      const e = t.slice(1);
      this.append(...e);
    }
  }
  at(t) {
    const e = this.iterator();
    let s = e();
    for (; s && t > 0; )
      t -= 1, s = e();
    return s;
  }
  contains(t) {
    const e = this.iterator();
    let s = e();
    for (; s; ) {
      if (s === t)
        return true;
      s = e();
    }
    return false;
  }
  indexOf(t) {
    const e = this.iterator();
    let s = e(), n = 0;
    for (; s; ) {
      if (s === t)
        return n;
      n += 1, s = e();
    }
    return -1;
  }
  insertBefore(t, e) {
    t != null && (this.remove(t), t.next = e, e != null ? (t.prev = e.prev, e.prev != null && (e.prev.next = t), e.prev = t, e === this.head && (this.head = t)) : this.tail != null ? (this.tail.next = t, t.prev = this.tail, this.tail = t) : (t.prev = null, this.head = this.tail = t), this.length += 1);
  }
  offset(t) {
    let e = 0, s = this.head;
    for (; s != null; ) {
      if (s === t)
        return e;
      e += s.length(), s = s.next;
    }
    return -1;
  }
  remove(t) {
    this.contains(t) && (t.prev != null && (t.prev.next = t.next), t.next != null && (t.next.prev = t.prev), t === this.head && (this.head = t.next), t === this.tail && (this.tail = t.prev), this.length -= 1);
  }
  iterator(t = this.head) {
    return () => {
      const e = t;
      return t != null && (t = t.next), e;
    };
  }
  find(t, e = false) {
    const s = this.iterator();
    let n = s();
    for (; n; ) {
      const i = n.length();
      if (t < i || e && t === i && (n.next == null || n.next.length() !== 0))
        return [n, t];
      t -= i, n = s();
    }
    return [null, 0];
  }
  forEach(t) {
    const e = this.iterator();
    let s = e();
    for (; s; )
      t(s), s = e();
  }
  forEachAt(t, e, s) {
    if (e <= 0)
      return;
    const [n, i] = this.find(t);
    let o2 = t - i;
    const a = this.iterator(n);
    let l = a();
    for (; l && o2 < t + e; ) {
      const c = l.length();
      t > o2 ? s(
        l,
        t - o2,
        Math.min(e, o2 + c - t)
      ) : s(l, 0, Math.min(c, t + e - o2)), o2 += c, l = a();
    }
  }
  map(t) {
    return this.reduce((e, s) => (e.push(t(s)), e), []);
  }
  reduce(t, e) {
    const s = this.iterator();
    let n = s();
    for (; n; )
      e = t(e, n), n = s();
    return e;
  }
};
function uu(r2, t) {
  const e = t.find(r2);
  if (e)
    return e;
  try {
    return t.create(r2);
  } catch {
    const s = t.create(rt.INLINE);
    return Array.from(r2.childNodes).forEach((n) => {
      s.domNode.appendChild(n);
    }), r2.parentNode && r2.parentNode.replaceChild(s.domNode, r2), s.attach(), s;
  }
}
var Sd = class Ue extends Ad {
  constructor(t, e) {
    super(t, e), this.uiNode = null, this.build();
  }
  appendChild(t) {
    this.insertBefore(t);
  }
  attach() {
    super.attach(), this.children.forEach((t) => {
      t.attach();
    });
  }
  attachUI(t) {
    this.uiNode != null && this.uiNode.remove(), this.uiNode = t, Ue.uiClass && this.uiNode.classList.add(Ue.uiClass), this.uiNode.setAttribute("contenteditable", "false"), this.domNode.insertBefore(this.uiNode, this.domNode.firstChild);
  }
  /**
   * Called during construction, should fill its own children LinkedList.
   */
  build() {
    this.children = new sy(), Array.from(this.domNode.childNodes).filter((t) => t !== this.uiNode).reverse().forEach((t) => {
      try {
        const e = uu(t, this.scroll);
        this.insertBefore(e, this.children.head || void 0);
      } catch (e) {
        if (e instanceof Zr)
          return;
        throw e;
      }
    });
  }
  deleteAt(t, e) {
    if (t === 0 && e === this.length())
      return this.remove();
    this.children.forEachAt(t, e, (s, n, i) => {
      s.deleteAt(n, i);
    });
  }
  descendant(t, e = 0) {
    const [s, n] = this.children.find(e);
    return t.blotName == null && t(s) || t.blotName != null && s instanceof t ? [s, n] : s instanceof Ue ? s.descendant(t, n) : [null, -1];
  }
  descendants(t, e = 0, s = Number.MAX_VALUE) {
    let n = [], i = s;
    return this.children.forEachAt(
      e,
      s,
      (o2, a, l) => {
        (t.blotName == null && t(o2) || t.blotName != null && o2 instanceof t) && n.push(o2), o2 instanceof Ue && (n = n.concat(
          o2.descendants(t, a, i)
        )), i -= l;
      }
    ), n;
  }
  detach() {
    this.children.forEach((t) => {
      t.detach();
    }), super.detach();
  }
  enforceAllowedChildren() {
    let t = false;
    this.children.forEach((e) => {
      t || this.statics.allowedChildren.some(
        (s) => e instanceof s
      ) || (e.statics.scope === rt.BLOCK_BLOT ? (e.next != null && this.splitAfter(e), e.prev != null && this.splitAfter(e.prev), e.parent.unwrap(), t = true) : e instanceof Ue ? e.unwrap() : e.remove());
    });
  }
  formatAt(t, e, s, n) {
    this.children.forEachAt(t, e, (i, o2, a) => {
      i.formatAt(o2, a, s, n);
    });
  }
  insertAt(t, e, s) {
    const [n, i] = this.children.find(t);
    if (n)
      n.insertAt(i, e, s);
    else {
      const o2 = s == null ? this.scroll.create("text", e) : this.scroll.create(e, s);
      this.appendChild(o2);
    }
  }
  insertBefore(t, e) {
    t.parent != null && t.parent.children.remove(t);
    let s = null;
    this.children.insertBefore(t, e || null), t.parent = this, e != null && (s = e.domNode), (this.domNode.parentNode !== t.domNode || this.domNode.nextSibling !== s) && this.domNode.insertBefore(t.domNode, s), t.attach();
  }
  length() {
    return this.children.reduce((t, e) => t + e.length(), 0);
  }
  moveChildren(t, e) {
    this.children.forEach((s) => {
      t.insertBefore(s, e);
    });
  }
  optimize(t) {
    if (super.optimize(t), this.enforceAllowedChildren(), this.uiNode != null && this.uiNode !== this.domNode.firstChild && this.domNode.insertBefore(this.uiNode, this.domNode.firstChild), this.children.length === 0)
      if (this.statics.defaultChild != null) {
        const e = this.scroll.create(this.statics.defaultChild.blotName);
        this.appendChild(e);
      } else
        this.remove();
  }
  path(t, e = false) {
    const [s, n] = this.children.find(t, e), i = [[this, t]];
    return s instanceof Ue ? i.concat(s.path(n, e)) : (s != null && i.push([s, n]), i);
  }
  removeChild(t) {
    this.children.remove(t);
  }
  replaceWith(t, e) {
    const s = typeof t == "string" ? this.scroll.create(t, e) : t;
    return s instanceof Ue && this.moveChildren(s), super.replaceWith(s);
  }
  split(t, e = false) {
    if (!e) {
      if (t === 0)
        return this;
      if (t === this.length())
        return this.next;
    }
    const s = this.clone();
    return this.parent && this.parent.insertBefore(s, this.next || void 0), this.children.forEachAt(t, this.length(), (n, i, o2) => {
      const a = n.split(i, e);
      a != null && s.appendChild(a);
    }), s;
  }
  splitAfter(t) {
    const e = this.clone();
    for (; t.next != null; )
      e.appendChild(t.next);
    return this.parent && this.parent.insertBefore(e, this.next || void 0), e;
  }
  unwrap() {
    this.parent && this.moveChildren(this.parent, this.next || void 0), this.remove();
  }
  update(t, e) {
    const s = [], n = [];
    t.forEach((i) => {
      i.target === this.domNode && i.type === "childList" && (s.push(...i.addedNodes), n.push(...i.removedNodes));
    }), n.forEach((i) => {
      if (i.parentNode != null && // @ts-expect-error Fix me later
      i.tagName !== "IFRAME" && document.body.compareDocumentPosition(i) & Node.DOCUMENT_POSITION_CONTAINED_BY)
        return;
      const o2 = this.scroll.find(i);
      o2 != null && (o2.domNode.parentNode == null || o2.domNode.parentNode === this.domNode) && o2.detach();
    }), s.filter((i) => i.parentNode === this.domNode && i !== this.uiNode).sort((i, o2) => i === o2 ? 0 : i.compareDocumentPosition(o2) & Node.DOCUMENT_POSITION_FOLLOWING ? 1 : -1).forEach((i) => {
      let o2 = null;
      i.nextSibling != null && (o2 = this.scroll.find(i.nextSibling));
      const a = uu(i, this.scroll);
      (a.next !== o2 || a.next == null) && (a.parent != null && a.parent.removeChild(this), this.insertBefore(a, o2 || void 0));
    }), this.enforceAllowedChildren();
  }
};
Sd.uiClass = "";
var ny = Sd;
var ue = ny;
function iy(r2, t) {
  if (Object.keys(r2).length !== Object.keys(t).length)
    return false;
  for (const e in r2)
    if (r2[e] !== t[e])
      return false;
  return true;
}
var Pr = class Vr extends ue {
  static create(t) {
    return super.create(t);
  }
  static formats(t, e) {
    const s = e.query(Vr.blotName);
    if (!(s != null && t.tagName === s.tagName)) {
      if (typeof this.tagName == "string")
        return true;
      if (Array.isArray(this.tagName))
        return t.tagName.toLowerCase();
    }
  }
  constructor(t, e) {
    super(t, e), this.attributes = new bi(this.domNode);
  }
  format(t, e) {
    if (t === this.statics.blotName && !e)
      this.children.forEach((s) => {
        s instanceof Vr || (s = s.wrap(Vr.blotName, true)), this.attributes.copy(s);
      }), this.unwrap();
    else {
      const s = this.scroll.query(t, rt.INLINE);
      if (s == null)
        return;
      s instanceof we ? this.attributes.attribute(s, e) : e && (t !== this.statics.blotName || this.formats()[t] !== e) && this.replaceWith(t, e);
    }
  }
  formats() {
    const t = this.attributes.values(), e = this.statics.formats(this.domNode, this.scroll);
    return e != null && (t[this.statics.blotName] = e), t;
  }
  formatAt(t, e, s, n) {
    this.formats()[s] != null || this.scroll.query(s, rt.ATTRIBUTE) ? this.isolate(t, e).format(s, n) : super.formatAt(t, e, s, n);
  }
  optimize(t) {
    super.optimize(t);
    const e = this.formats();
    if (Object.keys(e).length === 0)
      return this.unwrap();
    const s = this.next;
    s instanceof Vr && s.prev === this && iy(e, s.formats()) && (s.moveChildren(this), s.remove());
  }
  replaceWith(t, e) {
    const s = super.replaceWith(t, e);
    return this.attributes.copy(s), s;
  }
  update(t, e) {
    super.update(t, e), t.some(
      (s) => s.target === this.domNode && s.type === "attributes"
    ) && this.attributes.build();
  }
  wrap(t, e) {
    const s = super.wrap(t, e);
    return s instanceof Vr && this.attributes.move(s), s;
  }
};
Pr.allowedChildren = [Pr, Pt], Pr.blotName = "inline", Pr.scope = rt.INLINE_BLOT, Pr.tagName = "SPAN";
var oy = Pr;
var Ya = oy;
var Ur = class pa extends ue {
  static create(t) {
    return super.create(t);
  }
  static formats(t, e) {
    const s = e.query(pa.blotName);
    if (!(s != null && t.tagName === s.tagName)) {
      if (typeof this.tagName == "string")
        return true;
      if (Array.isArray(this.tagName))
        return t.tagName.toLowerCase();
    }
  }
  constructor(t, e) {
    super(t, e), this.attributes = new bi(this.domNode);
  }
  format(t, e) {
    const s = this.scroll.query(t, rt.BLOCK);
    s != null && (s instanceof we ? this.attributes.attribute(s, e) : t === this.statics.blotName && !e ? this.replaceWith(pa.blotName) : e && (t !== this.statics.blotName || this.formats()[t] !== e) && this.replaceWith(t, e));
  }
  formats() {
    const t = this.attributes.values(), e = this.statics.formats(this.domNode, this.scroll);
    return e != null && (t[this.statics.blotName] = e), t;
  }
  formatAt(t, e, s, n) {
    this.scroll.query(s, rt.BLOCK) != null ? this.format(s, n) : super.formatAt(t, e, s, n);
  }
  insertAt(t, e, s) {
    if (s == null || this.scroll.query(e, rt.INLINE) != null)
      super.insertAt(t, e, s);
    else {
      const n = this.split(t);
      if (n != null) {
        const i = this.scroll.create(e, s);
        n.parent.insertBefore(i, n);
      } else
        throw new Error("Attempt to insertAt after block boundaries");
    }
  }
  replaceWith(t, e) {
    const s = super.replaceWith(t, e);
    return this.attributes.copy(s), s;
  }
  update(t, e) {
    super.update(t, e), t.some(
      (s) => s.target === this.domNode && s.type === "attributes"
    ) && this.attributes.build();
  }
};
Ur.blotName = "block", Ur.scope = rt.BLOCK_BLOT, Ur.tagName = "P", Ur.allowedChildren = [
  Ya,
  Ur,
  Pt
];
var ay = Ur;
var Fs = ay;
var fa = class extends ue {
  checkMerge() {
    return this.next !== null && this.next.statics.blotName === this.statics.blotName;
  }
  deleteAt(r2, t) {
    super.deleteAt(r2, t), this.enforceAllowedChildren();
  }
  formatAt(r2, t, e, s) {
    super.formatAt(r2, t, e, s), this.enforceAllowedChildren();
  }
  insertAt(r2, t, e) {
    super.insertAt(r2, t, e), this.enforceAllowedChildren();
  }
  optimize(r2) {
    super.optimize(r2), this.children.length > 0 && this.next != null && this.checkMerge() && (this.next.moveChildren(this), this.next.remove());
  }
};
fa.blotName = "container", fa.scope = rt.BLOCK_BLOT;
var ly = fa;
var yi = ly;
var uy = class extends Pt {
  static formats(t, e) {
  }
  format(t, e) {
    super.formatAt(0, this.length(), t, e);
  }
  formatAt(t, e, s, n) {
    t === 0 && e === this.length() ? this.format(s, n) : super.formatAt(t, e, s, n);
  }
  formats() {
    return this.statics.formats(this.domNode, this.scroll);
  }
};
var Xt = uy;
var cy = {
  attributes: true,
  characterData: true,
  characterDataOldValue: true,
  childList: true,
  subtree: true
};
var hy = 100;
var $r = class extends ue {
  constructor(r2, t) {
    super(null, t), this.registry = r2, this.scroll = this, this.build(), this.observer = new MutationObserver((e) => {
      this.update(e);
    }), this.observer.observe(this.domNode, cy), this.attach();
  }
  create(r2, t) {
    return this.registry.create(this, r2, t);
  }
  find(r2, t = false) {
    const e = this.registry.find(r2, t);
    return e ? e.scroll === this ? e : t ? this.find(e.scroll.domNode.parentNode, true) : null : null;
  }
  query(r2, t = rt.ANY) {
    return this.registry.query(r2, t);
  }
  register(...r2) {
    return this.registry.register(...r2);
  }
  build() {
    this.scroll != null && super.build();
  }
  detach() {
    super.detach(), this.observer.disconnect();
  }
  deleteAt(r2, t) {
    this.update(), r2 === 0 && t === this.length() ? this.children.forEach((e) => {
      e.remove();
    }) : super.deleteAt(r2, t);
  }
  formatAt(r2, t, e, s) {
    this.update(), super.formatAt(r2, t, e, s);
  }
  insertAt(r2, t, e) {
    this.update(), super.insertAt(r2, t, e);
  }
  optimize(r2 = [], t = {}) {
    super.optimize(t);
    const e = t.mutationsMap || /* @__PURE__ */ new WeakMap();
    let s = Array.from(this.observer.takeRecords());
    for (; s.length > 0; )
      r2.push(s.pop());
    const n = (a, l = true) => {
      a == null || a === this || a.domNode.parentNode != null && (e.has(a.domNode) || e.set(a.domNode, []), l && n(a.parent));
    }, i = (a) => {
      e.has(a.domNode) && (a instanceof ue && a.children.forEach(i), e.delete(a.domNode), a.optimize(t));
    };
    let o2 = r2;
    for (let a = 0; o2.length > 0; a += 1) {
      if (a >= hy)
        throw new Error("[Parchment] Maximum optimize iterations reached");
      for (o2.forEach((l) => {
        const c = this.find(l.target, true);
        c != null && (c.domNode === l.target && (l.type === "childList" ? (n(this.find(l.previousSibling, false)), Array.from(l.addedNodes).forEach((d2) => {
          const g = this.find(d2, false);
          n(g, false), g instanceof ue && g.children.forEach((h) => {
            n(h, false);
          });
        })) : l.type === "attributes" && n(c.prev)), n(c));
      }), this.children.forEach(i), o2 = Array.from(this.observer.takeRecords()), s = o2.slice(); s.length > 0; )
        r2.push(s.pop());
    }
  }
  update(r2, t = {}) {
    r2 = r2 || this.observer.takeRecords();
    const e = /* @__PURE__ */ new WeakMap();
    r2.map((s) => {
      const n = this.find(s.target, true);
      return n == null ? null : e.has(n.domNode) ? (e.get(n.domNode).push(s), null) : (e.set(n.domNode, [s]), n);
    }).forEach((s) => {
      s != null && s !== this && e.has(s.domNode) && s.update(e.get(s.domNode) || [], t);
    }), t.mutationsMap = e, e.has(this.domNode) && super.update(e.get(this.domNode), t), this.optimize(r2, t);
  }
};
$r.blotName = "scroll", $r.defaultChild = Fs, $r.allowedChildren = [Fs, yi], $r.scope = rt.BLOCK_BLOT, $r.tagName = "DIV";
var dy = $r;
var Ja = dy;
var ma = class Cd extends Pt {
  static create(t) {
    return document.createTextNode(t);
  }
  static value(t) {
    return t.data;
  }
  constructor(t, e) {
    super(t, e), this.text = this.statics.value(this.domNode);
  }
  deleteAt(t, e) {
    this.domNode.data = this.text = this.text.slice(0, t) + this.text.slice(t + e);
  }
  index(t, e) {
    return this.domNode === t ? e : -1;
  }
  insertAt(t, e, s) {
    s == null ? (this.text = this.text.slice(0, t) + e + this.text.slice(t), this.domNode.data = this.text) : super.insertAt(t, e, s);
  }
  length() {
    return this.text.length;
  }
  optimize(t) {
    super.optimize(t), this.text = this.statics.value(this.domNode), this.text.length === 0 ? this.remove() : this.next instanceof Cd && this.next.prev === this && (this.insertAt(this.length(), this.next.value()), this.next.remove());
  }
  position(t, e = false) {
    return [this.domNode, t];
  }
  split(t, e = false) {
    if (!e) {
      if (t === 0)
        return this;
      if (t === this.length())
        return this.next;
    }
    const s = this.scroll.create(this.domNode.splitText(t));
    return this.parent.insertBefore(s, this.next || void 0), this.text = this.statics.value(this.domNode), s;
  }
  update(t, e) {
    t.some((s) => s.type === "characterData" && s.target === this.domNode) && (this.text = this.statics.value(this.domNode));
  }
  value() {
    return this.text;
  }
};
ma.blotName = "text", ma.scope = rt.INLINE_BLOT;
var py = ma;
var Yn2 = py;
var fy = Object.freeze(Object.defineProperty({
  __proto__: null,
  Attributor: we,
  AttributorStore: bi,
  BlockBlot: Fs,
  ClassAttributor: he2,
  ContainerBlot: yi,
  EmbedBlot: Xt,
  InlineBlot: Ya,
  LeafBlot: Pt,
  ParentBlot: ue,
  Registry: ns,
  Scope: rt,
  ScrollBlot: Ja,
  StyleAttributor: er2,
  TextBlot: Yn2
}, Symbol.toStringTag, { value: "Module" }));
var So = { exports: {} };
var Co;
var cu;
function my() {
  if (cu) return Co;
  cu = 1;
  var r2 = -1, t = 1, e = 0;
  function s(b, M, x, $, P) {
    if (b === M)
      return b ? [[e, b]] : [];
    if (x != null) {
      var S2 = mt(b, M, x);
      if (S2)
        return S2;
    }
    var B = a(b, M), W2 = b.substring(0, B);
    b = b.substring(B), M = M.substring(B), B = c(b, M);
    var Z = b.substring(b.length - B);
    b = b.substring(0, b.length - B), M = M.substring(0, M.length - B);
    var w2 = n(b, M);
    return W2 && w2.unshift([e, W2]), Z && w2.push([e, Z]), E(w2, P), $ && g(w2), w2;
  }
  function n(b, M) {
    var x;
    if (!b)
      return [[t, M]];
    if (!M)
      return [[r2, b]];
    var $ = b.length > M.length ? b : M, P = b.length > M.length ? M : b, S2 = $.indexOf(P);
    if (S2 !== -1)
      return x = [
        [t, $.substring(0, S2)],
        [e, P],
        [t, $.substring(S2 + P.length)]
      ], b.length > M.length && (x[0][0] = x[2][0] = r2), x;
    if (P.length === 1)
      return [
        [r2, b],
        [t, M]
      ];
    var B = d2(b, M);
    if (B) {
      var W2 = B[0], Z = B[1], w2 = B[2], L = B[3], V = B[4], K = s(W2, w2), z = s(Z, L);
      return K.concat([[e, V]], z);
    }
    return i(b, M);
  }
  function i(b, M) {
    for (var x = b.length, $ = M.length, P = Math.ceil((x + $) / 2), S2 = P, B = 2 * P, W2 = new Array(B), Z = new Array(B), w2 = 0; w2 < B; w2++)
      W2[w2] = -1, Z[w2] = -1;
    W2[S2 + 1] = 0, Z[S2 + 1] = 0;
    for (var L = x - $, V = L % 2 !== 0, K = 0, z = 0, U = 0, Y = 0, j = 0; j < P; j++) {
      for (var D = -j + K; D <= j - z; D += 2) {
        var H2 = S2 + D, F;
        D === -j || D !== j && W2[H2 - 1] < W2[H2 + 1] ? F = W2[H2 + 1] : F = W2[H2 - 1] + 1;
        for (var J2 = F - D; F < x && J2 < $ && b.charAt(F) === M.charAt(J2); )
          F++, J2++;
        if (W2[H2] = F, F > x)
          z += 2;
        else if (J2 > $)
          K += 2;
        else if (V) {
          var T = S2 + L - D;
          if (T >= 0 && T < B && Z[T] !== -1) {
            var at = x - Z[T];
            if (F >= at)
              return o2(b, M, F, J2);
          }
        }
      }
      for (var yt = -j + U; yt <= j - Y; yt += 2) {
        var T = S2 + yt, at;
        yt === -j || yt !== j && Z[T - 1] < Z[T + 1] ? at = Z[T + 1] : at = Z[T - 1] + 1;
        for (var At = at - yt; at < x && At < $ && b.charAt(x - at - 1) === M.charAt($ - At - 1); )
          at++, At++;
        if (Z[T] = at, at > x)
          Y += 2;
        else if (At > $)
          U += 2;
        else if (!V) {
          var H2 = S2 + L - yt;
          if (H2 >= 0 && H2 < B && W2[H2] !== -1) {
            var F = W2[H2], J2 = S2 + F - H2;
            if (at = x - at, F >= at)
              return o2(b, M, F, J2);
          }
        }
      }
    }
    return [
      [r2, b],
      [t, M]
    ];
  }
  function o2(b, M, x, $) {
    var P = b.substring(0, x), S2 = M.substring(0, $), B = b.substring(x), W2 = M.substring($), Z = s(P, S2), w2 = s(B, W2);
    return Z.concat(w2);
  }
  function a(b, M) {
    if (!b || !M || b.charAt(0) !== M.charAt(0))
      return 0;
    for (var x = 0, $ = Math.min(b.length, M.length), P = $, S2 = 0; x < P; )
      b.substring(S2, P) == M.substring(S2, P) ? (x = P, S2 = x) : $ = P, P = Math.floor(($ - x) / 2 + x);
    return N(b.charCodeAt(P - 1)) && P--, P;
  }
  function l(b, M) {
    var x = b.length, $ = M.length;
    if (x == 0 || $ == 0)
      return 0;
    x > $ ? b = b.substring(x - $) : x < $ && (M = M.substring(0, x));
    var P = Math.min(x, $);
    if (b == M)
      return P;
    for (var S2 = 0, B = 1; ; ) {
      var W2 = b.substring(P - B), Z = M.indexOf(W2);
      if (Z == -1)
        return S2;
      B += Z, (Z == 0 || b.substring(P - B) == M.substring(0, B)) && (S2 = B, B++);
    }
  }
  function c(b, M) {
    if (!b || !M || b.slice(-1) !== M.slice(-1))
      return 0;
    for (var x = 0, $ = Math.min(b.length, M.length), P = $, S2 = 0; x < P; )
      b.substring(b.length - P, b.length - S2) == M.substring(M.length - P, M.length - S2) ? (x = P, S2 = x) : $ = P, P = Math.floor(($ - x) / 2 + x);
    return q2(b.charCodeAt(b.length - P)) && P--, P;
  }
  function d2(b, M) {
    var x = b.length > M.length ? b : M, $ = b.length > M.length ? M : b;
    if (x.length < 4 || $.length * 2 < x.length)
      return null;
    function P(z, U, Y) {
      for (var j = z.substring(Y, Y + Math.floor(z.length / 4)), D = -1, H2 = "", F, J2, T, at; (D = U.indexOf(j, D + 1)) !== -1; ) {
        var yt = a(
          z.substring(Y),
          U.substring(D)
        ), At = c(
          z.substring(0, Y),
          U.substring(0, D)
        );
        H2.length < At + yt && (H2 = U.substring(D - At, D) + U.substring(D, D + yt), F = z.substring(0, Y - At), J2 = z.substring(Y + yt), T = U.substring(0, D - At), at = U.substring(D + yt));
      }
      return H2.length * 2 >= z.length ? [
        F,
        J2,
        T,
        at,
        H2
      ] : null;
    }
    var S2 = P(
      x,
      $,
      Math.ceil(x.length / 4)
    ), B = P(
      x,
      $,
      Math.ceil(x.length / 2)
    ), W2;
    if (!S2 && !B)
      return null;
    B ? S2 ? W2 = S2[4].length > B[4].length ? S2 : B : W2 = B : W2 = S2;
    var Z, w2, L, V;
    b.length > M.length ? (Z = W2[0], w2 = W2[1], L = W2[2], V = W2[3]) : (L = W2[0], V = W2[1], Z = W2[2], w2 = W2[3]);
    var K = W2[4];
    return [Z, w2, L, V, K];
  }
  function g(b) {
    for (var M = false, x = [], $ = 0, P = null, S2 = 0, B = 0, W2 = 0, Z = 0, w2 = 0; S2 < b.length; )
      b[S2][0] == e ? (x[$++] = S2, B = Z, W2 = w2, Z = 0, w2 = 0, P = b[S2][1]) : (b[S2][0] == t ? Z += b[S2][1].length : w2 += b[S2][1].length, P && P.length <= Math.max(B, W2) && P.length <= Math.max(Z, w2) && (b.splice(x[$ - 1], 0, [
        r2,
        P
      ]), b[x[$ - 1] + 1][0] = t, $--, $--, S2 = $ > 0 ? x[$ - 1] : -1, B = 0, W2 = 0, Z = 0, w2 = 0, P = null, M = true)), S2++;
    for (M && E(b), _(b), S2 = 1; S2 < b.length; ) {
      if (b[S2 - 1][0] == r2 && b[S2][0] == t) {
        var L = b[S2 - 1][1], V = b[S2][1], K = l(L, V), z = l(V, L);
        K >= z ? (K >= L.length / 2 || K >= V.length / 2) && (b.splice(S2, 0, [
          e,
          V.substring(0, K)
        ]), b[S2 - 1][1] = L.substring(
          0,
          L.length - K
        ), b[S2 + 1][1] = V.substring(K), S2++) : (z >= L.length / 2 || z >= V.length / 2) && (b.splice(S2, 0, [
          e,
          L.substring(0, z)
        ]), b[S2 - 1][0] = t, b[S2 - 1][1] = V.substring(
          0,
          V.length - z
        ), b[S2 + 1][0] = r2, b[S2 + 1][1] = L.substring(z), S2++), S2++;
      }
      S2++;
    }
  }
  var h = /[^a-zA-Z0-9]/, f = /\s/, v = /[\r\n]/, m = /\n\r?\n$/, k = /^\r?\n\r?\n/;
  function _(b) {
    function M(z, U) {
      if (!z || !U)
        return 6;
      var Y = z.charAt(z.length - 1), j = U.charAt(0), D = Y.match(h), H2 = j.match(h), F = D && Y.match(f), J2 = H2 && j.match(f), T = F && Y.match(v), at = J2 && j.match(v), yt = T && z.match(m), At = at && U.match(k);
      return yt || At ? 5 : T || at ? 4 : D && !F && J2 ? 3 : F || J2 ? 2 : D || H2 ? 1 : 0;
    }
    for (var x = 1; x < b.length - 1; ) {
      if (b[x - 1][0] == e && b[x + 1][0] == e) {
        var $ = b[x - 1][1], P = b[x][1], S2 = b[x + 1][1], B = c($, P);
        if (B) {
          var W2 = P.substring(P.length - B);
          $ = $.substring(0, $.length - B), P = W2 + P.substring(0, P.length - B), S2 = W2 + S2;
        }
        for (var Z = $, w2 = P, L = S2, V = M($, P) + M(P, S2); P.charAt(0) === S2.charAt(0); ) {
          $ += P.charAt(0), P = P.substring(1) + S2.charAt(0), S2 = S2.substring(1);
          var K = M($, P) + M(P, S2);
          K >= V && (V = K, Z = $, w2 = P, L = S2);
        }
        b[x - 1][1] != Z && (Z ? b[x - 1][1] = Z : (b.splice(x - 1, 1), x--), b[x][1] = w2, L ? b[x + 1][1] = L : (b.splice(x + 1, 1), x--));
      }
      x++;
    }
  }
  function E(b, M) {
    b.push([e, ""]);
    for (var x = 0, $ = 0, P = 0, S2 = "", B = "", W2; x < b.length; ) {
      if (x < b.length - 1 && !b[x][1]) {
        b.splice(x, 1);
        continue;
      }
      switch (b[x][0]) {
        case t:
          P++, B += b[x][1], x++;
          break;
        case r2:
          $++, S2 += b[x][1], x++;
          break;
        case e:
          var Z = x - P - $ - 1;
          if (M) {
            if (Z >= 0 && X(b[Z][1])) {
              var w2 = b[Z][1].slice(-1);
              if (b[Z][1] = b[Z][1].slice(
                0,
                -1
              ), S2 = w2 + S2, B = w2 + B, !b[Z][1]) {
                b.splice(Z, 1), x--;
                var L = Z - 1;
                b[L] && b[L][0] === t && (P++, B = b[L][1] + B, L--), b[L] && b[L][0] === r2 && ($++, S2 = b[L][1] + S2, L--), Z = L;
              }
            }
            if (A2(b[x][1])) {
              var w2 = b[x][1].charAt(0);
              b[x][1] = b[x][1].slice(1), S2 += w2, B += w2;
            }
          }
          if (x < b.length - 1 && !b[x][1]) {
            b.splice(x, 1);
            break;
          }
          if (S2.length > 0 || B.length > 0) {
            S2.length > 0 && B.length > 0 && (W2 = a(B, S2), W2 !== 0 && (Z >= 0 ? b[Z][1] += B.substring(
              0,
              W2
            ) : (b.splice(0, 0, [
              e,
              B.substring(0, W2)
            ]), x++), B = B.substring(W2), S2 = S2.substring(W2)), W2 = c(B, S2), W2 !== 0 && (b[x][1] = B.substring(B.length - W2) + b[x][1], B = B.substring(
              0,
              B.length - W2
            ), S2 = S2.substring(
              0,
              S2.length - W2
            )));
            var V = P + $;
            S2.length === 0 && B.length === 0 ? (b.splice(x - V, V), x = x - V) : S2.length === 0 ? (b.splice(x - V, V, [t, B]), x = x - V + 1) : B.length === 0 ? (b.splice(x - V, V, [r2, S2]), x = x - V + 1) : (b.splice(
              x - V,
              V,
              [r2, S2],
              [t, B]
            ), x = x - V + 2);
          }
          x !== 0 && b[x - 1][0] === e ? (b[x - 1][1] += b[x][1], b.splice(x, 1)) : x++, P = 0, $ = 0, S2 = "", B = "";
          break;
      }
    }
    b[b.length - 1][1] === "" && b.pop();
    var K = false;
    for (x = 1; x < b.length - 1; )
      b[x - 1][0] === e && b[x + 1][0] === e && (b[x][1].substring(
        b[x][1].length - b[x - 1][1].length
      ) === b[x - 1][1] ? (b[x][1] = b[x - 1][1] + b[x][1].substring(
        0,
        b[x][1].length - b[x - 1][1].length
      ), b[x + 1][1] = b[x - 1][1] + b[x + 1][1], b.splice(x - 1, 1), K = true) : b[x][1].substring(0, b[x + 1][1].length) == b[x + 1][1] && (b[x - 1][1] += b[x + 1][1], b[x][1] = b[x][1].substring(b[x + 1][1].length) + b[x + 1][1], b.splice(x + 1, 1), K = true)), x++;
    K && E(b, M);
  }
  function N(b) {
    return b >= 55296 && b <= 56319;
  }
  function q2(b) {
    return b >= 56320 && b <= 57343;
  }
  function A2(b) {
    return q2(b.charCodeAt(0));
  }
  function X(b) {
    return N(b.charCodeAt(b.length - 1));
  }
  function G(b) {
    for (var M = [], x = 0; x < b.length; x++)
      b[x][1].length > 0 && M.push(b[x]);
    return M;
  }
  function ct(b, M, x, $) {
    return X(b) || A2($) ? null : G([
      [e, b],
      [r2, M],
      [t, x],
      [e, $]
    ]);
  }
  function mt(b, M, x) {
    var $ = typeof x == "number" ? { index: x, length: 0 } : x.oldRange, P = typeof x == "number" ? null : x.newRange, S2 = b.length, B = M.length;
    if ($.length === 0 && (P === null || P.length === 0)) {
      var W2 = $.index, Z = b.slice(0, W2), w2 = b.slice(W2), L = P ? P.index : null;
      t: {
        var V = W2 + B - S2;
        if (L !== null && L !== V || V < 0 || V > B)
          break t;
        var K = M.slice(0, V), z = M.slice(V);
        if (z !== w2)
          break t;
        var U = Math.min(W2, V), Y = Z.slice(0, U), j = K.slice(0, U);
        if (Y !== j)
          break t;
        var D = Z.slice(U), H2 = K.slice(U);
        return ct(Y, D, H2, w2);
      }
      t: {
        if (L !== null && L !== W2)
          break t;
        var F = W2, K = M.slice(0, F), z = M.slice(F);
        if (K !== Z)
          break t;
        var J2 = Math.min(S2 - F, B - F), T = w2.slice(w2.length - J2), at = z.slice(z.length - J2);
        if (T !== at)
          break t;
        var D = w2.slice(0, w2.length - J2), H2 = z.slice(0, z.length - J2);
        return ct(Z, D, H2, T);
      }
    }
    if ($.length > 0 && P && P.length === 0)
      t: {
        var Y = b.slice(0, $.index), T = b.slice($.index + $.length), U = Y.length, J2 = T.length;
        if (B < U + J2)
          break t;
        var j = M.slice(0, U), at = M.slice(B - J2);
        if (Y !== j || T !== at)
          break t;
        var D = b.slice(U, S2 - J2), H2 = M.slice(U, B - J2);
        return ct(Y, D, H2, T);
      }
    return null;
  }
  function xt(b, M, x, $) {
    return s(b, M, x, $, true);
  }
  return xt.INSERT = t, xt.DELETE = r2, xt.EQUAL = e, Co = xt, Co;
}
var Mn = { exports: {} };
Mn.exports;
var hu;
function Od() {
  return hu || (hu = 1, function(r2, t) {
    var e = 200, s = "__lodash_hash_undefined__", n = 9007199254740991, i = "[object Arguments]", o2 = "[object Array]", a = "[object Boolean]", l = "[object Date]", c = "[object Error]", d2 = "[object Function]", g = "[object GeneratorFunction]", h = "[object Map]", f = "[object Number]", v = "[object Object]", m = "[object Promise]", k = "[object RegExp]", _ = "[object Set]", E = "[object String]", N = "[object Symbol]", q2 = "[object WeakMap]", A2 = "[object ArrayBuffer]", X = "[object DataView]", G = "[object Float32Array]", ct = "[object Float64Array]", mt = "[object Int8Array]", xt = "[object Int16Array]", b = "[object Int32Array]", M = "[object Uint8Array]", x = "[object Uint8ClampedArray]", $ = "[object Uint16Array]", P = "[object Uint32Array]", S2 = /[\\^$.*+?()[\]{}|]/g, B = /\w*$/, W2 = /^\[object .+?Constructor\]$/, Z = /^(?:0|[1-9]\d*)$/, w2 = {};
    w2[i] = w2[o2] = w2[A2] = w2[X] = w2[a] = w2[l] = w2[G] = w2[ct] = w2[mt] = w2[xt] = w2[b] = w2[h] = w2[f] = w2[v] = w2[k] = w2[_] = w2[E] = w2[N] = w2[M] = w2[x] = w2[$] = w2[P] = true, w2[c] = w2[d2] = w2[q2] = false;
    var L = typeof ui == "object" && ui && ui.Object === Object && ui, V = typeof self == "object" && self && self.Object === Object && self, K = L || V || Function("return this")(), z = t && !t.nodeType && t, U = z && true && r2 && !r2.nodeType && r2, Y = U && U.exports === z;
    function j(u, p2) {
      return u.set(p2[0], p2[1]), u;
    }
    function D(u, p2) {
      return u.add(p2), u;
    }
    function H2(u, p2) {
      for (var y = -1, O2 = u ? u.length : 0; ++y < O2 && p2(u[y], y, u) !== false; )
        ;
      return u;
    }
    function F(u, p2) {
      for (var y = -1, O2 = p2.length, lt = u.length; ++y < O2; )
        u[lt + y] = p2[y];
      return u;
    }
    function J2(u, p2, y, O2) {
      for (var lt = -1, it = u ? u.length : 0; ++lt < it; )
        y = p2(y, u[lt], lt, u);
      return y;
    }
    function T(u, p2) {
      for (var y = -1, O2 = Array(u); ++y < u; )
        O2[y] = p2(y);
      return O2;
    }
    function at(u, p2) {
      return u == null ? void 0 : u[p2];
    }
    function yt(u) {
      var p2 = false;
      if (u != null && typeof u.toString != "function")
        try {
          p2 = !!(u + "");
        } catch {
        }
      return p2;
    }
    function At(u) {
      var p2 = -1, y = Array(u.size);
      return u.forEach(function(O2, lt) {
        y[++p2] = [lt, O2];
      }), y;
    }
    function _e(u, p2) {
      return function(y) {
        return u(p2(y));
      };
    }
    function Ys(u) {
      var p2 = -1, y = Array(u.size);
      return u.forEach(function(O2) {
        y[++p2] = O2;
      }), y;
    }
    var Ti = Array.prototype, Ri = Function.prototype, Cr = Object.prototype, cs = K["__core-js_shared__"], Js = function() {
      var u = /[^.]+$/.exec(cs && cs.keys && cs.keys.IE_PROTO || "");
      return u ? "Symbol(src)_1." + u : "";
    }(), Qs = Ri.toString, fe = Cr.hasOwnProperty, Or = Cr.toString, Li = RegExp(
      "^" + Qs.call(fe).replace(S2, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
    ), sr = Y ? K.Buffer : void 0, Tr = K.Symbol, hs = K.Uint8Array, Yt = _e(Object.getPrototypeOf, Object), tn = Object.create, en = Cr.propertyIsEnumerable, Ii = Ti.splice, ds = Object.getOwnPropertySymbols, Rr = sr ? sr.isBuffer : void 0, rn = _e(Object.keys, Object), Lr = ne(K, "DataView"), nr2 = ne(K, "Map"), se = ne(K, "Promise"), Ir = ne(K, "Set"), ps = ne(K, "WeakMap"), ir = ne(Object, "create"), fs = zt(Lr), or = zt(nr2), ms = zt(se), gs = zt(Ir), vs = zt(ps), Fe = Tr ? Tr.prototype : void 0, sn = Fe ? Fe.valueOf : void 0;
    function Ae(u) {
      var p2 = -1, y = u ? u.length : 0;
      for (this.clear(); ++p2 < y; ) {
        var O2 = u[p2];
        this.set(O2[0], O2[1]);
      }
    }
    function qi() {
      this.__data__ = ir ? ir(null) : {};
    }
    function ji(u) {
      return this.has(u) && delete this.__data__[u];
    }
    function Mi(u) {
      var p2 = this.__data__;
      if (ir) {
        var y = p2[u];
        return y === s ? void 0 : y;
      }
      return fe.call(p2, u) ? p2[u] : void 0;
    }
    function nn(u) {
      var p2 = this.__data__;
      return ir ? p2[u] !== void 0 : fe.call(p2, u);
    }
    function bs(u, p2) {
      var y = this.__data__;
      return y[u] = ir && p2 === void 0 ? s : p2, this;
    }
    Ae.prototype.clear = qi, Ae.prototype.delete = ji, Ae.prototype.get = Mi, Ae.prototype.has = nn, Ae.prototype.set = bs;
    function It(u) {
      var p2 = -1, y = u ? u.length : 0;
      for (this.clear(); ++p2 < y; ) {
        var O2 = u[p2];
        this.set(O2[0], O2[1]);
      }
    }
    function Bi() {
      this.__data__ = [];
    }
    function Di(u) {
      var p2 = this.__data__, y = jr(p2, u);
      if (y < 0)
        return false;
      var O2 = p2.length - 1;
      return y == O2 ? p2.pop() : Ii.call(p2, y, 1), true;
    }
    function Fi(u) {
      var p2 = this.__data__, y = jr(p2, u);
      return y < 0 ? void 0 : p2[y][1];
    }
    function Pi(u) {
      return jr(this.__data__, u) > -1;
    }
    function Vi(u, p2) {
      var y = this.__data__, O2 = jr(y, u);
      return O2 < 0 ? y.push([u, p2]) : y[O2][1] = p2, this;
    }
    It.prototype.clear = Bi, It.prototype.delete = Di, It.prototype.get = Fi, It.prototype.has = Pi, It.prototype.set = Vi;
    function Bt(u) {
      var p2 = -1, y = u ? u.length : 0;
      for (this.clear(); ++p2 < y; ) {
        var O2 = u[p2];
        this.set(O2[0], O2[1]);
      }
    }
    function Ui() {
      this.__data__ = {
        hash: new Ae(),
        map: new (nr2 || It)(),
        string: new Ae()
      };
    }
    function $i(u) {
      return lr(this, u).delete(u);
    }
    function zi(u) {
      return lr(this, u).get(u);
    }
    function Hi(u) {
      return lr(this, u).has(u);
    }
    function Ki(u, p2) {
      return lr(this, u).set(u, p2), this;
    }
    Bt.prototype.clear = Ui, Bt.prototype.delete = $i, Bt.prototype.get = zi, Bt.prototype.has = Hi, Bt.prototype.set = Ki;
    function Ht(u) {
      this.__data__ = new It(u);
    }
    function Gi() {
      this.__data__ = new It();
    }
    function Wi(u) {
      return this.__data__.delete(u);
    }
    function Zi(u) {
      return this.__data__.get(u);
    }
    function Xi(u) {
      return this.__data__.has(u);
    }
    function Yi(u, p2) {
      var y = this.__data__;
      if (y instanceof It) {
        var O2 = y.__data__;
        if (!nr2 || O2.length < e - 1)
          return O2.push([u, p2]), this;
        y = this.__data__ = new Bt(O2);
      }
      return y.set(u, p2), this;
    }
    Ht.prototype.clear = Gi, Ht.prototype.delete = Wi, Ht.prototype.get = Zi, Ht.prototype.has = Xi, Ht.prototype.set = Yi;
    function qr(u, p2) {
      var y = ws(u) || Br(u) ? T(u.length, String) : [], O2 = y.length, lt = !!O2;
      for (var it in u)
        fe.call(u, it) && !(lt && (it == "length" || ho(it, O2))) && y.push(it);
      return y;
    }
    function on(u, p2, y) {
      var O2 = u[p2];
      (!(fe.call(u, p2) && hn(O2, y)) || y === void 0 && !(p2 in u)) && (u[p2] = y);
    }
    function jr(u, p2) {
      for (var y = u.length; y--; )
        if (hn(u[y][0], p2))
          return y;
      return -1;
    }
    function me(u, p2) {
      return u && xs(p2, _s(p2), u);
    }
    function ys(u, p2, y, O2, lt, it, ft) {
      var pt;
      if (O2 && (pt = it ? O2(u, lt, it, ft) : O2(u)), pt !== void 0)
        return pt;
      if (!ve(u))
        return u;
      var Ot = ws(u);
      if (Ot) {
        if (pt = uo(u), !p2)
          return oo(u, pt);
      } else {
        var gt = Se(u), Dt = gt == d2 || gt == g;
        if (dn(u))
          return Mr(u, p2);
        if (gt == v || gt == i || Dt && !it) {
          if (yt(u))
            return it ? u : {};
          if (pt = ge2(Dt ? {} : u), !p2)
            return ao(u, me(pt, u));
        } else {
          if (!w2[gt])
            return it ? u : {};
          pt = co(u, gt, ys, p2);
        }
      }
      ft || (ft = new Ht());
      var Kt = ft.get(u);
      if (Kt)
        return Kt;
      if (ft.set(u, pt), !Ot)
        var Rt = y ? lo(u) : _s(u);
      return H2(Rt || u, function(Ft, qt) {
        Rt && (qt = Ft, Ft = u[qt]), on(pt, qt, ys(Ft, p2, y, O2, qt, u, ft));
      }), pt;
    }
    function Ji(u) {
      return ve(u) ? tn(u) : {};
    }
    function Qi(u, p2, y) {
      var O2 = p2(u);
      return ws(u) ? O2 : F(O2, y(u));
    }
    function to(u) {
      return Or.call(u);
    }
    function eo(u) {
      if (!ve(u) || fo(u))
        return false;
      var p2 = Es(u) || yt(u) ? Li : W2;
      return p2.test(zt(u));
    }
    function ro(u) {
      if (!un(u))
        return rn(u);
      var p2 = [];
      for (var y in Object(u))
        fe.call(u, y) && y != "constructor" && p2.push(y);
      return p2;
    }
    function Mr(u, p2) {
      if (p2)
        return u.slice();
      var y = new u.constructor(u.length);
      return u.copy(y), y;
    }
    function ks(u) {
      var p2 = new u.constructor(u.byteLength);
      return new hs(p2).set(new hs(u)), p2;
    }
    function ar(u, p2) {
      var y = p2 ? ks(u.buffer) : u.buffer;
      return new u.constructor(y, u.byteOffset, u.byteLength);
    }
    function an(u, p2, y) {
      var O2 = p2 ? y(At(u), true) : At(u);
      return J2(O2, j, new u.constructor());
    }
    function ln(u) {
      var p2 = new u.constructor(u.source, B.exec(u));
      return p2.lastIndex = u.lastIndex, p2;
    }
    function so(u, p2, y) {
      var O2 = p2 ? y(Ys(u), true) : Ys(u);
      return J2(O2, D, new u.constructor());
    }
    function no(u) {
      return sn ? Object(sn.call(u)) : {};
    }
    function io(u, p2) {
      var y = p2 ? ks(u.buffer) : u.buffer;
      return new u.constructor(y, u.byteOffset, u.length);
    }
    function oo(u, p2) {
      var y = -1, O2 = u.length;
      for (p2 || (p2 = Array(O2)); ++y < O2; )
        p2[y] = u[y];
      return p2;
    }
    function xs(u, p2, y, O2) {
      y || (y = {});
      for (var lt = -1, it = p2.length; ++lt < it; ) {
        var ft = p2[lt], pt = void 0;
        on(y, ft, pt === void 0 ? u[ft] : pt);
      }
      return y;
    }
    function ao(u, p2) {
      return xs(u, Ne(u), p2);
    }
    function lo(u) {
      return Qi(u, _s, Ne);
    }
    function lr(u, p2) {
      var y = u.__data__;
      return po(p2) ? y[typeof p2 == "string" ? "string" : "hash"] : y.map;
    }
    function ne(u, p2) {
      var y = at(u, p2);
      return eo(y) ? y : void 0;
    }
    var Ne = ds ? _e(ds, Object) : go, Se = to;
    (Lr && Se(new Lr(new ArrayBuffer(1))) != X || nr2 && Se(new nr2()) != h || se && Se(se.resolve()) != m || Ir && Se(new Ir()) != _ || ps && Se(new ps()) != q2) && (Se = function(u) {
      var p2 = Or.call(u), y = p2 == v ? u.constructor : void 0, O2 = y ? zt(y) : void 0;
      if (O2)
        switch (O2) {
          case fs:
            return X;
          case or:
            return h;
          case ms:
            return m;
          case gs:
            return _;
          case vs:
            return q2;
        }
      return p2;
    });
    function uo(u) {
      var p2 = u.length, y = u.constructor(p2);
      return p2 && typeof u[0] == "string" && fe.call(u, "index") && (y.index = u.index, y.input = u.input), y;
    }
    function ge2(u) {
      return typeof u.constructor == "function" && !un(u) ? Ji(Yt(u)) : {};
    }
    function co(u, p2, y, O2) {
      var lt = u.constructor;
      switch (p2) {
        case A2:
          return ks(u);
        case a:
        case l:
          return new lt(+u);
        case X:
          return ar(u, O2);
        case G:
        case ct:
        case mt:
        case xt:
        case b:
        case M:
        case x:
        case $:
        case P:
          return io(u, O2);
        case h:
          return an(u, O2, y);
        case f:
        case E:
          return new lt(u);
        case k:
          return ln(u);
        case _:
          return so(u, O2, y);
        case N:
          return no(u);
      }
    }
    function ho(u, p2) {
      return p2 = p2 ?? n, !!p2 && (typeof u == "number" || Z.test(u)) && u > -1 && u % 1 == 0 && u < p2;
    }
    function po(u) {
      var p2 = typeof u;
      return p2 == "string" || p2 == "number" || p2 == "symbol" || p2 == "boolean" ? u !== "__proto__" : u === null;
    }
    function fo(u) {
      return !!Js && Js in u;
    }
    function un(u) {
      var p2 = u && u.constructor, y = typeof p2 == "function" && p2.prototype || Cr;
      return u === y;
    }
    function zt(u) {
      if (u != null) {
        try {
          return Qs.call(u);
        } catch {
        }
        try {
          return u + "";
        } catch {
        }
      }
      return "";
    }
    function cn(u) {
      return ys(u, true, true);
    }
    function hn(u, p2) {
      return u === p2 || u !== u && p2 !== p2;
    }
    function Br(u) {
      return mo2(u) && fe.call(u, "callee") && (!en.call(u, "callee") || Or.call(u) == i);
    }
    var ws = Array.isArray;
    function Dr(u) {
      return u != null && pn(u.length) && !Es(u);
    }
    function mo2(u) {
      return fn(u) && Dr(u);
    }
    var dn = Rr || vo;
    function Es(u) {
      var p2 = ve(u) ? Or.call(u) : "";
      return p2 == d2 || p2 == g;
    }
    function pn(u) {
      return typeof u == "number" && u > -1 && u % 1 == 0 && u <= n;
    }
    function ve(u) {
      var p2 = typeof u;
      return !!u && (p2 == "object" || p2 == "function");
    }
    function fn(u) {
      return !!u && typeof u == "object";
    }
    function _s(u) {
      return Dr(u) ? qr(u) : ro(u);
    }
    function go() {
      return [];
    }
    function vo() {
      return false;
    }
    r2.exports = cn;
  }(Mn, Mn.exports)), Mn.exports;
}
var Bn = { exports: {} };
Bn.exports;
var du;
function Td() {
  return du || (du = 1, function(r2, t) {
    var e = 200, s = "__lodash_hash_undefined__", n = 1, i = 2, o2 = 9007199254740991, a = "[object Arguments]", l = "[object Array]", c = "[object AsyncFunction]", d2 = "[object Boolean]", g = "[object Date]", h = "[object Error]", f = "[object Function]", v = "[object GeneratorFunction]", m = "[object Map]", k = "[object Number]", _ = "[object Null]", E = "[object Object]", N = "[object Promise]", q2 = "[object Proxy]", A2 = "[object RegExp]", X = "[object Set]", G = "[object String]", ct = "[object Symbol]", mt = "[object Undefined]", xt = "[object WeakMap]", b = "[object ArrayBuffer]", M = "[object DataView]", x = "[object Float32Array]", $ = "[object Float64Array]", P = "[object Int8Array]", S2 = "[object Int16Array]", B = "[object Int32Array]", W2 = "[object Uint8Array]", Z = "[object Uint8ClampedArray]", w2 = "[object Uint16Array]", L = "[object Uint32Array]", V = /[\\^$.*+?()[\]{}|]/g, K = /^\[object .+?Constructor\]$/, z = /^(?:0|[1-9]\d*)$/, U = {};
    U[x] = U[$] = U[P] = U[S2] = U[B] = U[W2] = U[Z] = U[w2] = U[L] = true, U[a] = U[l] = U[b] = U[d2] = U[M] = U[g] = U[h] = U[f] = U[m] = U[k] = U[E] = U[A2] = U[X] = U[G] = U[xt] = false;
    var Y = typeof ui == "object" && ui && ui.Object === Object && ui, j = typeof self == "object" && self && self.Object === Object && self, D = Y || j || Function("return this")(), H2 = t && !t.nodeType && t, F = H2 && true && r2 && !r2.nodeType && r2, J2 = F && F.exports === H2, T = J2 && Y.process, at = function() {
      try {
        return T && T.binding && T.binding("util");
      } catch {
      }
    }(), yt = at && at.isTypedArray;
    function At(u, p2) {
      for (var y = -1, O2 = u == null ? 0 : u.length, lt = 0, it = []; ++y < O2; ) {
        var ft = u[y];
        p2(ft, y, u) && (it[lt++] = ft);
      }
      return it;
    }
    function _e(u, p2) {
      for (var y = -1, O2 = p2.length, lt = u.length; ++y < O2; )
        u[lt + y] = p2[y];
      return u;
    }
    function Ys(u, p2) {
      for (var y = -1, O2 = u == null ? 0 : u.length; ++y < O2; )
        if (p2(u[y], y, u))
          return true;
      return false;
    }
    function Ti(u, p2) {
      for (var y = -1, O2 = Array(u); ++y < u; )
        O2[y] = p2(y);
      return O2;
    }
    function Ri(u) {
      return function(p2) {
        return u(p2);
      };
    }
    function Cr(u, p2) {
      return u.has(p2);
    }
    function cs(u, p2) {
      return u == null ? void 0 : u[p2];
    }
    function Js(u) {
      var p2 = -1, y = Array(u.size);
      return u.forEach(function(O2, lt) {
        y[++p2] = [lt, O2];
      }), y;
    }
    function Qs(u, p2) {
      return function(y) {
        return u(p2(y));
      };
    }
    function fe(u) {
      var p2 = -1, y = Array(u.size);
      return u.forEach(function(O2) {
        y[++p2] = O2;
      }), y;
    }
    var Or = Array.prototype, Li = Function.prototype, sr = Object.prototype, Tr = D["__core-js_shared__"], hs = Li.toString, Yt = sr.hasOwnProperty, tn = function() {
      var u = /[^.]+$/.exec(Tr && Tr.keys && Tr.keys.IE_PROTO || "");
      return u ? "Symbol(src)_1." + u : "";
    }(), en = sr.toString, Ii = RegExp(
      "^" + hs.call(Yt).replace(V, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
    ), ds = J2 ? D.Buffer : void 0, Rr = D.Symbol, rn = D.Uint8Array, Lr = sr.propertyIsEnumerable, nr2 = Or.splice, se = Rr ? Rr.toStringTag : void 0, Ir = Object.getOwnPropertySymbols, ps = ds ? ds.isBuffer : void 0, ir = Qs(Object.keys, Object), fs = Ne(D, "DataView"), or = Ne(D, "Map"), ms = Ne(D, "Promise"), gs = Ne(D, "Set"), vs = Ne(D, "WeakMap"), Fe = Ne(Object, "create"), sn = zt(fs), Ae = zt(or), qi = zt(ms), ji = zt(gs), Mi = zt(vs), nn = Rr ? Rr.prototype : void 0, bs = nn ? nn.valueOf : void 0;
    function It(u) {
      var p2 = -1, y = u == null ? 0 : u.length;
      for (this.clear(); ++p2 < y; ) {
        var O2 = u[p2];
        this.set(O2[0], O2[1]);
      }
    }
    function Bi() {
      this.__data__ = Fe ? Fe(null) : {}, this.size = 0;
    }
    function Di(u) {
      var p2 = this.has(u) && delete this.__data__[u];
      return this.size -= p2 ? 1 : 0, p2;
    }
    function Fi(u) {
      var p2 = this.__data__;
      if (Fe) {
        var y = p2[u];
        return y === s ? void 0 : y;
      }
      return Yt.call(p2, u) ? p2[u] : void 0;
    }
    function Pi(u) {
      var p2 = this.__data__;
      return Fe ? p2[u] !== void 0 : Yt.call(p2, u);
    }
    function Vi(u, p2) {
      var y = this.__data__;
      return this.size += this.has(u) ? 0 : 1, y[u] = Fe && p2 === void 0 ? s : p2, this;
    }
    It.prototype.clear = Bi, It.prototype.delete = Di, It.prototype.get = Fi, It.prototype.has = Pi, It.prototype.set = Vi;
    function Bt(u) {
      var p2 = -1, y = u == null ? 0 : u.length;
      for (this.clear(); ++p2 < y; ) {
        var O2 = u[p2];
        this.set(O2[0], O2[1]);
      }
    }
    function Ui() {
      this.__data__ = [], this.size = 0;
    }
    function $i(u) {
      var p2 = this.__data__, y = Mr(p2, u);
      if (y < 0)
        return false;
      var O2 = p2.length - 1;
      return y == O2 ? p2.pop() : nr2.call(p2, y, 1), --this.size, true;
    }
    function zi(u) {
      var p2 = this.__data__, y = Mr(p2, u);
      return y < 0 ? void 0 : p2[y][1];
    }
    function Hi(u) {
      return Mr(this.__data__, u) > -1;
    }
    function Ki(u, p2) {
      var y = this.__data__, O2 = Mr(y, u);
      return O2 < 0 ? (++this.size, y.push([u, p2])) : y[O2][1] = p2, this;
    }
    Bt.prototype.clear = Ui, Bt.prototype.delete = $i, Bt.prototype.get = zi, Bt.prototype.has = Hi, Bt.prototype.set = Ki;
    function Ht(u) {
      var p2 = -1, y = u == null ? 0 : u.length;
      for (this.clear(); ++p2 < y; ) {
        var O2 = u[p2];
        this.set(O2[0], O2[1]);
      }
    }
    function Gi() {
      this.size = 0, this.__data__ = {
        hash: new It(),
        map: new (or || Bt)(),
        string: new It()
      };
    }
    function Wi(u) {
      var p2 = ne(this, u).delete(u);
      return this.size -= p2 ? 1 : 0, p2;
    }
    function Zi(u) {
      return ne(this, u).get(u);
    }
    function Xi(u) {
      return ne(this, u).has(u);
    }
    function Yi(u, p2) {
      var y = ne(this, u), O2 = y.size;
      return y.set(u, p2), this.size += y.size == O2 ? 0 : 1, this;
    }
    Ht.prototype.clear = Gi, Ht.prototype.delete = Wi, Ht.prototype.get = Zi, Ht.prototype.has = Xi, Ht.prototype.set = Yi;
    function qr(u) {
      var p2 = -1, y = u == null ? 0 : u.length;
      for (this.__data__ = new Ht(); ++p2 < y; )
        this.add(u[p2]);
    }
    function on(u) {
      return this.__data__.set(u, s), this;
    }
    function jr(u) {
      return this.__data__.has(u);
    }
    qr.prototype.add = qr.prototype.push = on, qr.prototype.has = jr;
    function me(u) {
      var p2 = this.__data__ = new Bt(u);
      this.size = p2.size;
    }
    function ys() {
      this.__data__ = new Bt(), this.size = 0;
    }
    function Ji(u) {
      var p2 = this.__data__, y = p2.delete(u);
      return this.size = p2.size, y;
    }
    function Qi(u) {
      return this.__data__.get(u);
    }
    function to(u) {
      return this.__data__.has(u);
    }
    function eo(u, p2) {
      var y = this.__data__;
      if (y instanceof Bt) {
        var O2 = y.__data__;
        if (!or || O2.length < e - 1)
          return O2.push([u, p2]), this.size = ++y.size, this;
        y = this.__data__ = new Ht(O2);
      }
      return y.set(u, p2), this.size = y.size, this;
    }
    me.prototype.clear = ys, me.prototype.delete = Ji, me.prototype.get = Qi, me.prototype.has = to, me.prototype.set = eo;
    function ro(u, p2) {
      var y = Br(u), O2 = !y && hn(u), lt = !y && !O2 && Dr(u), it = !y && !O2 && !lt && fn(u), ft = y || O2 || lt || it, pt = ft ? Ti(u.length, String) : [], Ot = pt.length;
      for (var gt in u)
        Yt.call(u, gt) && !(ft && // Safari 9 has enumerable `arguments.length` in strict mode.
        (gt == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
        lt && (gt == "offset" || gt == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
        it && (gt == "buffer" || gt == "byteLength" || gt == "byteOffset") || // Skip index properties.
        co(gt, Ot))) && pt.push(gt);
      return pt;
    }
    function Mr(u, p2) {
      for (var y = u.length; y--; )
        if (cn(u[y][0], p2))
          return y;
      return -1;
    }
    function ks(u, p2, y) {
      var O2 = p2(u);
      return Br(u) ? O2 : _e(O2, y(u));
    }
    function ar(u) {
      return u == null ? u === void 0 ? mt : _ : se && se in Object(u) ? Se(u) : un(u);
    }
    function an(u) {
      return ve(u) && ar(u) == a;
    }
    function ln(u, p2, y, O2, lt) {
      return u === p2 ? true : u == null || p2 == null || !ve(u) && !ve(p2) ? u !== u && p2 !== p2 : so(u, p2, y, O2, ln, lt);
    }
    function so(u, p2, y, O2, lt, it) {
      var ft = Br(u), pt = Br(p2), Ot = ft ? l : ge2(u), gt = pt ? l : ge2(p2);
      Ot = Ot == a ? E : Ot, gt = gt == a ? E : gt;
      var Dt = Ot == E, Kt = gt == E, Rt = Ot == gt;
      if (Rt && Dr(u)) {
        if (!Dr(p2))
          return false;
        ft = true, Dt = false;
      }
      if (Rt && !Dt)
        return it || (it = new me()), ft || fn(u) ? xs(u, p2, y, O2, lt, it) : ao(u, p2, Ot, y, O2, lt, it);
      if (!(y & n)) {
        var Ft = Dt && Yt.call(u, "__wrapped__"), qt = Kt && Yt.call(p2, "__wrapped__");
        if (Ft || qt) {
          var Pe2 = Ft ? u.value() : u, Ce = qt ? p2.value() : p2;
          return it || (it = new me()), lt(Pe2, Ce, y, O2, it);
        }
      }
      return Rt ? (it || (it = new me()), lo(u, p2, y, O2, lt, it)) : false;
    }
    function no(u) {
      if (!pn(u) || po(u))
        return false;
      var p2 = dn(u) ? Ii : K;
      return p2.test(zt(u));
    }
    function io(u) {
      return ve(u) && Es(u.length) && !!U[ar(u)];
    }
    function oo(u) {
      if (!fo(u))
        return ir(u);
      var p2 = [];
      for (var y in Object(u))
        Yt.call(u, y) && y != "constructor" && p2.push(y);
      return p2;
    }
    function xs(u, p2, y, O2, lt, it) {
      var ft = y & n, pt = u.length, Ot = p2.length;
      if (pt != Ot && !(ft && Ot > pt))
        return false;
      var gt = it.get(u);
      if (gt && it.get(p2))
        return gt == p2;
      var Dt = -1, Kt = true, Rt = y & i ? new qr() : void 0;
      for (it.set(u, p2), it.set(p2, u); ++Dt < pt; ) {
        var Ft = u[Dt], qt = p2[Dt];
        if (O2)
          var Pe2 = ft ? O2(qt, Ft, Dt, p2, u, it) : O2(Ft, qt, Dt, u, p2, it);
        if (Pe2 !== void 0) {
          if (Pe2)
            continue;
          Kt = false;
          break;
        }
        if (Rt) {
          if (!Ys(p2, function(Ce, ur) {
            if (!Cr(Rt, ur) && (Ft === Ce || lt(Ft, Ce, y, O2, it)))
              return Rt.push(ur);
          })) {
            Kt = false;
            break;
          }
        } else if (!(Ft === qt || lt(Ft, qt, y, O2, it))) {
          Kt = false;
          break;
        }
      }
      return it.delete(u), it.delete(p2), Kt;
    }
    function ao(u, p2, y, O2, lt, it, ft) {
      switch (y) {
        case M:
          if (u.byteLength != p2.byteLength || u.byteOffset != p2.byteOffset)
            return false;
          u = u.buffer, p2 = p2.buffer;
        case b:
          return !(u.byteLength != p2.byteLength || !it(new rn(u), new rn(p2)));
        case d2:
        case g:
        case k:
          return cn(+u, +p2);
        case h:
          return u.name == p2.name && u.message == p2.message;
        case A2:
        case G:
          return u == p2 + "";
        case m:
          var pt = Js;
        case X:
          var Ot = O2 & n;
          if (pt || (pt = fe), u.size != p2.size && !Ot)
            return false;
          var gt = ft.get(u);
          if (gt)
            return gt == p2;
          O2 |= i, ft.set(u, p2);
          var Dt = xs(pt(u), pt(p2), O2, lt, it, ft);
          return ft.delete(u), Dt;
        case ct:
          if (bs)
            return bs.call(u) == bs.call(p2);
      }
      return false;
    }
    function lo(u, p2, y, O2, lt, it) {
      var ft = y & n, pt = lr(u), Ot = pt.length, gt = lr(p2), Dt = gt.length;
      if (Ot != Dt && !ft)
        return false;
      for (var Kt = Ot; Kt--; ) {
        var Rt = pt[Kt];
        if (!(ft ? Rt in p2 : Yt.call(p2, Rt)))
          return false;
      }
      var Ft = it.get(u);
      if (Ft && it.get(p2))
        return Ft == p2;
      var qt = true;
      it.set(u, p2), it.set(p2, u);
      for (var Pe2 = ft; ++Kt < Ot; ) {
        Rt = pt[Kt];
        var Ce = u[Rt], ur = p2[Rt];
        if (O2)
          var hl = ft ? O2(ur, Ce, Rt, p2, u, it) : O2(Ce, ur, Rt, u, p2, it);
        if (!(hl === void 0 ? Ce === ur || lt(Ce, ur, y, O2, it) : hl)) {
          qt = false;
          break;
        }
        Pe2 || (Pe2 = Rt == "constructor");
      }
      if (qt && !Pe2) {
        var mn = u.constructor, gn = p2.constructor;
        mn != gn && "constructor" in u && "constructor" in p2 && !(typeof mn == "function" && mn instanceof mn && typeof gn == "function" && gn instanceof gn) && (qt = false);
      }
      return it.delete(u), it.delete(p2), qt;
    }
    function lr(u) {
      return ks(u, _s, uo);
    }
    function ne(u, p2) {
      var y = u.__data__;
      return ho(p2) ? y[typeof p2 == "string" ? "string" : "hash"] : y.map;
    }
    function Ne(u, p2) {
      var y = cs(u, p2);
      return no(y) ? y : void 0;
    }
    function Se(u) {
      var p2 = Yt.call(u, se), y = u[se];
      try {
        u[se] = void 0;
        var O2 = true;
      } catch {
      }
      var lt = en.call(u);
      return O2 && (p2 ? u[se] = y : delete u[se]), lt;
    }
    var uo = Ir ? function(u) {
      return u == null ? [] : (u = Object(u), At(Ir(u), function(p2) {
        return Lr.call(u, p2);
      }));
    } : go, ge2 = ar;
    (fs && ge2(new fs(new ArrayBuffer(1))) != M || or && ge2(new or()) != m || ms && ge2(ms.resolve()) != N || gs && ge2(new gs()) != X || vs && ge2(new vs()) != xt) && (ge2 = function(u) {
      var p2 = ar(u), y = p2 == E ? u.constructor : void 0, O2 = y ? zt(y) : "";
      if (O2)
        switch (O2) {
          case sn:
            return M;
          case Ae:
            return m;
          case qi:
            return N;
          case ji:
            return X;
          case Mi:
            return xt;
        }
      return p2;
    });
    function co(u, p2) {
      return p2 = p2 ?? o2, !!p2 && (typeof u == "number" || z.test(u)) && u > -1 && u % 1 == 0 && u < p2;
    }
    function ho(u) {
      var p2 = typeof u;
      return p2 == "string" || p2 == "number" || p2 == "symbol" || p2 == "boolean" ? u !== "__proto__" : u === null;
    }
    function po(u) {
      return !!tn && tn in u;
    }
    function fo(u) {
      var p2 = u && u.constructor, y = typeof p2 == "function" && p2.prototype || sr;
      return u === y;
    }
    function un(u) {
      return en.call(u);
    }
    function zt(u) {
      if (u != null) {
        try {
          return hs.call(u);
        } catch {
        }
        try {
          return u + "";
        } catch {
        }
      }
      return "";
    }
    function cn(u, p2) {
      return u === p2 || u !== u && p2 !== p2;
    }
    var hn = an(/* @__PURE__ */ function() {
      return arguments;
    }()) ? an : function(u) {
      return ve(u) && Yt.call(u, "callee") && !Lr.call(u, "callee");
    }, Br = Array.isArray;
    function ws(u) {
      return u != null && Es(u.length) && !dn(u);
    }
    var Dr = ps || vo;
    function mo2(u, p2) {
      return ln(u, p2);
    }
    function dn(u) {
      if (!pn(u))
        return false;
      var p2 = ar(u);
      return p2 == f || p2 == v || p2 == c || p2 == q2;
    }
    function Es(u) {
      return typeof u == "number" && u > -1 && u % 1 == 0 && u <= o2;
    }
    function pn(u) {
      var p2 = typeof u;
      return u != null && (p2 == "object" || p2 == "function");
    }
    function ve(u) {
      return u != null && typeof u == "object";
    }
    var fn = yt ? Ri(yt) : io;
    function _s(u) {
      return ws(u) ? ro(u) : oo(u);
    }
    function go() {
      return [];
    }
    function vo() {
      return false;
    }
    r2.exports = mo2;
  }(Bn, Bn.exports)), Bn.exports;
}
var wn = {};
var pu;
function gy() {
  if (pu) return wn;
  pu = 1, Object.defineProperty(wn, "__esModule", { value: true });
  const r2 = Od(), t = Td();
  var e;
  return function(s) {
    function n(l = {}, c = {}, d2 = false) {
      typeof l != "object" && (l = {}), typeof c != "object" && (c = {});
      let g = r2(c);
      d2 || (g = Object.keys(g).reduce((h, f) => (g[f] != null && (h[f] = g[f]), h), {}));
      for (const h in l)
        l[h] !== void 0 && c[h] === void 0 && (g[h] = l[h]);
      return Object.keys(g).length > 0 ? g : void 0;
    }
    s.compose = n;
    function i(l = {}, c = {}) {
      typeof l != "object" && (l = {}), typeof c != "object" && (c = {});
      const d2 = Object.keys(l).concat(Object.keys(c)).reduce((g, h) => (t(l[h], c[h]) || (g[h] = c[h] === void 0 ? null : c[h]), g), {});
      return Object.keys(d2).length > 0 ? d2 : void 0;
    }
    s.diff = i;
    function o2(l = {}, c = {}) {
      l = l || {};
      const d2 = Object.keys(c).reduce((g, h) => (c[h] !== l[h] && l[h] !== void 0 && (g[h] = c[h]), g), {});
      return Object.keys(l).reduce((g, h) => (l[h] !== c[h] && c[h] === void 0 && (g[h] = null), g), d2);
    }
    s.invert = o2;
    function a(l, c, d2 = false) {
      if (typeof l != "object")
        return c;
      if (typeof c != "object")
        return;
      if (!d2)
        return c;
      const g = Object.keys(c).reduce((h, f) => (l[f] === void 0 && (h[f] = c[f]), h), {});
      return Object.keys(g).length > 0 ? g : void 0;
    }
    s.transform = a;
  }(e || (e = {})), wn.default = e, wn;
}
var En = {};
var fu;
function Rd() {
  if (fu) return En;
  fu = 1, Object.defineProperty(En, "__esModule", { value: true });
  var r2;
  return function(t) {
    function e(s) {
      return typeof s.delete == "number" ? s.delete : typeof s.retain == "number" ? s.retain : typeof s.retain == "object" && s.retain !== null ? 1 : typeof s.insert == "string" ? s.insert.length : 1;
    }
    t.length = e;
  }(r2 || (r2 = {})), En.default = r2, En;
}
var _n = {};
var mu;
function vy() {
  if (mu) return _n;
  mu = 1, Object.defineProperty(_n, "__esModule", { value: true });
  const r2 = Rd();
  class t {
    constructor(s) {
      this.ops = s, this.index = 0, this.offset = 0;
    }
    hasNext() {
      return this.peekLength() < 1 / 0;
    }
    next(s) {
      s || (s = 1 / 0);
      const n = this.ops[this.index];
      if (n) {
        const i = this.offset, o2 = r2.default.length(n);
        if (s >= o2 - i ? (s = o2 - i, this.index += 1, this.offset = 0) : this.offset += s, typeof n.delete == "number")
          return { delete: s };
        {
          const a = {};
          return n.attributes && (a.attributes = n.attributes), typeof n.retain == "number" ? a.retain = s : typeof n.retain == "object" && n.retain !== null ? a.retain = n.retain : typeof n.insert == "string" ? a.insert = n.insert.substr(i, s) : a.insert = n.insert, a;
        }
      } else
        return { retain: 1 / 0 };
    }
    peek() {
      return this.ops[this.index];
    }
    peekLength() {
      return this.ops[this.index] ? r2.default.length(this.ops[this.index]) - this.offset : 1 / 0;
    }
    peekType() {
      const s = this.ops[this.index];
      return s ? typeof s.delete == "number" ? "delete" : typeof s.retain == "number" || typeof s.retain == "object" && s.retain !== null ? "retain" : "insert" : "retain";
    }
    rest() {
      if (this.hasNext()) {
        if (this.offset === 0)
          return this.ops.slice(this.index);
        {
          const s = this.offset, n = this.index, i = this.next(), o2 = this.ops.slice(this.index);
          return this.offset = s, this.index = n, [i].concat(o2);
        }
      } else return [];
    }
  }
  return _n.default = t, _n;
}
var gu;
function by() {
  return gu || (gu = 1, function(r2, t) {
    Object.defineProperty(t, "__esModule", { value: true }), t.AttributeMap = t.OpIterator = t.Op = void 0;
    const e = my(), s = Od(), n = Td(), i = gy();
    t.AttributeMap = i.default;
    const o2 = Rd();
    t.Op = o2.default;
    const a = vy();
    t.OpIterator = a.default;
    const l = "\0", c = (g, h) => {
      if (typeof g != "object" || g === null)
        throw new Error(`cannot retain a ${typeof g}`);
      if (typeof h != "object" || h === null)
        throw new Error(`cannot retain a ${typeof h}`);
      const f = Object.keys(g)[0];
      if (!f || f !== Object.keys(h)[0])
        throw new Error(`embed types not matched: ${f} != ${Object.keys(h)[0]}`);
      return [f, g[f], h[f]];
    };
    class d2 {
      constructor(h) {
        Array.isArray(h) ? this.ops = h : h != null && Array.isArray(h.ops) ? this.ops = h.ops : this.ops = [];
      }
      static registerEmbed(h, f) {
        this.handlers[h] = f;
      }
      static unregisterEmbed(h) {
        delete this.handlers[h];
      }
      static getHandler(h) {
        const f = this.handlers[h];
        if (!f)
          throw new Error(`no handlers for embed type "${h}"`);
        return f;
      }
      insert(h, f) {
        const v = {};
        return typeof h == "string" && h.length === 0 ? this : (v.insert = h, f != null && typeof f == "object" && Object.keys(f).length > 0 && (v.attributes = f), this.push(v));
      }
      delete(h) {
        return h <= 0 ? this : this.push({ delete: h });
      }
      retain(h, f) {
        if (typeof h == "number" && h <= 0)
          return this;
        const v = { retain: h };
        return f != null && typeof f == "object" && Object.keys(f).length > 0 && (v.attributes = f), this.push(v);
      }
      push(h) {
        let f = this.ops.length, v = this.ops[f - 1];
        if (h = s(h), typeof v == "object") {
          if (typeof h.delete == "number" && typeof v.delete == "number")
            return this.ops[f - 1] = { delete: v.delete + h.delete }, this;
          if (typeof v.delete == "number" && h.insert != null && (f -= 1, v = this.ops[f - 1], typeof v != "object"))
            return this.ops.unshift(h), this;
          if (n(h.attributes, v.attributes)) {
            if (typeof h.insert == "string" && typeof v.insert == "string")
              return this.ops[f - 1] = { insert: v.insert + h.insert }, typeof h.attributes == "object" && (this.ops[f - 1].attributes = h.attributes), this;
            if (typeof h.retain == "number" && typeof v.retain == "number")
              return this.ops[f - 1] = { retain: v.retain + h.retain }, typeof h.attributes == "object" && (this.ops[f - 1].attributes = h.attributes), this;
          }
        }
        return f === this.ops.length ? this.ops.push(h) : this.ops.splice(f, 0, h), this;
      }
      chop() {
        const h = this.ops[this.ops.length - 1];
        return h && typeof h.retain == "number" && !h.attributes && this.ops.pop(), this;
      }
      filter(h) {
        return this.ops.filter(h);
      }
      forEach(h) {
        this.ops.forEach(h);
      }
      map(h) {
        return this.ops.map(h);
      }
      partition(h) {
        const f = [], v = [];
        return this.forEach((m) => {
          (h(m) ? f : v).push(m);
        }), [f, v];
      }
      reduce(h, f) {
        return this.ops.reduce(h, f);
      }
      changeLength() {
        return this.reduce((h, f) => f.insert ? h + o2.default.length(f) : f.delete ? h - f.delete : h, 0);
      }
      length() {
        return this.reduce((h, f) => h + o2.default.length(f), 0);
      }
      slice(h = 0, f = 1 / 0) {
        const v = [], m = new a.default(this.ops);
        let k = 0;
        for (; k < f && m.hasNext(); ) {
          let _;
          k < h ? _ = m.next(h - k) : (_ = m.next(f - k), v.push(_)), k += o2.default.length(_);
        }
        return new d2(v);
      }
      compose(h) {
        const f = new a.default(this.ops), v = new a.default(h.ops), m = [], k = v.peek();
        if (k != null && typeof k.retain == "number" && k.attributes == null) {
          let E = k.retain;
          for (; f.peekType() === "insert" && f.peekLength() <= E; )
            E -= f.peekLength(), m.push(f.next());
          k.retain - E > 0 && v.next(k.retain - E);
        }
        const _ = new d2(m);
        for (; f.hasNext() || v.hasNext(); )
          if (v.peekType() === "insert")
            _.push(v.next());
          else if (f.peekType() === "delete")
            _.push(f.next());
          else {
            const E = Math.min(f.peekLength(), v.peekLength()), N = f.next(E), q2 = v.next(E);
            if (q2.retain) {
              const A2 = {};
              if (typeof N.retain == "number")
                A2.retain = typeof q2.retain == "number" ? E : q2.retain;
              else if (typeof q2.retain == "number")
                N.retain == null ? A2.insert = N.insert : A2.retain = N.retain;
              else {
                const G = N.retain == null ? "insert" : "retain", [ct, mt, xt] = c(N[G], q2.retain), b = d2.getHandler(ct);
                A2[G] = {
                  [ct]: b.compose(mt, xt, G === "retain")
                };
              }
              const X = i.default.compose(N.attributes, q2.attributes, typeof N.retain == "number");
              if (X && (A2.attributes = X), _.push(A2), !v.hasNext() && n(_.ops[_.ops.length - 1], A2)) {
                const G = new d2(f.rest());
                return _.concat(G).chop();
              }
            } else typeof q2.delete == "number" && (typeof N.retain == "number" || typeof N.retain == "object" && N.retain !== null) && _.push(q2);
          }
        return _.chop();
      }
      concat(h) {
        const f = new d2(this.ops.slice());
        return h.ops.length > 0 && (f.push(h.ops[0]), f.ops = f.ops.concat(h.ops.slice(1))), f;
      }
      diff(h, f) {
        if (this.ops === h.ops)
          return new d2();
        const v = [this, h].map((N) => N.map((q2) => {
          if (q2.insert != null)
            return typeof q2.insert == "string" ? q2.insert : l;
          const A2 = N === h ? "on" : "with";
          throw new Error("diff() called " + A2 + " non-document");
        }).join("")), m = new d2(), k = e(v[0], v[1], f, true), _ = new a.default(this.ops), E = new a.default(h.ops);
        return k.forEach((N) => {
          let q2 = N[1].length;
          for (; q2 > 0; ) {
            let A2 = 0;
            switch (N[0]) {
              case e.INSERT:
                A2 = Math.min(E.peekLength(), q2), m.push(E.next(A2));
                break;
              case e.DELETE:
                A2 = Math.min(q2, _.peekLength()), _.next(A2), m.delete(A2);
                break;
              case e.EQUAL:
                A2 = Math.min(_.peekLength(), E.peekLength(), q2);
                const X = _.next(A2), G = E.next(A2);
                n(X.insert, G.insert) ? m.retain(A2, i.default.diff(X.attributes, G.attributes)) : m.push(G).delete(A2);
                break;
            }
            q2 -= A2;
          }
        }), m.chop();
      }
      eachLine(h, f = `
`) {
        const v = new a.default(this.ops);
        let m = new d2(), k = 0;
        for (; v.hasNext(); ) {
          if (v.peekType() !== "insert")
            return;
          const _ = v.peek(), E = o2.default.length(_) - v.peekLength(), N = typeof _.insert == "string" ? _.insert.indexOf(f, E) - E : -1;
          if (N < 0)
            m.push(v.next());
          else if (N > 0)
            m.push(v.next(N));
          else {
            if (h(m, v.next(1).attributes || {}, k) === false)
              return;
            k += 1, m = new d2();
          }
        }
        m.length() > 0 && h(m, {}, k);
      }
      invert(h) {
        const f = new d2();
        return this.reduce((v, m) => {
          if (m.insert)
            f.delete(o2.default.length(m));
          else {
            if (typeof m.retain == "number" && m.attributes == null)
              return f.retain(m.retain), v + m.retain;
            if (m.delete || typeof m.retain == "number") {
              const k = m.delete || m.retain;
              return h.slice(v, v + k).forEach((_) => {
                m.delete ? f.push(_) : m.retain && m.attributes && f.retain(o2.default.length(_), i.default.invert(m.attributes, _.attributes));
              }), v + k;
            } else if (typeof m.retain == "object" && m.retain !== null) {
              const k = h.slice(v, v + 1), _ = new a.default(k.ops).next(), [E, N, q2] = c(m.retain, _.insert), A2 = d2.getHandler(E);
              return f.retain({ [E]: A2.invert(N, q2) }, i.default.invert(m.attributes, _.attributes)), v + 1;
            }
          }
          return v;
        }, 0), f.chop();
      }
      transform(h, f = false) {
        if (f = !!f, typeof h == "number")
          return this.transformPosition(h, f);
        const v = h, m = new a.default(this.ops), k = new a.default(v.ops), _ = new d2();
        for (; m.hasNext() || k.hasNext(); )
          if (m.peekType() === "insert" && (f || k.peekType() !== "insert"))
            _.retain(o2.default.length(m.next()));
          else if (k.peekType() === "insert")
            _.push(k.next());
          else {
            const E = Math.min(m.peekLength(), k.peekLength()), N = m.next(E), q2 = k.next(E);
            if (N.delete)
              continue;
            if (q2.delete)
              _.push(q2);
            else {
              const A2 = N.retain, X = q2.retain;
              let G = typeof X == "object" && X !== null ? X : E;
              if (typeof A2 == "object" && A2 !== null && typeof X == "object" && X !== null) {
                const ct = Object.keys(A2)[0];
                if (ct === Object.keys(X)[0]) {
                  const mt = d2.getHandler(ct);
                  mt && (G = {
                    [ct]: mt.transform(A2[ct], X[ct], f)
                  });
                }
              }
              _.retain(G, i.default.transform(N.attributes, q2.attributes, f));
            }
          }
        return _.chop();
      }
      transformPosition(h, f = false) {
        f = !!f;
        const v = new a.default(this.ops);
        let m = 0;
        for (; v.hasNext() && m <= h; ) {
          const k = v.peekLength(), _ = v.peekType();
          if (v.next(), _ === "delete") {
            h -= Math.min(k, h - m);
            continue;
          } else _ === "insert" && (m < h || !f) && (h += k);
          m += k;
        }
        return h;
      }
    }
    d2.Op = o2.default, d2.OpIterator = a.default, d2.AttributeMap = i.default, d2.handlers = {}, t.default = d2, r2.exports = d2, r2.exports.default = d2;
  }(So, So.exports)), So.exports;
}
var te = by();
var et = q1(te);
var de2 = class extends Xt {
  static value() {
  }
  optimize() {
    (this.prev || this.next) && this.remove();
  }
  length() {
    return 0;
  }
  value() {
    return "";
  }
};
de2.blotName = "break";
de2.tagName = "BR";
var ce2 = class extends Yn2 {
};
var yy = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;"
};
function ki(r2) {
  return r2.replace(/[&<>"']/g, (t) => yy[t]);
}
var Dn = class zr extends Ya {
  static compare(t, e) {
    const s = zr.order.indexOf(t), n = zr.order.indexOf(e);
    return s >= 0 || n >= 0 ? s - n : t === e ? 0 : t < e ? -1 : 1;
  }
  formatAt(t, e, s, n) {
    if (zr.compare(this.statics.blotName, s) < 0 && this.scroll.query(s, rt.BLOT)) {
      const i = this.isolate(t, e);
      n && i.wrap(s, n);
    } else
      super.formatAt(t, e, s, n);
  }
  optimize(t) {
    if (super.optimize(t), this.parent instanceof zr && zr.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {
      const e = this.parent.isolate(this.offset(), this.length());
      this.moveChildren(e), e.wrap(this);
    }
  }
};
Q(Dn, "allowedChildren", [Dn, de2, Xt, ce2]), // Lower index means deeper in the DOM tree, since not found (-1) is for embeds
Q(Dn, "order", [
  "cursor",
  "inline",
  // Must be lower
  "link",
  // Chrome wants <a> to be lower
  "underline",
  "strike",
  "italic",
  "bold",
  "script",
  "code"
  // Must be higher
]);
var rr2 = Dn;
var vu = 1;
var jt = class extends Fs {
  constructor() {
    super(...arguments), Q(this, "cache", {});
  }
  delta() {
    return this.cache.delta == null && (this.cache.delta = Ld(this)), this.cache.delta;
  }
  deleteAt(t, e) {
    super.deleteAt(t, e), this.cache = {};
  }
  formatAt(t, e, s, n) {
    e <= 0 || (this.scroll.query(s, rt.BLOCK) ? t + e === this.length() && this.format(s, n) : super.formatAt(t, Math.min(e, this.length() - t - 1), s, n), this.cache = {});
  }
  insertAt(t, e, s) {
    if (s != null) {
      super.insertAt(t, e, s), this.cache = {};
      return;
    }
    if (e.length === 0) return;
    const n = e.split(`
`), i = n.shift();
    i.length > 0 && (t < this.length() - 1 || this.children.tail == null ? super.insertAt(Math.min(t, this.length() - 1), i) : this.children.tail.insertAt(this.children.tail.length(), i), this.cache = {});
    let o2 = this;
    n.reduce((a, l) => (o2 = o2.split(a, true), o2.insertAt(0, l), l.length), t + i.length);
  }
  insertBefore(t, e) {
    const {
      head: s
    } = this.children;
    super.insertBefore(t, e), s instanceof de2 && s.remove(), this.cache = {};
  }
  length() {
    return this.cache.length == null && (this.cache.length = super.length() + vu), this.cache.length;
  }
  moveChildren(t, e) {
    super.moveChildren(t, e), this.cache = {};
  }
  optimize(t) {
    super.optimize(t), this.cache = {};
  }
  path(t) {
    return super.path(t, true);
  }
  removeChild(t) {
    super.removeChild(t), this.cache = {};
  }
  split(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
    if (e && (t === 0 || t >= this.length() - vu)) {
      const n = this.clone();
      return t === 0 ? (this.parent.insertBefore(n, this), this) : (this.parent.insertBefore(n, this.next), n);
    }
    const s = super.split(t, e);
    return this.cache = {}, s;
  }
};
jt.blotName = "block";
jt.tagName = "P";
jt.defaultChild = de2;
jt.allowedChildren = [de2, rr2, Xt, ce2];
var ee2 = class extends Xt {
  attach() {
    super.attach(), this.attributes = new bi(this.domNode);
  }
  delta() {
    return new et().insert(this.value(), {
      ...this.formats(),
      ...this.attributes.values()
    });
  }
  format(t, e) {
    const s = this.scroll.query(t, rt.BLOCK_ATTRIBUTE);
    s != null && this.attributes.attribute(s, e);
  }
  formatAt(t, e, s, n) {
    this.format(s, n);
  }
  insertAt(t, e, s) {
    if (s != null) {
      super.insertAt(t, e, s);
      return;
    }
    const n = e.split(`
`), i = n.pop(), o2 = n.map((l) => {
      const c = this.scroll.create(jt.blotName);
      return c.insertAt(0, l), c;
    }), a = this.split(t);
    o2.forEach((l) => {
      this.parent.insertBefore(l, a);
    }), i && this.parent.insertBefore(this.scroll.create("text", i), a);
  }
};
ee2.scope = rt.BLOCK_BLOT;
function Ld(r2) {
  let t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;
  return r2.descendants(Pt).reduce((e, s) => s.length() === 0 ? e : e.insert(s.value(), Jt(s, {}, t)), new et()).insert(`
`, Jt(r2));
}
function Jt(r2) {
  let t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, e = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : true;
  return r2 == null || ("formats" in r2 && typeof r2.formats == "function" && (t = {
    ...t,
    ...r2.formats()
  }, e && delete t["code-token"]), r2.parent == null || r2.parent.statics.blotName === "scroll" || r2.parent.statics.scope !== r2.statics.scope) ? t : Jt(r2.parent, t, e);
}
var Os = class cr extends Xt {
  // Zero width no break space
  static value() {
  }
  constructor(t, e, s) {
    super(t, e), this.selection = s, this.textNode = document.createTextNode(cr.CONTENTS), this.domNode.appendChild(this.textNode), this.savedLength = 0;
  }
  detach() {
    this.parent != null && this.parent.removeChild(this);
  }
  format(t, e) {
    if (this.savedLength !== 0) {
      super.format(t, e);
      return;
    }
    let s = this, n = 0;
    for (; s != null && s.statics.scope !== rt.BLOCK_BLOT; )
      n += s.offset(s.parent), s = s.parent;
    s != null && (this.savedLength = cr.CONTENTS.length, s.optimize(), s.formatAt(n, cr.CONTENTS.length, t, e), this.savedLength = 0);
  }
  index(t, e) {
    return t === this.textNode ? 0 : super.index(t, e);
  }
  length() {
    return this.savedLength;
  }
  position() {
    return [this.textNode, this.textNode.data.length];
  }
  remove() {
    super.remove(), this.parent = null;
  }
  restore() {
    if (this.selection.composing || this.parent == null) return null;
    const t = this.selection.getNativeRange();
    for (; this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode; )
      this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);
    const e = this.prev instanceof ce2 ? this.prev : null, s = e ? e.length() : 0, n = this.next instanceof ce2 ? this.next : null, i = n ? n.text : "", {
      textNode: o2
    } = this, a = o2.data.split(cr.CONTENTS).join("");
    o2.data = cr.CONTENTS;
    let l;
    if (e)
      l = e, (a || n) && (e.insertAt(e.length(), a + i), n && n.remove());
    else if (n)
      l = n, n.insertAt(0, a);
    else {
      const c = document.createTextNode(a);
      l = this.scroll.create(c), this.parent.insertBefore(l, this);
    }
    if (this.remove(), t) {
      const c = (h, f) => e && h === e.domNode ? f : h === o2 ? s + f - 1 : n && h === n.domNode ? s + a.length + f : null, d2 = c(t.start.node, t.start.offset), g = c(t.end.node, t.end.offset);
      if (d2 !== null && g !== null)
        return {
          startNode: l.domNode,
          startOffset: d2,
          endNode: l.domNode,
          endOffset: g
        };
    }
    return null;
  }
  update(t, e) {
    if (t.some((s) => s.type === "characterData" && s.target === this.textNode)) {
      const s = this.restore();
      s && (e.range = s);
    }
  }
  // Avoid .ql-cursor being a descendant of `<a/>`.
  // The reason is Safari pushes down `<a/>` on text insertion.
  // That will cause DOM nodes not sync with the model.
  //
  // For example ({I} is the caret), given the markup:
  //    <a><span class="ql-cursor">\uFEFF{I}</span></a>
  // When typing a char "x", `<a/>` will be pushed down inside the `<span>` first:
  //    <span class="ql-cursor"><a>\uFEFF{I}</a></span>
  // And then "x" will be inserted after `<a/>`:
  //    <span class="ql-cursor"><a>\uFEFF</a>d{I}</span>
  optimize(t) {
    super.optimize(t);
    let {
      parent: e
    } = this;
    for (; e; ) {
      if (e.domNode.tagName === "A") {
        this.savedLength = cr.CONTENTS.length, e.isolate(this.offset(e), this.length()).unwrap(), this.savedLength = 0;
        break;
      }
      e = e.parent;
    }
  }
  value() {
    return "";
  }
};
Q(Os, "blotName", "cursor"), Q(Os, "className", "ql-cursor"), Q(Os, "tagName", "span"), Q(Os, "CONTENTS", "\uFEFF");
var xi = Os;
var bu = { exports: {} };
var yu;
function ky() {
  return yu || (yu = 1, function(r2) {
    var t = Object.prototype.hasOwnProperty, e = "~";
    function s() {
    }
    Object.create && (s.prototype = /* @__PURE__ */ Object.create(null), new s().__proto__ || (e = false));
    function n(l, c, d2) {
      this.fn = l, this.context = c, this.once = d2 || false;
    }
    function i(l, c, d2, g, h) {
      if (typeof d2 != "function")
        throw new TypeError("The listener must be a function");
      var f = new n(d2, g || l, h), v = e ? e + c : c;
      return l._events[v] ? l._events[v].fn ? l._events[v] = [l._events[v], f] : l._events[v].push(f) : (l._events[v] = f, l._eventsCount++), l;
    }
    function o2(l, c) {
      --l._eventsCount === 0 ? l._events = new s() : delete l._events[c];
    }
    function a() {
      this._events = new s(), this._eventsCount = 0;
    }
    a.prototype.eventNames = function() {
      var l = [], c, d2;
      if (this._eventsCount === 0) return l;
      for (d2 in c = this._events)
        t.call(c, d2) && l.push(e ? d2.slice(1) : d2);
      return Object.getOwnPropertySymbols ? l.concat(Object.getOwnPropertySymbols(c)) : l;
    }, a.prototype.listeners = function(l) {
      var c = e ? e + l : l, d2 = this._events[c];
      if (!d2) return [];
      if (d2.fn) return [d2.fn];
      for (var g = 0, h = d2.length, f = new Array(h); g < h; g++)
        f[g] = d2[g].fn;
      return f;
    }, a.prototype.listenerCount = function(l) {
      var c = e ? e + l : l, d2 = this._events[c];
      return d2 ? d2.fn ? 1 : d2.length : 0;
    }, a.prototype.emit = function(l, c, d2, g, h, f) {
      var v = e ? e + l : l;
      if (!this._events[v]) return false;
      var m = this._events[v], k = arguments.length, _, E;
      if (m.fn) {
        switch (m.once && this.removeListener(l, m.fn, void 0, true), k) {
          case 1:
            return m.fn.call(m.context), true;
          case 2:
            return m.fn.call(m.context, c), true;
          case 3:
            return m.fn.call(m.context, c, d2), true;
          case 4:
            return m.fn.call(m.context, c, d2, g), true;
          case 5:
            return m.fn.call(m.context, c, d2, g, h), true;
          case 6:
            return m.fn.call(m.context, c, d2, g, h, f), true;
        }
        for (E = 1, _ = new Array(k - 1); E < k; E++)
          _[E - 1] = arguments[E];
        m.fn.apply(m.context, _);
      } else {
        var N = m.length, q2;
        for (E = 0; E < N; E++)
          switch (m[E].once && this.removeListener(l, m[E].fn, void 0, true), k) {
            case 1:
              m[E].fn.call(m[E].context);
              break;
            case 2:
              m[E].fn.call(m[E].context, c);
              break;
            case 3:
              m[E].fn.call(m[E].context, c, d2);
              break;
            case 4:
              m[E].fn.call(m[E].context, c, d2, g);
              break;
            default:
              if (!_) for (q2 = 1, _ = new Array(k - 1); q2 < k; q2++)
                _[q2 - 1] = arguments[q2];
              m[E].fn.apply(m[E].context, _);
          }
      }
      return true;
    }, a.prototype.on = function(l, c, d2) {
      return i(this, l, c, d2, false);
    }, a.prototype.once = function(l, c, d2) {
      return i(this, l, c, d2, true);
    }, a.prototype.removeListener = function(l, c, d2, g) {
      var h = e ? e + l : l;
      if (!this._events[h]) return this;
      if (!c)
        return o2(this, h), this;
      var f = this._events[h];
      if (f.fn)
        f.fn === c && (!g || f.once) && (!d2 || f.context === d2) && o2(this, h);
      else {
        for (var v = 0, m = [], k = f.length; v < k; v++)
          (f[v].fn !== c || g && !f[v].once || d2 && f[v].context !== d2) && m.push(f[v]);
        m.length ? this._events[h] = m.length === 1 ? m[0] : m : o2(this, h);
      }
      return this;
    }, a.prototype.removeAllListeners = function(l) {
      var c;
      return l ? (c = e ? e + l : l, this._events[c] && o2(this, c)) : (this._events = new s(), this._eventsCount = 0), this;
    }, a.prototype.off = a.prototype.removeListener, a.prototype.addListener = a.prototype.on, a.prefixed = e, a.EventEmitter = a, r2.exports = a;
  }(bu)), bu.exports;
}
var xy = ky();
var wy = q1(xy);
var ga = /* @__PURE__ */ new WeakMap();
var va = ["error", "warn", "log", "info"];
var ba = "warn";
function Id(r2) {
  if (ba && va.indexOf(r2) <= va.indexOf(ba)) {
    for (var t = arguments.length, e = new Array(t > 1 ? t - 1 : 0), s = 1; s < t; s++)
      e[s - 1] = arguments[s];
    console[r2](...e);
  }
}
function De(r2) {
  return va.reduce((t, e) => (t[e] = Id.bind(console, e, r2), t), {});
}
De.level = (r2) => {
  ba = r2;
};
Id.level = De.level;
var Oo = De("quill:events");
var Ey = ["selectionchange", "mousedown", "mouseup", "click"];
Ey.forEach((r2) => {
  document.addEventListener(r2, function() {
    for (var t = arguments.length, e = new Array(t), s = 0; s < t; s++)
      e[s] = arguments[s];
    Array.from(document.querySelectorAll(".ql-container")).forEach((n) => {
      const i = ga.get(n);
      i && i.emitter && i.emitter.handleDOM(...e);
    });
  });
});
var tt = class extends wy {
  constructor() {
    super(), this.domListeners = {}, this.on("error", Oo.error);
  }
  emit() {
    for (var t = arguments.length, e = new Array(t), s = 0; s < t; s++)
      e[s] = arguments[s];
    return Oo.log.call(Oo, ...e), super.emit(...e);
  }
  handleDOM(t) {
    for (var e = arguments.length, s = new Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++)
      s[n - 1] = arguments[n];
    (this.domListeners[t.type] || []).forEach((i) => {
      let {
        node: o2,
        handler: a
      } = i;
      (t.target === o2 || o2.contains(t.target)) && a(t, ...s);
    });
  }
  listenDOM(t, e, s) {
    this.domListeners[t] || (this.domListeners[t] = []), this.domListeners[t].push({
      node: e,
      handler: s
    });
  }
};
Q(tt, "events", {
  EDITOR_CHANGE: "editor-change",
  SCROLL_BEFORE_UPDATE: "scroll-before-update",
  SCROLL_BLOT_MOUNT: "scroll-blot-mount",
  SCROLL_BLOT_UNMOUNT: "scroll-blot-unmount",
  SCROLL_OPTIMIZE: "scroll-optimize",
  SCROLL_UPDATE: "scroll-update",
  SCROLL_EMBED_UPDATE: "scroll-embed-update",
  SELECTION_CHANGE: "selection-change",
  TEXT_CHANGE: "text-change",
  COMPOSITION_BEFORE_START: "composition-before-start",
  COMPOSITION_START: "composition-start",
  COMPOSITION_BEFORE_END: "composition-before-end",
  COMPOSITION_END: "composition-end"
}), Q(tt, "sources", {
  API: "api",
  SILENT: "silent",
  USER: "user"
});
var To = De("quill:selection");
var xr = class {
  constructor(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    this.index = t, this.length = e;
  }
};
var _y = class {
  constructor(t, e) {
    this.emitter = e, this.scroll = t, this.composing = false, this.mouseDown = false, this.root = this.scroll.domNode, this.cursor = this.scroll.create("cursor", this), this.savedRange = new xr(0, 0), this.lastRange = this.savedRange, this.lastNative = null, this.handleComposition(), this.handleDragging(), this.emitter.listenDOM("selectionchange", document, () => {
      !this.mouseDown && !this.composing && setTimeout(this.update.bind(this, tt.sources.USER), 1);
    }), this.emitter.on(tt.events.SCROLL_BEFORE_UPDATE, () => {
      if (!this.hasFocus()) return;
      const s = this.getNativeRange();
      s != null && s.start.node !== this.cursor.textNode && this.emitter.once(tt.events.SCROLL_UPDATE, (n, i) => {
        try {
          this.root.contains(s.start.node) && this.root.contains(s.end.node) && this.setNativeRange(s.start.node, s.start.offset, s.end.node, s.end.offset);
          const o2 = i.some((a) => a.type === "characterData" || a.type === "childList" || a.type === "attributes" && a.target === this.root);
          this.update(o2 ? tt.sources.SILENT : n);
        } catch {
        }
      });
    }), this.emitter.on(tt.events.SCROLL_OPTIMIZE, (s, n) => {
      if (n.range) {
        const {
          startNode: i,
          startOffset: o2,
          endNode: a,
          endOffset: l
        } = n.range;
        this.setNativeRange(i, o2, a, l), this.update(tt.sources.SILENT);
      }
    }), this.update(tt.sources.SILENT);
  }
  handleComposition() {
    this.emitter.on(tt.events.COMPOSITION_BEFORE_START, () => {
      this.composing = true;
    }), this.emitter.on(tt.events.COMPOSITION_END, () => {
      if (this.composing = false, this.cursor.parent) {
        const t = this.cursor.restore();
        if (!t) return;
        setTimeout(() => {
          this.setNativeRange(t.startNode, t.startOffset, t.endNode, t.endOffset);
        }, 1);
      }
    });
  }
  handleDragging() {
    this.emitter.listenDOM("mousedown", document.body, () => {
      this.mouseDown = true;
    }), this.emitter.listenDOM("mouseup", document.body, () => {
      this.mouseDown = false, this.update(tt.sources.USER);
    });
  }
  focus() {
    this.hasFocus() || (this.root.focus({
      preventScroll: true
    }), this.setRange(this.savedRange));
  }
  format(t, e) {
    this.scroll.update();
    const s = this.getNativeRange();
    if (!(s == null || !s.native.collapsed || this.scroll.query(t, rt.BLOCK))) {
      if (s.start.node !== this.cursor.textNode) {
        const n = this.scroll.find(s.start.node, false);
        if (n == null) return;
        if (n instanceof Pt) {
          const i = n.split(s.start.offset);
          n.parent.insertBefore(this.cursor, i);
        } else
          n.insertBefore(this.cursor, s.start.node);
        this.cursor.attach();
      }
      this.cursor.format(t, e), this.scroll.optimize(), this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length), this.update();
    }
  }
  getBounds(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    const s = this.scroll.length();
    t = Math.min(t, s - 1), e = Math.min(t + e, s - 1) - t;
    let n, [i, o2] = this.scroll.leaf(t);
    if (i == null) return null;
    if (e > 0 && o2 === i.length()) {
      const [d2] = this.scroll.leaf(t + 1);
      if (d2) {
        const [g] = this.scroll.line(t), [h] = this.scroll.line(t + 1);
        g === h && (i = d2, o2 = 0);
      }
    }
    [n, o2] = i.position(o2, true);
    const a = document.createRange();
    if (e > 0)
      return a.setStart(n, o2), [i, o2] = this.scroll.leaf(t + e), i == null ? null : ([n, o2] = i.position(o2, true), a.setEnd(n, o2), a.getBoundingClientRect());
    let l = "left", c;
    if (n instanceof Text) {
      if (!n.data.length)
        return null;
      o2 < n.data.length ? (a.setStart(n, o2), a.setEnd(n, o2 + 1)) : (a.setStart(n, o2 - 1), a.setEnd(n, o2), l = "right"), c = a.getBoundingClientRect();
    } else {
      if (!(i.domNode instanceof Element)) return null;
      c = i.domNode.getBoundingClientRect(), o2 > 0 && (l = "right");
    }
    return {
      bottom: c.top + c.height,
      height: c.height,
      left: c[l],
      right: c[l],
      top: c.top,
      width: 0
    };
  }
  getNativeRange() {
    const t = document.getSelection();
    if (t == null || t.rangeCount <= 0) return null;
    const e = t.getRangeAt(0);
    if (e == null) return null;
    const s = this.normalizeNative(e);
    return To.info("getNativeRange", s), s;
  }
  getRange() {
    const t = this.scroll.domNode;
    if ("isConnected" in t && !t.isConnected)
      return [null, null];
    const e = this.getNativeRange();
    return e == null ? [null, null] : [this.normalizedToRange(e), e];
  }
  hasFocus() {
    return document.activeElement === this.root || document.activeElement != null && Ro(this.root, document.activeElement);
  }
  normalizedToRange(t) {
    const e = [[t.start.node, t.start.offset]];
    t.native.collapsed || e.push([t.end.node, t.end.offset]);
    const s = e.map((o2) => {
      const [a, l] = o2, c = this.scroll.find(a, true), d2 = c.offset(this.scroll);
      return l === 0 ? d2 : c instanceof Pt ? d2 + c.index(a, l) : d2 + c.length();
    }), n = Math.min(Math.max(...s), this.scroll.length() - 1), i = Math.min(n, ...s);
    return new xr(i, n - i);
  }
  normalizeNative(t) {
    if (!Ro(this.root, t.startContainer) || !t.collapsed && !Ro(this.root, t.endContainer))
      return null;
    const e = {
      start: {
        node: t.startContainer,
        offset: t.startOffset
      },
      end: {
        node: t.endContainer,
        offset: t.endOffset
      },
      native: t
    };
    return [e.start, e.end].forEach((s) => {
      let {
        node: n,
        offset: i
      } = s;
      for (; !(n instanceof Text) && n.childNodes.length > 0; )
        if (n.childNodes.length > i)
          n = n.childNodes[i], i = 0;
        else if (n.childNodes.length === i)
          n = n.lastChild, n instanceof Text ? i = n.data.length : n.childNodes.length > 0 ? i = n.childNodes.length : i = n.childNodes.length + 1;
        else
          break;
      s.node = n, s.offset = i;
    }), e;
  }
  rangeToNative(t) {
    const e = this.scroll.length(), s = (n, i) => {
      n = Math.min(e - 1, n);
      const [o2, a] = this.scroll.leaf(n);
      return o2 ? o2.position(a, i) : [null, -1];
    };
    return [...s(t.index, false), ...s(t.index + t.length, true)];
  }
  setNativeRange(t, e) {
    let s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : t, n = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : e, i = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;
    if (To.info("setNativeRange", t, e, s, n), t != null && (this.root.parentNode == null || t.parentNode == null || // @ts-expect-error Fix me later
    s.parentNode == null))
      return;
    const o2 = document.getSelection();
    if (o2 != null)
      if (t != null) {
        this.hasFocus() || this.root.focus({
          preventScroll: true
        });
        const {
          native: a
        } = this.getNativeRange() || {};
        if (a == null || i || t !== a.startContainer || e !== a.startOffset || s !== a.endContainer || n !== a.endOffset) {
          t instanceof Element && t.tagName === "BR" && (e = Array.from(t.parentNode.childNodes).indexOf(t), t = t.parentNode), s instanceof Element && s.tagName === "BR" && (n = Array.from(s.parentNode.childNodes).indexOf(s), s = s.parentNode);
          const l = document.createRange();
          l.setStart(t, e), l.setEnd(s, n), o2.removeAllRanges(), o2.addRange(l);
        }
      } else
        o2.removeAllRanges(), this.root.blur();
  }
  setRange(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false, s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : tt.sources.API;
    if (typeof e == "string" && (s = e, e = false), To.info("setRange", t), t != null) {
      const n = this.rangeToNative(t);
      this.setNativeRange(...n, e);
    } else
      this.setNativeRange(null);
    this.update(s);
  }
  update() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : tt.sources.USER;
    const e = this.lastRange, [s, n] = this.getRange();
    if (this.lastRange = s, this.lastNative = n, this.lastRange != null && (this.savedRange = this.lastRange), !$e(e, this.lastRange)) {
      if (!this.composing && n != null && n.native.collapsed && n.start.node !== this.cursor.textNode) {
        const o2 = this.cursor.restore();
        o2 && this.setNativeRange(o2.startNode, o2.startOffset, o2.endNode, o2.endOffset);
      }
      const i = [tt.events.SELECTION_CHANGE, Wr(this.lastRange), Wr(e), t];
      this.emitter.emit(tt.events.EDITOR_CHANGE, ...i), t !== tt.sources.SILENT && this.emitter.emit(...i);
    }
  }
};
function Ro(r2, t) {
  try {
    t.parentNode;
  } catch {
    return false;
  }
  return r2.contains(t);
}
var Ay = /^[ -~]*$/;
var Ny = class {
  constructor(t) {
    this.scroll = t, this.delta = this.getDelta();
  }
  applyDelta(t) {
    this.scroll.update();
    let e = this.scroll.length();
    this.scroll.batchStart();
    const s = ku(t), n = new et();
    return Cy(s.ops.slice()).reduce((i, o2) => {
      const a = te.Op.length(o2);
      let l = o2.attributes || {}, c = false, d2 = false;
      if (o2.insert != null) {
        if (n.retain(a), typeof o2.insert == "string") {
          const f = o2.insert;
          d2 = !f.endsWith(`
`) && (e <= i || !!this.scroll.descendant(ee2, i)[0]), this.scroll.insertAt(i, f);
          const [v, m] = this.scroll.line(i);
          let k = We({}, Jt(v));
          if (v instanceof jt) {
            const [_] = v.descendant(Pt, m);
            _ && (k = We(k, Jt(_)));
          }
          l = te.AttributeMap.diff(k, l) || {};
        } else if (typeof o2.insert == "object") {
          const f = Object.keys(o2.insert)[0];
          if (f == null) return i;
          const v = this.scroll.query(f, rt.INLINE) != null;
          if (v)
            (e <= i || this.scroll.descendant(ee2, i)[0]) && (d2 = true);
          else if (i > 0) {
            const [m, k] = this.scroll.descendant(Pt, i - 1);
            m instanceof ce2 ? m.value()[k] !== `
` && (c = true) : m instanceof Xt && m.statics.scope === rt.INLINE_BLOT && (c = true);
          }
          if (this.scroll.insertAt(i, f, o2.insert[f]), v) {
            const [m] = this.scroll.descendant(Pt, i);
            if (m) {
              const k = We({}, Jt(m));
              l = te.AttributeMap.diff(k, l) || {};
            }
          }
        }
        e += a;
      } else if (n.push(o2), o2.retain !== null && typeof o2.retain == "object") {
        const f = Object.keys(o2.retain)[0];
        if (f == null) return i;
        this.scroll.updateEmbedAt(i, f, o2.retain[f]);
      }
      Object.keys(l).forEach((f) => {
        this.scroll.formatAt(i, a, f, l[f]);
      });
      const g = c ? 1 : 0, h = d2 ? 1 : 0;
      return e += g + h, n.retain(g), n.delete(h), i + a + g + h;
    }, 0), n.reduce((i, o2) => typeof o2.delete == "number" ? (this.scroll.deleteAt(i, o2.delete), i) : i + te.Op.length(o2), 0), this.scroll.batchEnd(), this.scroll.optimize(), this.update(s);
  }
  deleteText(t, e) {
    return this.scroll.deleteAt(t, e), this.update(new et().retain(t).delete(e));
  }
  formatLine(t, e) {
    let s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    this.scroll.update(), Object.keys(s).forEach((i) => {
      this.scroll.lines(t, Math.max(e, 1)).forEach((o2) => {
        o2.format(i, s[i]);
      });
    }), this.scroll.optimize();
    const n = new et().retain(t).retain(e, Wr(s));
    return this.update(n);
  }
  formatText(t, e) {
    let s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    Object.keys(s).forEach((i) => {
      this.scroll.formatAt(t, e, i, s[i]);
    });
    const n = new et().retain(t).retain(e, Wr(s));
    return this.update(n);
  }
  getContents(t, e) {
    return this.delta.slice(t, t + e);
  }
  getDelta() {
    return this.scroll.lines().reduce((t, e) => t.concat(e.delta()), new et());
  }
  getFormat(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, s = [], n = [];
    e === 0 ? this.scroll.path(t).forEach((a) => {
      const [l] = a;
      l instanceof jt ? s.push(l) : l instanceof Pt && n.push(l);
    }) : (s = this.scroll.lines(t, e), n = this.scroll.descendants(Pt, t, e));
    const [i, o2] = [s, n].map((a) => {
      const l = a.shift();
      if (l == null) return {};
      let c = Jt(l);
      for (; Object.keys(c).length > 0; ) {
        const d2 = a.shift();
        if (d2 == null) return c;
        c = Sy(Jt(d2), c);
      }
      return c;
    });
    return {
      ...i,
      ...o2
    };
  }
  getHTML(t, e) {
    const [s, n] = this.scroll.line(t);
    if (s) {
      const i = s.length();
      return s.length() >= n + e && !(n === 0 && e === i) ? Ps(s, n, e, true) : Ps(this.scroll, t, e, true);
    }
    return "";
  }
  getText(t, e) {
    return this.getContents(t, e).filter((s) => typeof s.insert == "string").map((s) => s.insert).join("");
  }
  insertContents(t, e) {
    const s = ku(e), n = new et().retain(t).concat(s);
    return this.scroll.insertContents(t, s), this.update(n);
  }
  insertEmbed(t, e, s) {
    return this.scroll.insertAt(t, e, s), this.update(new et().retain(t).insert({
      [e]: s
    }));
  }
  insertText(t, e) {
    let s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    return e = e.replace(/\r\n/g, `
`).replace(/\r/g, `
`), this.scroll.insertAt(t, e), Object.keys(s).forEach((n) => {
      this.scroll.formatAt(t, e.length, n, s[n]);
    }), this.update(new et().retain(t).insert(e, Wr(s)));
  }
  isBlank() {
    if (this.scroll.children.length === 0) return true;
    if (this.scroll.children.length > 1) return false;
    const t = this.scroll.children.head;
    if ((t == null ? void 0 : t.statics.blotName) !== jt.blotName) return false;
    const e = t;
    return e.children.length > 1 ? false : e.children.head instanceof de2;
  }
  removeFormat(t, e) {
    const s = this.getText(t, e), [n, i] = this.scroll.line(t + e);
    let o2 = 0, a = new et();
    n != null && (o2 = n.length() - i, a = n.delta().slice(i, i + o2 - 1).insert(`
`));
    const l = this.getContents(t, e + o2).diff(new et().insert(s).concat(a)), c = new et().retain(t).concat(l);
    return this.applyDelta(c);
  }
  update(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : void 0;
    const n = this.delta;
    if (e.length === 1 && e[0].type === "characterData" && // @ts-expect-error Fix me later
    e[0].target.data.match(Ay) && this.scroll.find(e[0].target)) {
      const i = this.scroll.find(e[0].target), o2 = Jt(i), a = i.offset(this.scroll), l = e[0].oldValue.replace(xi.CONTENTS, ""), c = new et().insert(l), d2 = new et().insert(i.value()), g = s && {
        oldRange: xu(s.oldRange, -a),
        newRange: xu(s.newRange, -a)
      };
      t = new et().retain(a).concat(c.diff(d2, g)).reduce((h, f) => f.insert ? h.insert(f.insert, o2) : h.push(f), new et()), this.delta = n.compose(t);
    } else
      this.delta = this.getDelta(), (!t || !$e(n.compose(t), this.delta)) && (t = n.diff(this.delta, s));
    return t;
  }
};
function Hr(r2, t, e) {
  if (r2.length === 0) {
    const [f] = Lo(e.pop());
    return t <= 0 ? `</li></${f}>` : `</li></${f}>${Hr([], t - 1, e)}`;
  }
  const [{
    child: s,
    offset: n,
    length: i,
    indent: o2,
    type: a
  }, ...l] = r2, [c, d2] = Lo(a);
  if (o2 > t)
    return e.push(a), o2 === t + 1 ? `<${c}><li${d2}>${Ps(s, n, i)}${Hr(l, o2, e)}` : `<${c}><li>${Hr(r2, t + 1, e)}`;
  const g = e[e.length - 1];
  if (o2 === t && a === g)
    return `</li><li${d2}>${Ps(s, n, i)}${Hr(l, o2, e)}`;
  const [h] = Lo(e.pop());
  return `</li></${h}>${Hr(r2, t - 1, e)}`;
}
function Ps(r2, t, e) {
  let s = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : false;
  if ("html" in r2 && typeof r2.html == "function")
    return r2.html(t, e);
  if (r2 instanceof ce2)
    return ki(r2.value().slice(t, t + e)).replaceAll(" ", "&nbsp;");
  if (r2 instanceof ue) {
    if (r2.statics.blotName === "list-container") {
      const c = [];
      return r2.children.forEachAt(t, e, (d2, g, h) => {
        const f = "formats" in d2 && typeof d2.formats == "function" ? d2.formats() : {};
        c.push({
          child: d2,
          offset: g,
          length: h,
          indent: f.indent || 0,
          type: f.list
        });
      }), Hr(c, -1, []);
    }
    const n = [];
    if (r2.children.forEachAt(t, e, (c, d2, g) => {
      n.push(Ps(c, d2, g));
    }), s || r2.statics.blotName === "list")
      return n.join("");
    const {
      outerHTML: i,
      innerHTML: o2
    } = r2.domNode, [a, l] = i.split(`>${o2}<`);
    return a === "<table" ? `<table style="border: 1px solid #000;">${n.join("")}<${l}` : `${a}>${n.join("")}<${l}`;
  }
  return r2.domNode instanceof Element ? r2.domNode.outerHTML : "";
}
function Sy(r2, t) {
  return Object.keys(t).reduce((e, s) => {
    if (r2[s] == null) return e;
    const n = t[s];
    return n === r2[s] ? e[s] = n : Array.isArray(n) ? n.indexOf(r2[s]) < 0 ? e[s] = n.concat([r2[s]]) : e[s] = n : e[s] = [n, r2[s]], e;
  }, {});
}
function Lo(r2) {
  const t = r2 === "ordered" ? "ol" : "ul";
  switch (r2) {
    case "checked":
      return [t, ' data-list="checked"'];
    case "unchecked":
      return [t, ' data-list="unchecked"'];
    default:
      return [t, ""];
  }
}
function ku(r2) {
  return r2.reduce((t, e) => {
    if (typeof e.insert == "string") {
      const s = e.insert.replace(/\r\n/g, `
`).replace(/\r/g, `
`);
      return t.insert(s, e.attributes);
    }
    return t.push(e);
  }, new et());
}
function xu(r2, t) {
  let {
    index: e,
    length: s
  } = r2;
  return new xr(e + t, s);
}
function Cy(r2) {
  const t = [];
  return r2.forEach((e) => {
    typeof e.insert == "string" ? e.insert.split(`
`).forEach((s, n) => {
      n && t.push({
        insert: `
`,
        attributes: e.attributes
      }), s && t.push({
        insert: s,
        attributes: e.attributes
      });
    }) : t.push(e);
  }), t;
}
var pe = class {
  constructor(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    this.quill = t, this.options = e;
  }
};
Q(pe, "DEFAULTS", {});
var An = "\uFEFF";
var Qa = class extends Xt {
  constructor(t, e) {
    super(t, e), this.contentNode = document.createElement("span"), this.contentNode.setAttribute("contenteditable", "false"), Array.from(this.domNode.childNodes).forEach((s) => {
      this.contentNode.appendChild(s);
    }), this.leftGuard = document.createTextNode(An), this.rightGuard = document.createTextNode(An), this.domNode.appendChild(this.leftGuard), this.domNode.appendChild(this.contentNode), this.domNode.appendChild(this.rightGuard);
  }
  index(t, e) {
    return t === this.leftGuard ? 0 : t === this.rightGuard ? 1 : super.index(t, e);
  }
  restore(t) {
    let e = null, s;
    const n = t.data.split(An).join("");
    if (t === this.leftGuard)
      if (this.prev instanceof ce2) {
        const i = this.prev.length();
        this.prev.insertAt(i, n), e = {
          startNode: this.prev.domNode,
          startOffset: i + n.length
        };
      } else
        s = document.createTextNode(n), this.parent.insertBefore(this.scroll.create(s), this), e = {
          startNode: s,
          startOffset: n.length
        };
    else t === this.rightGuard && (this.next instanceof ce2 ? (this.next.insertAt(0, n), e = {
      startNode: this.next.domNode,
      startOffset: n.length
    }) : (s = document.createTextNode(n), this.parent.insertBefore(this.scroll.create(s), this.next), e = {
      startNode: s,
      startOffset: n.length
    }));
    return t.data = An, e;
  }
  update(t, e) {
    t.forEach((s) => {
      if (s.type === "characterData" && (s.target === this.leftGuard || s.target === this.rightGuard)) {
        const n = this.restore(s.target);
        n && (e.range = n);
      }
    });
  }
};
var Oy = class {
  constructor(t, e) {
    Q(this, "isComposing", false), this.scroll = t, this.emitter = e, this.setupListeners();
  }
  setupListeners() {
    this.scroll.domNode.addEventListener("compositionstart", (t) => {
      this.isComposing || this.handleCompositionStart(t);
    }), this.scroll.domNode.addEventListener("compositionend", (t) => {
      this.isComposing && queueMicrotask(() => {
        this.handleCompositionEnd(t);
      });
    });
  }
  handleCompositionStart(t) {
    const e = t.target instanceof Node ? this.scroll.find(t.target, true) : null;
    e && !(e instanceof Qa) && (this.emitter.emit(tt.events.COMPOSITION_BEFORE_START, t), this.scroll.batchStart(), this.emitter.emit(tt.events.COMPOSITION_START, t), this.isComposing = true);
  }
  handleCompositionEnd(t) {
    this.emitter.emit(tt.events.COMPOSITION_BEFORE_END, t), this.scroll.batchEnd(), this.emitter.emit(tt.events.COMPOSITION_END, t), this.isComposing = false;
  }
};
var Fn = class {
  constructor(t, e) {
    Q(this, "modules", {}), this.quill = t, this.options = e;
  }
  init() {
    Object.keys(this.options.modules).forEach((t) => {
      this.modules[t] == null && this.addModule(t);
    });
  }
  addModule(t) {
    const e = this.quill.constructor.import(`modules/${t}`);
    return this.modules[t] = new e(this.quill, this.options.modules[t] || {}), this.modules[t];
  }
};
Q(Fn, "DEFAULTS", {
  modules: {}
}), Q(Fn, "themes", {
  default: Fn
});
var wi = Fn;
var Ty = (r2) => r2.parentElement || r2.getRootNode().host || null;
var Ry = (r2) => {
  const t = r2.getBoundingClientRect(), e = "offsetWidth" in r2 && Math.abs(t.width) / r2.offsetWidth || 1, s = "offsetHeight" in r2 && Math.abs(t.height) / r2.offsetHeight || 1;
  return {
    top: t.top,
    right: t.left + r2.clientWidth * e,
    bottom: t.top + r2.clientHeight * s,
    left: t.left
  };
};
var Nn = (r2) => {
  const t = parseInt(r2, 10);
  return Number.isNaN(t) ? 0 : t;
};
var wu = (r2, t, e, s, n, i) => r2 < e && t > s ? 0 : r2 < e ? -(e - r2 + n) : t > s ? t - r2 > s - e ? r2 + n - e : t - s + i : 0;
var Ly = (r2, t) => {
  var e, s, n;
  const i = r2.ownerDocument;
  let o2 = t, a = r2;
  for (; a; ) {
    const l = a === i.body, c = l ? {
      top: 0,
      right: ((e = window.visualViewport) == null ? void 0 : e.width) ?? i.documentElement.clientWidth,
      bottom: ((s = window.visualViewport) == null ? void 0 : s.height) ?? i.documentElement.clientHeight,
      left: 0
    } : Ry(a), d2 = getComputedStyle(a), g = wu(o2.left, o2.right, c.left, c.right, Nn(d2.scrollPaddingLeft), Nn(d2.scrollPaddingRight)), h = wu(o2.top, o2.bottom, c.top, c.bottom, Nn(d2.scrollPaddingTop), Nn(d2.scrollPaddingBottom));
    if (g || h)
      if (l)
        (n = i.defaultView) == null || n.scrollBy(g, h);
      else {
        const {
          scrollLeft: f,
          scrollTop: v
        } = a;
        h && (a.scrollTop += h), g && (a.scrollLeft += g);
        const m = a.scrollLeft - f, k = a.scrollTop - v;
        o2 = {
          left: o2.left - m,
          top: o2.top - k,
          right: o2.right - m,
          bottom: o2.bottom - k
        };
      }
    a = l || d2.position === "fixed" ? null : Ty(a);
  }
};
var Iy = 100;
var qy = ["block", "break", "cursor", "inline", "scroll", "text"];
var jy = (r2, t, e) => {
  const s = new ns();
  return qy.forEach((n) => {
    const i = t.query(n);
    i && s.register(i);
  }), r2.forEach((n) => {
    let i = t.query(n);
    i || e.error(`Cannot register "${n}" specified in "formats" config. Are you sure it was registered?`);
    let o2 = 0;
    for (; i; )
      if (s.register(i), i = "blotName" in i ? i.requiredContainer ?? null : null, o2 += 1, o2 > Iy) {
        e.error(`Cycle detected in registering blot requiredContainer: "${n}"`);
        break;
      }
  }), s;
};
var Xr = De("quill");
var Pn = new ns();
ue.uiClass = "ql-ui";
var Kr = class Ts {
  static debug(t) {
    t === true && (t = "log"), De.level(t);
  }
  static find(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
    return ga.get(t) || Pn.find(t, e);
  }
  static import(t) {
    return this.imports[t] == null && Xr.error(`Cannot import ${t}. Are you sure it was registered?`), this.imports[t];
  }
  static register() {
    if (typeof (arguments.length <= 0 ? void 0 : arguments[0]) != "string") {
      const t = arguments.length <= 0 ? void 0 : arguments[0], e = !!(!(arguments.length <= 1) && arguments[1]), s = "attrName" in t ? t.attrName : t.blotName;
      typeof s == "string" ? this.register(`formats/${s}`, t, e) : Object.keys(t).forEach((n) => {
        this.register(n, t[n], e);
      });
    } else {
      const t = arguments.length <= 0 ? void 0 : arguments[0], e = arguments.length <= 1 ? void 0 : arguments[1], s = !!(!(arguments.length <= 2) && arguments[2]);
      this.imports[t] != null && !s && Xr.warn(`Overwriting ${t} with`, e), this.imports[t] = e, (t.startsWith("blots/") || t.startsWith("formats/")) && e && typeof e != "boolean" && e.blotName !== "abstract" && Pn.register(e), typeof e.register == "function" && e.register(Pn);
    }
  }
  constructor(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    if (this.options = My(t, e), this.container = this.options.container, this.container == null) {
      Xr.error("Invalid Quill container", t);
      return;
    }
    this.options.debug && Ts.debug(this.options.debug);
    const s = this.container.innerHTML.trim();
    this.container.classList.add("ql-container"), this.container.innerHTML = "", ga.set(this.container, this), this.root = this.addContainer("ql-editor"), this.root.classList.add("ql-blank"), this.emitter = new tt();
    const n = Ja.blotName, i = this.options.registry.query(n);
    if (!i || !("blotName" in i))
      throw new Error(`Cannot initialize Quill without "${n}" blot`);
    if (this.scroll = new i(this.options.registry, this.root, {
      emitter: this.emitter
    }), this.editor = new Ny(this.scroll), this.selection = new _y(this.scroll, this.emitter), this.composition = new Oy(this.scroll, this.emitter), this.theme = new this.options.theme(this, this.options), this.keyboard = this.theme.addModule("keyboard"), this.clipboard = this.theme.addModule("clipboard"), this.history = this.theme.addModule("history"), this.uploader = this.theme.addModule("uploader"), this.theme.addModule("input"), this.theme.addModule("uiNode"), this.theme.init(), this.emitter.on(tt.events.EDITOR_CHANGE, (o2) => {
      o2 === tt.events.TEXT_CHANGE && this.root.classList.toggle("ql-blank", this.editor.isBlank());
    }), this.emitter.on(tt.events.SCROLL_UPDATE, (o2, a) => {
      const l = this.selection.lastRange, [c] = this.selection.getRange(), d2 = l && c ? {
        oldRange: l,
        newRange: c
      } : void 0;
      ie.call(this, () => this.editor.update(null, a, d2), o2);
    }), this.emitter.on(tt.events.SCROLL_EMBED_UPDATE, (o2, a) => {
      const l = this.selection.lastRange, [c] = this.selection.getRange(), d2 = l && c ? {
        oldRange: l,
        newRange: c
      } : void 0;
      ie.call(this, () => {
        const g = new et().retain(o2.offset(this)).retain({
          [o2.statics.blotName]: a
        });
        return this.editor.update(g, [], d2);
      }, Ts.sources.USER);
    }), s) {
      const o2 = this.clipboard.convert({
        html: `${s}<p><br></p>`,
        text: `
`
      });
      this.setContents(o2);
    }
    this.history.clear(), this.options.placeholder && this.root.setAttribute("data-placeholder", this.options.placeholder), this.options.readOnly && this.disable(), this.allowReadOnlyEdits = false;
  }
  addContainer(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
    if (typeof t == "string") {
      const s = t;
      t = document.createElement("div"), t.classList.add(s);
    }
    return this.container.insertBefore(t, e), t;
  }
  blur() {
    this.selection.setRange(null);
  }
  deleteText(t, e, s) {
    return [t, e, , s] = Oe2(t, e, s), ie.call(this, () => this.editor.deleteText(t, e), s, t, -1 * e);
  }
  disable() {
    this.enable(false);
  }
  editReadOnly(t) {
    this.allowReadOnlyEdits = true;
    const e = t();
    return this.allowReadOnlyEdits = false, e;
  }
  enable() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
    this.scroll.enable(t), this.container.classList.toggle("ql-disabled", !t);
  }
  focus() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    this.selection.focus(), t.preventScroll || this.scrollSelectionIntoView();
  }
  format(t, e) {
    let s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : tt.sources.API;
    return ie.call(this, () => {
      const n = this.getSelection(true);
      let i = new et();
      if (n == null) return i;
      if (this.scroll.query(t, rt.BLOCK))
        i = this.editor.formatLine(n.index, n.length, {
          [t]: e
        });
      else {
        if (n.length === 0)
          return this.selection.format(t, e), i;
        i = this.editor.formatText(n.index, n.length, {
          [t]: e
        });
      }
      return this.setSelection(n, tt.sources.SILENT), i;
    }, s);
  }
  formatLine(t, e, s, n, i) {
    let o2;
    return [t, e, o2, i] = Oe2(
      t,
      e,
      // @ts-expect-error
      s,
      n,
      i
    ), ie.call(this, () => this.editor.formatLine(t, e, o2), i, t, 0);
  }
  formatText(t, e, s, n, i) {
    let o2;
    return [t, e, o2, i] = Oe2(
      // @ts-expect-error
      t,
      e,
      s,
      n,
      i
    ), ie.call(this, () => this.editor.formatText(t, e, o2), i, t, 0);
  }
  getBounds(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, s = null;
    if (typeof t == "number" ? s = this.selection.getBounds(t, e) : s = this.selection.getBounds(t.index, t.length), !s) return null;
    const n = this.container.getBoundingClientRect();
    return {
      bottom: s.bottom - n.top,
      height: s.height,
      left: s.left - n.left,
      right: s.right - n.left,
      top: s.top - n.top,
      width: s.width
    };
  }
  getContents() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this.getLength() - t;
    return [t, e] = Oe2(t, e), this.editor.getContents(t, e);
  }
  getFormat() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.getSelection(true), e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    return typeof t == "number" ? this.editor.getFormat(t, e) : this.editor.getFormat(t.index, t.length);
  }
  getIndex(t) {
    return t.offset(this.scroll);
  }
  getLength() {
    return this.scroll.length();
  }
  getLeaf(t) {
    return this.scroll.leaf(t);
  }
  getLine(t) {
    return this.scroll.line(t);
  }
  getLines() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Number.MAX_VALUE;
    return typeof t != "number" ? this.scroll.lines(t.index, t.length) : this.scroll.lines(t, e);
  }
  getModule(t) {
    return this.theme.modules[t];
  }
  getSelection() {
    return arguments.length > 0 && arguments[0] !== void 0 && arguments[0] && this.focus(), this.update(), this.selection.getRange()[0];
  }
  getSemanticHTML() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, e = arguments.length > 1 ? arguments[1] : void 0;
    return typeof t == "number" && (e = e ?? this.getLength() - t), [t, e] = Oe2(t, e), this.editor.getHTML(t, e);
  }
  getText() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, e = arguments.length > 1 ? arguments[1] : void 0;
    return typeof t == "number" && (e = e ?? this.getLength() - t), [t, e] = Oe2(t, e), this.editor.getText(t, e);
  }
  hasFocus() {
    return this.selection.hasFocus();
  }
  insertEmbed(t, e, s) {
    let n = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : Ts.sources.API;
    return ie.call(this, () => this.editor.insertEmbed(t, e, s), n, t);
  }
  insertText(t, e, s, n, i) {
    let o2;
    return [t, , o2, i] = Oe2(t, 0, s, n, i), ie.call(this, () => this.editor.insertText(t, e, o2), i, t, e.length);
  }
  isEnabled() {
    return this.scroll.isEnabled();
  }
  off() {
    return this.emitter.off(...arguments);
  }
  on() {
    return this.emitter.on(...arguments);
  }
  once() {
    return this.emitter.once(...arguments);
  }
  removeFormat(t, e, s) {
    return [t, e, , s] = Oe2(t, e, s), ie.call(this, () => this.editor.removeFormat(t, e), s, t);
  }
  scrollRectIntoView(t) {
    Ly(this.root, t);
  }
  /**
   * @deprecated Use Quill#scrollSelectionIntoView() instead.
   */
  scrollIntoView() {
    console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."), this.scrollSelectionIntoView();
  }
  /**
   * Scroll the current selection into the visible area.
   * If the selection is already visible, no scrolling will occur.
   */
  scrollSelectionIntoView() {
    const t = this.selection.lastRange, e = t && this.selection.getBounds(t.index, t.length);
    e && this.scrollRectIntoView(e);
  }
  setContents(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : tt.sources.API;
    return ie.call(this, () => {
      t = new et(t);
      const s = this.getLength(), n = this.editor.deleteText(0, s), i = this.editor.insertContents(0, t), o2 = this.editor.deleteText(this.getLength() - 1, 1);
      return n.compose(i).compose(o2);
    }, e);
  }
  setSelection(t, e, s) {
    t == null ? this.selection.setRange(null, e || Ts.sources.API) : ([t, e, , s] = Oe2(t, e, s), this.selection.setRange(new xr(Math.max(0, t), e), s), s !== tt.sources.SILENT && this.scrollSelectionIntoView());
  }
  setText(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : tt.sources.API;
    const s = new et().insert(t);
    return this.setContents(s, e);
  }
  update() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : tt.sources.USER;
    const e = this.scroll.update(t);
    return this.selection.update(t), e;
  }
  updateContents(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : tt.sources.API;
    return ie.call(this, () => (t = new et(t), this.editor.applyDelta(t)), e, true);
  }
};
Q(Kr, "DEFAULTS", {
  bounds: null,
  modules: {
    clipboard: true,
    keyboard: true,
    history: true,
    uploader: true
  },
  placeholder: "",
  readOnly: false,
  registry: Pn,
  theme: "default"
}), Q(Kr, "events", tt.events), Q(Kr, "sources", tt.sources), Q(Kr, "version", "2.0.3"), Q(Kr, "imports", {
  delta: et,
  parchment: fy,
  "core/module": pe,
  "core/theme": wi
});
var I = Kr;
function Eu(r2) {
  return typeof r2 == "string" ? document.querySelector(r2) : r2;
}
function Io(r2) {
  return Object.entries(r2 ?? {}).reduce((t, e) => {
    let [s, n] = e;
    return {
      ...t,
      [s]: n === true ? {} : n
    };
  }, {});
}
function _u(r2) {
  return Object.fromEntries(Object.entries(r2).filter((t) => t[1] !== void 0));
}
function My(r2, t) {
  const e = Eu(r2);
  if (!e)
    throw new Error("Invalid Quill container");
  const s = !t.theme || t.theme === I.DEFAULTS.theme ? wi : I.import(`themes/${t.theme}`);
  if (!s)
    throw new Error(`Invalid theme ${t.theme}. Did you register it?`);
  const {
    modules: n,
    ...i
  } = I.DEFAULTS, {
    modules: o2,
    ...a
  } = s.DEFAULTS;
  let l = Io(t.modules);
  l != null && l.toolbar && l.toolbar.constructor !== Object && (l = {
    ...l,
    toolbar: {
      container: l.toolbar
    }
  });
  const c = We({}, Io(n), Io(o2), l), d2 = {
    ...i,
    ..._u(a),
    ..._u(t)
  };
  let g = t.registry;
  return g ? t.formats && Xr.warn('Ignoring "formats" option because "registry" is specified') : g = t.formats ? jy(t.formats, d2.registry, Xr) : d2.registry, {
    ...d2,
    registry: g,
    container: e,
    theme: s,
    modules: Object.entries(c).reduce((h, f) => {
      let [v, m] = f;
      if (!m) return h;
      const k = I.import(`modules/${v}`);
      return k == null ? (Xr.error(`Cannot load ${v} module. Are you sure you registered it?`), h) : {
        ...h,
        // @ts-expect-error
        [v]: We({}, k.DEFAULTS || {}, m)
      };
    }, {}),
    bounds: Eu(d2.bounds)
  };
}
function ie(r2, t, e, s) {
  if (!this.isEnabled() && t === tt.sources.USER && !this.allowReadOnlyEdits)
    return new et();
  let n = e == null ? null : this.getSelection();
  const i = this.editor.delta, o2 = r2();
  if (n != null && (e === true && (e = n.index), s == null ? n = Au(n, o2, t) : s !== 0 && (n = Au(n, e, s, t)), this.setSelection(n, tt.sources.SILENT)), o2.length() > 0) {
    const a = [tt.events.TEXT_CHANGE, o2, i, t];
    this.emitter.emit(tt.events.EDITOR_CHANGE, ...a), t !== tt.sources.SILENT && this.emitter.emit(...a);
  }
  return o2;
}
function Oe2(r2, t, e, s, n) {
  let i = {};
  return typeof r2.index == "number" && typeof r2.length == "number" ? typeof t != "number" ? (n = s, s = e, e = t, t = r2.length, r2 = r2.index) : (t = r2.length, r2 = r2.index) : typeof t != "number" && (n = s, s = e, e = t, t = 0), typeof e == "object" ? (i = e, n = s) : typeof e == "string" && (s != null ? i[e] = s : n = e), n = n || tt.sources.API, [r2, t, i, n];
}
function Au(r2, t, e, s) {
  const n = typeof e == "number" ? e : 0;
  if (r2 == null) return null;
  let i, o2;
  return t && typeof t.transformPosition == "function" ? [i, o2] = [r2.index, r2.index + r2.length].map((a) => (
    // @ts-expect-error -- TODO: add a better type guard around `index`
    t.transformPosition(a, s !== tt.sources.USER)
  )) : [i, o2] = [r2.index, r2.index + r2.length].map((a) => a < t || a === t && s === tt.sources.USER ? a : n >= 0 ? a + n : Math.max(t, a + n)), new xr(i, o2 - i);
}
var Ar = class extends yi {
};
function Nu(r2) {
  return r2 instanceof jt || r2 instanceof ee2;
}
function Su(r2) {
  return typeof r2.updateContent == "function";
}
var Gr = class extends Ja {
  constructor(t, e, s) {
    let {
      emitter: n
    } = s;
    super(t, e), this.emitter = n, this.batch = false, this.optimize(), this.enable(), this.domNode.addEventListener("dragstart", (i) => this.handleDragStart(i));
  }
  batchStart() {
    Array.isArray(this.batch) || (this.batch = []);
  }
  batchEnd() {
    if (!this.batch) return;
    const t = this.batch;
    this.batch = false, this.update(t);
  }
  emitMount(t) {
    this.emitter.emit(tt.events.SCROLL_BLOT_MOUNT, t);
  }
  emitUnmount(t) {
    this.emitter.emit(tt.events.SCROLL_BLOT_UNMOUNT, t);
  }
  emitEmbedUpdate(t, e) {
    this.emitter.emit(tt.events.SCROLL_EMBED_UPDATE, t, e);
  }
  deleteAt(t, e) {
    const [s, n] = this.line(t), [i] = this.line(t + e);
    if (super.deleteAt(t, e), i != null && s !== i && n > 0) {
      if (s instanceof ee2 || i instanceof ee2) {
        this.optimize();
        return;
      }
      const o2 = i.children.head instanceof de2 ? null : i.children.head;
      s.moveChildren(i, o2), s.remove();
    }
    this.optimize();
  }
  enable() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
    this.domNode.setAttribute("contenteditable", t ? "true" : "false");
  }
  formatAt(t, e, s, n) {
    super.formatAt(t, e, s, n), this.optimize();
  }
  insertAt(t, e, s) {
    if (t >= this.length())
      if (s == null || this.scroll.query(e, rt.BLOCK) == null) {
        const n = this.scroll.create(this.statics.defaultChild.blotName);
        this.appendChild(n), s == null && e.endsWith(`
`) ? n.insertAt(0, e.slice(0, -1), s) : n.insertAt(0, e, s);
      } else {
        const n = this.scroll.create(e, s);
        this.appendChild(n);
      }
    else
      super.insertAt(t, e, s);
    this.optimize();
  }
  insertBefore(t, e) {
    if (t.statics.scope === rt.INLINE_BLOT) {
      const s = this.scroll.create(this.statics.defaultChild.blotName);
      s.appendChild(t), super.insertBefore(s, e);
    } else
      super.insertBefore(t, e);
  }
  insertContents(t, e) {
    const s = this.deltaToRenderBlocks(e.concat(new et().insert(`
`))), n = s.pop();
    if (n == null) return;
    this.batchStart();
    const i = s.shift();
    if (i) {
      const l = i.type === "block" && (i.delta.length() === 0 || !this.descendant(ee2, t)[0] && t < this.length()), c = i.type === "block" ? i.delta : new et().insert({
        [i.key]: i.value
      });
      qo(this, t, c);
      const d2 = i.type === "block" ? 1 : 0, g = t + c.length() + d2;
      l && this.insertAt(g - 1, `
`);
      const h = Jt(this.line(t)[0]), f = te.AttributeMap.diff(h, i.attributes) || {};
      Object.keys(f).forEach((v) => {
        this.formatAt(g - 1, 1, v, f[v]);
      }), t = g;
    }
    let [o2, a] = this.children.find(t);
    if (s.length && (o2 && (o2 = o2.split(a), a = 0), s.forEach((l) => {
      if (l.type === "block") {
        const c = this.createBlock(l.attributes, o2 || void 0);
        qo(c, 0, l.delta);
      } else {
        const c = this.create(l.key, l.value);
        this.insertBefore(c, o2 || void 0), Object.keys(l.attributes).forEach((d2) => {
          c.format(d2, l.attributes[d2]);
        });
      }
    })), n.type === "block" && n.delta.length()) {
      const l = o2 ? o2.offset(o2.scroll) + a : this.length();
      qo(this, l, n.delta);
    }
    this.batchEnd(), this.optimize();
  }
  isEnabled() {
    return this.domNode.getAttribute("contenteditable") === "true";
  }
  leaf(t) {
    const e = this.path(t).pop();
    if (!e)
      return [null, -1];
    const [s, n] = e;
    return s instanceof Pt ? [s, n] : [null, -1];
  }
  line(t) {
    return t === this.length() ? this.line(t - 1) : this.descendant(Nu, t);
  }
  lines() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Number.MAX_VALUE;
    const s = (n, i, o2) => {
      let a = [], l = o2;
      return n.children.forEachAt(i, o2, (c, d2, g) => {
        Nu(c) ? a.push(c) : c instanceof yi && (a = a.concat(s(c, d2, l))), l -= g;
      }), a;
    };
    return s(this, t, e);
  }
  optimize() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [], e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    this.batch || (super.optimize(t, e), t.length > 0 && this.emitter.emit(tt.events.SCROLL_OPTIMIZE, t, e));
  }
  path(t) {
    return super.path(t).slice(1);
  }
  remove() {
  }
  update(t) {
    if (this.batch) {
      Array.isArray(t) && (this.batch = this.batch.concat(t));
      return;
    }
    let e = tt.sources.USER;
    typeof t == "string" && (e = t), Array.isArray(t) || (t = this.observer.takeRecords()), t = t.filter((s) => {
      let {
        target: n
      } = s;
      const i = this.find(n, true);
      return i && !Su(i);
    }), t.length > 0 && this.emitter.emit(tt.events.SCROLL_BEFORE_UPDATE, e, t), super.update(t.concat([])), t.length > 0 && this.emitter.emit(tt.events.SCROLL_UPDATE, e, t);
  }
  updateEmbedAt(t, e, s) {
    const [n] = this.descendant((i) => i instanceof ee2, t);
    n && n.statics.blotName === e && Su(n) && n.updateContent(s);
  }
  handleDragStart(t) {
    t.preventDefault();
  }
  deltaToRenderBlocks(t) {
    const e = [];
    let s = new et();
    return t.forEach((n) => {
      const i = n == null ? void 0 : n.insert;
      if (i)
        if (typeof i == "string") {
          const o2 = i.split(`
`);
          o2.slice(0, -1).forEach((l) => {
            s.insert(l, n.attributes), e.push({
              type: "block",
              delta: s,
              attributes: n.attributes ?? {}
            }), s = new et();
          });
          const a = o2[o2.length - 1];
          a && s.insert(a, n.attributes);
        } else {
          const o2 = Object.keys(i)[0];
          if (!o2) return;
          this.query(o2, rt.INLINE) ? s.push(n) : (s.length() && e.push({
            type: "block",
            delta: s,
            attributes: {}
          }), s = new et(), e.push({
            type: "blockEmbed",
            key: o2,
            value: i[o2],
            attributes: n.attributes ?? {}
          }));
        }
    }), s.length() && e.push({
      type: "block",
      delta: s,
      attributes: {}
    }), e;
  }
  createBlock(t, e) {
    let s;
    const n = {};
    Object.entries(t).forEach((a) => {
      let [l, c] = a;
      this.query(l, rt.BLOCK & rt.BLOT) != null ? s = l : n[l] = c;
    });
    const i = this.create(s || this.statics.defaultChild.blotName, s ? t[s] : void 0);
    this.insertBefore(i, e || void 0);
    const o2 = i.length();
    return Object.entries(n).forEach((a) => {
      let [l, c] = a;
      i.formatAt(0, o2, l, c);
    }), i;
  }
};
Q(Gr, "blotName", "scroll"), Q(Gr, "className", "ql-editor"), Q(Gr, "tagName", "DIV"), Q(Gr, "defaultChild", jt), Q(Gr, "allowedChildren", [jt, ee2, Ar]);
function qo(r2, t, e) {
  e.reduce((s, n) => {
    const i = te.Op.length(n);
    let o2 = n.attributes || {};
    if (n.insert != null) {
      if (typeof n.insert == "string") {
        const a = n.insert;
        r2.insertAt(s, a);
        const [l] = r2.descendant(Pt, s), c = Jt(l);
        o2 = te.AttributeMap.diff(c, o2) || {};
      } else if (typeof n.insert == "object") {
        const a = Object.keys(n.insert)[0];
        if (a == null) return s;
        if (r2.insertAt(s, a, n.insert[a]), r2.scroll.query(a, rt.INLINE) != null) {
          const [l] = r2.descendant(Pt, s), c = Jt(l);
          o2 = te.AttributeMap.diff(c, o2) || {};
        }
      }
    }
    return Object.keys(o2).forEach((a) => {
      r2.formatAt(s, i, a, o2[a]);
    }), s + i;
  }, t);
}
var tl = {
  scope: rt.BLOCK,
  whitelist: ["right", "center", "justify"]
};
var By = new we("align", "align", tl);
var qd = new he2("align", "ql-align", tl);
var jd = new er2("align", "text-align", tl);
var Md = class extends er2 {
  value(t) {
    let e = super.value(t);
    return e.startsWith("rgb(") ? (e = e.replace(/^[^\d]+/, "").replace(/[^\d]+$/, ""), `#${e.split(",").map((s) => `00${parseInt(s, 10).toString(16)}`.slice(-2)).join("")}`) : e;
  }
};
var Dy = new he2("color", "ql-color", {
  scope: rt.INLINE
});
var el = new Md("color", "color", {
  scope: rt.INLINE
});
var Fy = new he2("background", "ql-bg", {
  scope: rt.INLINE
});
var rl = new Md("background", "background-color", {
  scope: rt.INLINE
});
var Nr = class extends Ar {
  static create(t) {
    const e = super.create(t);
    return e.setAttribute("spellcheck", "false"), e;
  }
  code(t, e) {
    return this.children.map((s) => s.length() <= 1 ? "" : s.domNode.innerText).join(`
`).slice(t, t + e);
  }
  html(t, e) {
    return `<pre>
${ki(this.code(t, e))}
</pre>`;
  }
};
var Vt = class extends jt {
  static register() {
    I.register(Nr);
  }
};
Q(Vt, "TAB", "  ");
var sl = class extends rr2 {
};
sl.blotName = "code";
sl.tagName = "CODE";
Vt.blotName = "code-block";
Vt.className = "ql-code-block";
Vt.tagName = "DIV";
Nr.blotName = "code-block-container";
Nr.className = "ql-code-block-container";
Nr.tagName = "DIV";
Nr.allowedChildren = [Vt];
Vt.allowedChildren = [ce2, de2, xi];
Vt.requiredContainer = Nr;
var nl = {
  scope: rt.BLOCK,
  whitelist: ["rtl"]
};
var Bd = new we("direction", "dir", nl);
var Dd = new he2("direction", "ql-direction", nl);
var Fd = new er2("direction", "direction", nl);
var Pd = {
  scope: rt.INLINE,
  whitelist: ["serif", "monospace"]
};
var Vd = new he2("font", "ql-font", Pd);
var Py = class extends er2 {
  value(t) {
    return super.value(t).replace(/["']/g, "");
  }
};
var Ud = new Py("font", "font-family", Pd);
var $d = new he2("size", "ql-size", {
  scope: rt.INLINE,
  whitelist: ["small", "large", "huge"]
});
var zd = new er2("size", "font-size", {
  scope: rt.INLINE,
  whitelist: ["10px", "18px", "32px"]
});
var Vy = De("quill:keyboard");
var Uy = /Mac/i.test(navigator.platform) ? "metaKey" : "ctrlKey";
var Ei = class _Ei extends pe {
  static match(t, e) {
    return ["altKey", "ctrlKey", "metaKey", "shiftKey"].some((s) => !!e[s] !== t[s] && e[s] !== null) ? false : e.key === t.key || e.key === t.which;
  }
  constructor(t, e) {
    super(t, e), this.bindings = {}, Object.keys(this.options.bindings).forEach((s) => {
      this.options.bindings[s] && this.addBinding(this.options.bindings[s]);
    }), this.addBinding({
      key: "Enter",
      shiftKey: null
    }, this.handleEnter), this.addBinding({
      key: "Enter",
      metaKey: null,
      ctrlKey: null,
      altKey: null
    }, () => {
    }), /Firefox/i.test(navigator.userAgent) ? (this.addBinding({
      key: "Backspace"
    }, {
      collapsed: true
    }, this.handleBackspace), this.addBinding({
      key: "Delete"
    }, {
      collapsed: true
    }, this.handleDelete)) : (this.addBinding({
      key: "Backspace"
    }, {
      collapsed: true,
      prefix: /^.?$/
    }, this.handleBackspace), this.addBinding({
      key: "Delete"
    }, {
      collapsed: true,
      suffix: /^.?$/
    }, this.handleDelete)), this.addBinding({
      key: "Backspace"
    }, {
      collapsed: false
    }, this.handleDeleteRange), this.addBinding({
      key: "Delete"
    }, {
      collapsed: false
    }, this.handleDeleteRange), this.addBinding({
      key: "Backspace",
      altKey: null,
      ctrlKey: null,
      metaKey: null,
      shiftKey: null
    }, {
      collapsed: true,
      offset: 0
    }, this.handleBackspace), this.listen();
  }
  addBinding(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
    const n = zy(t);
    if (n == null) {
      Vy.warn("Attempted to add invalid keyboard binding", n);
      return;
    }
    typeof e == "function" && (e = {
      handler: e
    }), typeof s == "function" && (s = {
      handler: s
    }), (Array.isArray(n.key) ? n.key : [n.key]).forEach((i) => {
      const o2 = {
        ...n,
        key: i,
        ...e,
        ...s
      };
      this.bindings[o2.key] = this.bindings[o2.key] || [], this.bindings[o2.key].push(o2);
    });
  }
  listen() {
    this.quill.root.addEventListener("keydown", (t) => {
      if (t.defaultPrevented || t.isComposing || t.keyCode === 229 && (t.key === "Enter" || t.key === "Backspace")) return;
      const e = (this.bindings[t.key] || []).concat(this.bindings[t.which] || []).filter((v) => _Ei.match(t, v));
      if (e.length === 0) return;
      const s = I.find(t.target, true);
      if (s && s.scroll !== this.quill.scroll) return;
      const n = this.quill.getSelection();
      if (n == null || !this.quill.hasFocus()) return;
      const [i, o2] = this.quill.getLine(n.index), [a, l] = this.quill.getLeaf(n.index), [c, d2] = n.length === 0 ? [a, l] : this.quill.getLeaf(n.index + n.length), g = a instanceof Yn2 ? a.value().slice(0, l) : "", h = c instanceof Yn2 ? c.value().slice(d2) : "", f = {
        collapsed: n.length === 0,
        // @ts-expect-error Fix me later
        empty: n.length === 0 && i.length() <= 1,
        format: this.quill.getFormat(n),
        line: i,
        offset: o2,
        prefix: g,
        suffix: h,
        event: t
      };
      e.some((v) => {
        if (v.collapsed != null && v.collapsed !== f.collapsed || v.empty != null && v.empty !== f.empty || v.offset != null && v.offset !== f.offset)
          return false;
        if (Array.isArray(v.format)) {
          if (v.format.every((m) => f.format[m] == null))
            return false;
        } else if (typeof v.format == "object" && !Object.keys(v.format).every((m) => v.format[m] === true ? f.format[m] != null : v.format[m] === false ? f.format[m] == null : $e(v.format[m], f.format[m])))
          return false;
        return v.prefix != null && !v.prefix.test(f.prefix) || v.suffix != null && !v.suffix.test(f.suffix) ? false : v.handler.call(this, n, f, v) !== true;
      }) && t.preventDefault();
    });
  }
  handleBackspace(t, e) {
    const s = /[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix) ? 2 : 1;
    if (t.index === 0 || this.quill.getLength() <= 1) return;
    let n = {};
    const [i] = this.quill.getLine(t.index);
    let o2 = new et().retain(t.index - s).delete(s);
    if (e.offset === 0) {
      const [a] = this.quill.getLine(t.index - 1);
      if (a && !(a.statics.blotName === "block" && a.length() <= 1)) {
        const l = i.formats(), c = this.quill.getFormat(t.index - 1, 1);
        if (n = te.AttributeMap.diff(l, c) || {}, Object.keys(n).length > 0) {
          const d2 = new et().retain(t.index + i.length() - 2).retain(1, n);
          o2 = o2.compose(d2);
        }
      }
    }
    this.quill.updateContents(o2, I.sources.USER), this.quill.focus();
  }
  handleDelete(t, e) {
    const s = /^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix) ? 2 : 1;
    if (t.index >= this.quill.getLength() - s) return;
    let n = {};
    const [i] = this.quill.getLine(t.index);
    let o2 = new et().retain(t.index).delete(s);
    if (e.offset >= i.length() - 1) {
      const [a] = this.quill.getLine(t.index + 1);
      if (a) {
        const l = i.formats(), c = this.quill.getFormat(t.index, 1);
        n = te.AttributeMap.diff(l, c) || {}, Object.keys(n).length > 0 && (o2 = o2.retain(a.length() - 1).retain(1, n));
      }
    }
    this.quill.updateContents(o2, I.sources.USER), this.quill.focus();
  }
  handleDeleteRange(t) {
    il({
      range: t,
      quill: this.quill
    }), this.quill.focus();
  }
  handleEnter(t, e) {
    const s = Object.keys(e.format).reduce((i, o2) => (this.quill.scroll.query(o2, rt.BLOCK) && !Array.isArray(e.format[o2]) && (i[o2] = e.format[o2]), i), {}), n = new et().retain(t.index).delete(t.length).insert(`
`, s);
    this.quill.updateContents(n, I.sources.USER), this.quill.setSelection(t.index + 1, I.sources.SILENT), this.quill.focus();
  }
};
var $y = {
  bindings: {
    bold: jo("bold"),
    italic: jo("italic"),
    underline: jo("underline"),
    indent: {
      // highlight tab or tab at beginning of list, indent or blockquote
      key: "Tab",
      format: ["blockquote", "indent", "list"],
      handler(r2, t) {
        return t.collapsed && t.offset !== 0 ? true : (this.quill.format("indent", "+1", I.sources.USER), false);
      }
    },
    outdent: {
      key: "Tab",
      shiftKey: true,
      format: ["blockquote", "indent", "list"],
      // highlight tab or tab at beginning of list, indent or blockquote
      handler(r2, t) {
        return t.collapsed && t.offset !== 0 ? true : (this.quill.format("indent", "-1", I.sources.USER), false);
      }
    },
    "outdent backspace": {
      key: "Backspace",
      collapsed: true,
      shiftKey: null,
      metaKey: null,
      ctrlKey: null,
      altKey: null,
      format: ["indent", "list"],
      offset: 0,
      handler(r2, t) {
        t.format.indent != null ? this.quill.format("indent", "-1", I.sources.USER) : t.format.list != null && this.quill.format("list", false, I.sources.USER);
      }
    },
    "indent code-block": Cu(true),
    "outdent code-block": Cu(false),
    "remove tab": {
      key: "Tab",
      shiftKey: true,
      collapsed: true,
      prefix: /\t$/,
      handler(r2) {
        this.quill.deleteText(r2.index - 1, 1, I.sources.USER);
      }
    },
    tab: {
      key: "Tab",
      handler(r2, t) {
        if (t.format.table) return true;
        this.quill.history.cutoff();
        const e = new et().retain(r2.index).delete(r2.length).insert("	");
        return this.quill.updateContents(e, I.sources.USER), this.quill.history.cutoff(), this.quill.setSelection(r2.index + 1, I.sources.SILENT), false;
      }
    },
    "blockquote empty enter": {
      key: "Enter",
      collapsed: true,
      format: ["blockquote"],
      empty: true,
      handler() {
        this.quill.format("blockquote", false, I.sources.USER);
      }
    },
    "list empty enter": {
      key: "Enter",
      collapsed: true,
      format: ["list"],
      empty: true,
      handler(r2, t) {
        const e = {
          list: false
        };
        t.format.indent && (e.indent = false), this.quill.formatLine(r2.index, r2.length, e, I.sources.USER);
      }
    },
    "checklist enter": {
      key: "Enter",
      collapsed: true,
      format: {
        list: "checked"
      },
      handler(r2) {
        const [t, e] = this.quill.getLine(r2.index), s = {
          // @ts-expect-error Fix me later
          ...t.formats(),
          list: "checked"
        }, n = new et().retain(r2.index).insert(`
`, s).retain(t.length() - e - 1).retain(1, {
          list: "unchecked"
        });
        this.quill.updateContents(n, I.sources.USER), this.quill.setSelection(r2.index + 1, I.sources.SILENT), this.quill.scrollSelectionIntoView();
      }
    },
    "header enter": {
      key: "Enter",
      collapsed: true,
      format: ["header"],
      suffix: /^$/,
      handler(r2, t) {
        const [e, s] = this.quill.getLine(r2.index), n = new et().retain(r2.index).insert(`
`, t.format).retain(e.length() - s - 1).retain(1, {
          header: null
        });
        this.quill.updateContents(n, I.sources.USER), this.quill.setSelection(r2.index + 1, I.sources.SILENT), this.quill.scrollSelectionIntoView();
      }
    },
    "table backspace": {
      key: "Backspace",
      format: ["table"],
      collapsed: true,
      offset: 0,
      handler() {
      }
    },
    "table delete": {
      key: "Delete",
      format: ["table"],
      collapsed: true,
      suffix: /^$/,
      handler() {
      }
    },
    "table enter": {
      key: "Enter",
      shiftKey: null,
      format: ["table"],
      handler(r2) {
        const t = this.quill.getModule("table");
        if (t) {
          const [e, s, n, i] = t.getTable(r2), o2 = Hy(e, s, n, i);
          if (o2 == null) return;
          let a = e.offset();
          if (o2 < 0) {
            const l = new et().retain(a).insert(`
`);
            this.quill.updateContents(l, I.sources.USER), this.quill.setSelection(r2.index + 1, r2.length, I.sources.SILENT);
          } else if (o2 > 0) {
            a += e.length();
            const l = new et().retain(a).insert(`
`);
            this.quill.updateContents(l, I.sources.USER), this.quill.setSelection(a, I.sources.USER);
          }
        }
      }
    },
    "table tab": {
      key: "Tab",
      shiftKey: null,
      format: ["table"],
      handler(r2, t) {
        const {
          event: e,
          line: s
        } = t, n = s.offset(this.quill.scroll);
        e.shiftKey ? this.quill.setSelection(n - 1, I.sources.USER) : this.quill.setSelection(n + s.length(), I.sources.USER);
      }
    },
    "list autofill": {
      key: " ",
      shiftKey: null,
      collapsed: true,
      format: {
        "code-block": false,
        blockquote: false,
        table: false
      },
      prefix: /^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,
      handler(r2, t) {
        if (this.quill.scroll.query("list") == null) return true;
        const {
          length: e
        } = t.prefix, [s, n] = this.quill.getLine(r2.index);
        if (n > e) return true;
        let i;
        switch (t.prefix.trim()) {
          case "[]":
          case "[ ]":
            i = "unchecked";
            break;
          case "[x]":
            i = "checked";
            break;
          case "-":
          case "*":
            i = "bullet";
            break;
          default:
            i = "ordered";
        }
        this.quill.insertText(r2.index, " ", I.sources.USER), this.quill.history.cutoff();
        const o2 = new et().retain(r2.index - n).delete(e + 1).retain(s.length() - 2 - n).retain(1, {
          list: i
        });
        return this.quill.updateContents(o2, I.sources.USER), this.quill.history.cutoff(), this.quill.setSelection(r2.index - e, I.sources.SILENT), false;
      }
    },
    "code exit": {
      key: "Enter",
      collapsed: true,
      format: ["code-block"],
      prefix: /^$/,
      suffix: /^\s*$/,
      handler(r2) {
        const [t, e] = this.quill.getLine(r2.index);
        let s = 2, n = t;
        for (; n != null && n.length() <= 1 && n.formats()["code-block"]; )
          if (n = n.prev, s -= 1, s <= 0) {
            const i = new et().retain(r2.index + t.length() - e - 2).retain(1, {
              "code-block": null
            }).delete(1);
            return this.quill.updateContents(i, I.sources.USER), this.quill.setSelection(r2.index - 1, I.sources.SILENT), false;
          }
        return true;
      }
    },
    "embed left": Sn("ArrowLeft", false),
    "embed left shift": Sn("ArrowLeft", true),
    "embed right": Sn("ArrowRight", false),
    "embed right shift": Sn("ArrowRight", true),
    "table down": Ou(false),
    "table up": Ou(true)
  }
};
Ei.DEFAULTS = $y;
function Cu(r2) {
  return {
    key: "Tab",
    shiftKey: !r2,
    format: {
      "code-block": true
    },
    handler(t, e) {
      let {
        event: s
      } = e;
      const n = this.quill.scroll.query("code-block"), {
        TAB: i
      } = n;
      if (t.length === 0 && !s.shiftKey) {
        this.quill.insertText(t.index, i, I.sources.USER), this.quill.setSelection(t.index + i.length, I.sources.SILENT);
        return;
      }
      const o2 = t.length === 0 ? this.quill.getLines(t.index, 1) : this.quill.getLines(t);
      let {
        index: a,
        length: l
      } = t;
      o2.forEach((c, d2) => {
        r2 ? (c.insertAt(0, i), d2 === 0 ? a += i.length : l += i.length) : c.domNode.textContent.startsWith(i) && (c.deleteAt(0, i.length), d2 === 0 ? a -= i.length : l -= i.length);
      }), this.quill.update(I.sources.USER), this.quill.setSelection(a, l, I.sources.SILENT);
    }
  };
}
function Sn(r2, t) {
  return {
    key: r2,
    shiftKey: t,
    altKey: null,
    [r2 === "ArrowLeft" ? "prefix" : "suffix"]: /^$/,
    handler(e) {
      let {
        index: s
      } = e;
      r2 === "ArrowRight" && (s += e.length + 1);
      const [n] = this.quill.getLeaf(s);
      return n instanceof Xt ? (r2 === "ArrowLeft" ? t ? this.quill.setSelection(e.index - 1, e.length + 1, I.sources.USER) : this.quill.setSelection(e.index - 1, I.sources.USER) : t ? this.quill.setSelection(e.index, e.length + 1, I.sources.USER) : this.quill.setSelection(e.index + e.length + 1, I.sources.USER), false) : true;
    }
  };
}
function jo(r2) {
  return {
    key: r2[0],
    shortKey: true,
    handler(t, e) {
      this.quill.format(r2, !e.format[r2], I.sources.USER);
    }
  };
}
function Ou(r2) {
  return {
    key: r2 ? "ArrowUp" : "ArrowDown",
    collapsed: true,
    format: ["table"],
    handler(t, e) {
      const s = r2 ? "prev" : "next", n = e.line, i = n.parent[s];
      if (i != null) {
        if (i.statics.blotName === "table-row") {
          let o2 = i.children.head, a = n;
          for (; a.prev != null; )
            a = a.prev, o2 = o2.next;
          const l = o2.offset(this.quill.scroll) + Math.min(e.offset, o2.length() - 1);
          this.quill.setSelection(l, 0, I.sources.USER);
        }
      } else {
        const o2 = n.table()[s];
        o2 != null && (r2 ? this.quill.setSelection(o2.offset(this.quill.scroll) + o2.length() - 1, 0, I.sources.USER) : this.quill.setSelection(o2.offset(this.quill.scroll), 0, I.sources.USER));
      }
      return false;
    }
  };
}
function zy(r2) {
  if (typeof r2 == "string" || typeof r2 == "number")
    r2 = {
      key: r2
    };
  else if (typeof r2 == "object")
    r2 = Wr(r2);
  else
    return null;
  return r2.shortKey && (r2[Uy] = r2.shortKey, delete r2.shortKey), r2;
}
function il(r2) {
  let {
    quill: t,
    range: e
  } = r2;
  const s = t.getLines(e);
  let n = {};
  if (s.length > 1) {
    const i = s[0].formats(), o2 = s[s.length - 1].formats();
    n = te.AttributeMap.diff(o2, i) || {};
  }
  t.deleteText(e, I.sources.USER), Object.keys(n).length > 0 && t.formatLine(e.index, 1, n, I.sources.USER), t.setSelection(e.index, I.sources.SILENT);
}
function Hy(r2, t, e, s) {
  return t.prev == null && t.next == null ? e.prev == null && e.next == null ? s === 0 ? -1 : 1 : e.prev == null ? -1 : 1 : t.prev == null ? -1 : t.next == null ? 1 : null;
}
var Ky = /font-weight:\s*normal/;
var Gy = ["P", "OL", "UL"];
var Tu = (r2) => r2 && Gy.includes(r2.tagName);
var Wy = (r2) => {
  Array.from(r2.querySelectorAll("br")).filter((t) => Tu(t.previousElementSibling) && Tu(t.nextElementSibling)).forEach((t) => {
    var e;
    (e = t.parentNode) == null || e.removeChild(t);
  });
};
var Zy = (r2) => {
  Array.from(r2.querySelectorAll('b[style*="font-weight"]')).filter((t) => {
    var e;
    return (e = t.getAttribute("style")) == null ? void 0 : e.match(Ky);
  }).forEach((t) => {
    var e;
    const s = r2.createDocumentFragment();
    s.append(...t.childNodes), (e = t.parentNode) == null || e.replaceChild(s, t);
  });
};
function Xy(r2) {
  r2.querySelector('[id^="docs-internal-guid-"]') && (Zy(r2), Wy(r2));
}
var Yy = /\bmso-list:[^;]*ignore/i;
var Jy = /\bmso-list:[^;]*\bl(\d+)/i;
var Qy = /\bmso-list:[^;]*\blevel(\d+)/i;
var tk = (r2, t) => {
  const e = r2.getAttribute("style"), s = e == null ? void 0 : e.match(Jy);
  if (!s)
    return null;
  const n = Number(s[1]), i = e == null ? void 0 : e.match(Qy), o2 = i ? Number(i[1]) : 1, a = new RegExp(`@list l${n}:level${o2}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`, "i"), l = t.match(a), c = l && l[1] === "bullet" ? "bullet" : "ordered";
  return {
    id: n,
    indent: o2,
    type: c,
    element: r2
  };
};
var ek = (r2) => {
  var t, e;
  const s = Array.from(r2.querySelectorAll("[style*=mso-list]")), n = [], i = [];
  s.forEach((l) => {
    (l.getAttribute("style") || "").match(Yy) ? n.push(l) : i.push(l);
  }), n.forEach((l) => {
    var c;
    return (c = l.parentNode) == null ? void 0 : c.removeChild(l);
  });
  const o2 = r2.documentElement.innerHTML, a = i.map((l) => tk(l, o2)).filter((l) => l);
  for (; a.length; ) {
    const l = [];
    let c = a.shift();
    for (; c; )
      l.push(c), c = a.length && ((t = a[0]) == null ? void 0 : t.element) === c.element.nextElementSibling && // Different id means the next item doesn't belong to this group.
      a[0].id === c.id ? a.shift() : null;
    const d2 = document.createElement("ul");
    l.forEach((f) => {
      const v = document.createElement("li");
      v.setAttribute("data-list", f.type), f.indent > 1 && v.setAttribute("class", `ql-indent-${f.indent - 1}`), v.innerHTML = f.element.innerHTML, d2.appendChild(v);
    });
    const g = (e = l[0]) == null ? void 0 : e.element, {
      parentNode: h
    } = g ?? {};
    g && (h == null || h.replaceChild(d2, g)), l.slice(1).forEach((f) => {
      let {
        element: v
      } = f;
      h == null || h.removeChild(v);
    });
  }
};
function rk(r2) {
  r2.documentElement.getAttribute("xmlns:w") === "urn:schemas-microsoft-com:office:word" && ek(r2);
}
var sk = [rk, Xy];
var nk = (r2) => {
  r2.documentElement && sk.forEach((t) => {
    t(r2);
  });
};
var ik = De("quill:clipboard");
var ok = [[Node.TEXT_NODE, bk], [Node.TEXT_NODE, Lu], ["br", hk], [Node.ELEMENT_NODE, Lu], [Node.ELEMENT_NODE, ck], [Node.ELEMENT_NODE, uk], [Node.ELEMENT_NODE, gk], ["li", fk], ["ol, ul", mk], ["pre", dk], ["tr", vk], ["b", Mo("bold")], ["i", Mo("italic")], ["strike", Mo("strike")], ["style", pk]];
var ak = [By, Bd].reduce((r2, t) => (r2[t.keyName] = t, r2), {});
var Ru = [jd, rl, el, Fd, Ud, zd].reduce((r2, t) => (r2[t.keyName] = t, r2), {});
var Hd = class extends pe {
  constructor(t, e) {
    super(t, e), this.quill.root.addEventListener("copy", (s) => this.onCaptureCopy(s, false)), this.quill.root.addEventListener("cut", (s) => this.onCaptureCopy(s, true)), this.quill.root.addEventListener("paste", this.onCapturePaste.bind(this)), this.matchers = [], ok.concat(this.options.matchers ?? []).forEach((s) => {
      let [n, i] = s;
      this.addMatcher(n, i);
    });
  }
  addMatcher(t, e) {
    this.matchers.push([t, e]);
  }
  convert(t) {
    let {
      html: e,
      text: s
    } = t, n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    if (n[Vt.blotName])
      return new et().insert(s || "", {
        [Vt.blotName]: n[Vt.blotName]
      });
    if (!e)
      return new et().insert(s || "", n);
    const i = this.convertHTML(e);
    return Gs(i, `
`) && (i.ops[i.ops.length - 1].attributes == null || n.table) ? i.compose(new et().retain(i.length() - 1).delete(1)) : i;
  }
  normalizeHTML(t) {
    nk(t);
  }
  convertHTML(t) {
    const e = new DOMParser().parseFromString(t, "text/html");
    this.normalizeHTML(e);
    const s = e.body, n = /* @__PURE__ */ new WeakMap(), [i, o2] = this.prepareMatching(s, n);
    return ol(this.quill.scroll, s, i, o2, n);
  }
  dangerouslyPasteHTML(t, e) {
    let s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : I.sources.API;
    if (typeof t == "string") {
      const n = this.convert({
        html: t,
        text: ""
      });
      this.quill.setContents(n, e), this.quill.setSelection(0, I.sources.SILENT);
    } else {
      const n = this.convert({
        html: e,
        text: ""
      });
      this.quill.updateContents(new et().retain(t).concat(n), s), this.quill.setSelection(t + n.length(), I.sources.SILENT);
    }
  }
  onCaptureCopy(t) {
    var e, s;
    let n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
    if (t.defaultPrevented) return;
    t.preventDefault();
    const [i] = this.quill.selection.getRange();
    if (i == null) return;
    const {
      html: o2,
      text: a
    } = this.onCopy(i, n);
    (e = t.clipboardData) == null || e.setData("text/plain", a), (s = t.clipboardData) == null || s.setData("text/html", o2), n && il({
      range: i,
      quill: this.quill
    });
  }
  /*
   * https://www.iana.org/assignments/media-types/text/uri-list
   */
  normalizeURIList(t) {
    return t.split(/\r?\n/).filter((e) => e[0] !== "#").join(`
`);
  }
  onCapturePaste(t) {
    var e, s, n, i, o2;
    if (t.defaultPrevented || !this.quill.isEnabled()) return;
    t.preventDefault();
    const a = this.quill.getSelection(true);
    if (a == null) return;
    const l = (e = t.clipboardData) == null ? void 0 : e.getData("text/html");
    let c = (s = t.clipboardData) == null ? void 0 : s.getData("text/plain");
    if (!l && !c) {
      const g = (n = t.clipboardData) == null ? void 0 : n.getData("text/uri-list");
      g && (c = this.normalizeURIList(g));
    }
    const d2 = Array.from(((i = t.clipboardData) == null ? void 0 : i.files) || []);
    if (!l && d2.length > 0) {
      this.quill.uploader.upload(a, d2);
      return;
    }
    if (l && d2.length > 0) {
      const g = new DOMParser().parseFromString(l, "text/html");
      if (g.body.childElementCount === 1 && ((o2 = g.body.firstElementChild) == null ? void 0 : o2.tagName) === "IMG") {
        this.quill.uploader.upload(a, d2);
        return;
      }
    }
    this.onPaste(a, {
      html: l,
      text: c
    });
  }
  onCopy(t) {
    const e = this.quill.getText(t);
    return {
      html: this.quill.getSemanticHTML(t),
      text: e
    };
  }
  onPaste(t, e) {
    let {
      text: s,
      html: n
    } = e;
    const i = this.quill.getFormat(t.index), o2 = this.convert({
      text: s,
      html: n
    }, i);
    ik.log("onPaste", o2, {
      text: s,
      html: n
    });
    const a = new et().retain(t.index).delete(t.length).concat(o2);
    this.quill.updateContents(a, I.sources.USER), this.quill.setSelection(a.length() - t.length, I.sources.SILENT), this.quill.scrollSelectionIntoView();
  }
  prepareMatching(t, e) {
    const s = [], n = [];
    return this.matchers.forEach((i) => {
      const [o2, a] = i;
      switch (o2) {
        case Node.TEXT_NODE:
          n.push(a);
          break;
        case Node.ELEMENT_NODE:
          s.push(a);
          break;
        default:
          Array.from(t.querySelectorAll(o2)).forEach((l) => {
            if (e.has(l)) {
              const c = e.get(l);
              c == null || c.push(a);
            } else
              e.set(l, [a]);
          });
          break;
      }
    }), [s, n];
  }
};
Q(Hd, "DEFAULTS", {
  matchers: []
});
function Sr(r2, t, e, s) {
  return s.query(t) ? r2.reduce((n, i) => {
    if (!i.insert) return n;
    if (i.attributes && i.attributes[t])
      return n.push(i);
    const o2 = e ? {
      [t]: e
    } : {};
    return n.insert(i.insert, {
      ...o2,
      ...i.attributes
    });
  }, new et()) : r2;
}
function Gs(r2, t) {
  let e = "";
  for (let s = r2.ops.length - 1; s >= 0 && e.length < t.length; --s) {
    const n = r2.ops[s];
    if (typeof n.insert != "string") break;
    e = n.insert + e;
  }
  return e.slice(-1 * t.length) === t;
}
function He2(r2, t) {
  if (!(r2 instanceof Element)) return false;
  const e = t.query(r2);
  return e && e.prototype instanceof Xt ? false : ["address", "article", "blockquote", "canvas", "dd", "div", "dl", "dt", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "header", "iframe", "li", "main", "nav", "ol", "output", "p", "pre", "section", "table", "td", "tr", "ul", "video"].includes(r2.tagName.toLowerCase());
}
function lk(r2, t) {
  return r2.previousElementSibling && r2.nextElementSibling && !He2(r2.previousElementSibling, t) && !He2(r2.nextElementSibling, t);
}
var Cn = /* @__PURE__ */ new WeakMap();
function Kd(r2) {
  return r2 == null ? false : (Cn.has(r2) || (r2.tagName === "PRE" ? Cn.set(r2, true) : Cn.set(r2, Kd(r2.parentNode))), Cn.get(r2));
}
function ol(r2, t, e, s, n) {
  return t.nodeType === t.TEXT_NODE ? s.reduce((i, o2) => o2(t, i, r2), new et()) : t.nodeType === t.ELEMENT_NODE ? Array.from(t.childNodes || []).reduce((i, o2) => {
    let a = ol(r2, o2, e, s, n);
    return o2.nodeType === t.ELEMENT_NODE && (a = e.reduce((l, c) => c(o2, l, r2), a), a = (n.get(o2) || []).reduce((l, c) => c(o2, l, r2), a)), i.concat(a);
  }, new et()) : new et();
}
function Mo(r2) {
  return (t, e, s) => Sr(e, r2, true, s);
}
function uk(r2, t, e) {
  const s = we.keys(r2), n = he2.keys(r2), i = er2.keys(r2), o2 = {};
  return s.concat(n).concat(i).forEach((a) => {
    let l = e.query(a, rt.ATTRIBUTE);
    l != null && (o2[l.attrName] = l.value(r2), o2[l.attrName]) || (l = ak[a], l != null && (l.attrName === a || l.keyName === a) && (o2[l.attrName] = l.value(r2) || void 0), l = Ru[a], l != null && (l.attrName === a || l.keyName === a) && (l = Ru[a], o2[l.attrName] = l.value(r2) || void 0));
  }), Object.entries(o2).reduce((a, l) => {
    let [c, d2] = l;
    return Sr(a, c, d2, e);
  }, t);
}
function ck(r2, t, e) {
  const s = e.query(r2);
  if (s == null) return t;
  if (s.prototype instanceof Xt) {
    const n = {}, i = s.value(r2);
    if (i != null)
      return n[s.blotName] = i, new et().insert(n, s.formats(r2, e));
  } else if (s.prototype instanceof Fs && !Gs(t, `
`) && t.insert(`
`), "blotName" in s && "formats" in s && typeof s.formats == "function")
    return Sr(t, s.blotName, s.formats(r2, e), e);
  return t;
}
function hk(r2, t) {
  return Gs(t, `
`) || t.insert(`
`), t;
}
function dk(r2, t, e) {
  const s = e.query("code-block"), n = s && "formats" in s && typeof s.formats == "function" ? s.formats(r2, e) : true;
  return Sr(t, "code-block", n, e);
}
function pk() {
  return new et();
}
function fk(r2, t, e) {
  const s = e.query(r2);
  if (s == null || // @ts-expect-error
  s.blotName !== "list" || !Gs(t, `
`))
    return t;
  let n = -1, i = r2.parentNode;
  for (; i != null; )
    ["OL", "UL"].includes(i.tagName) && (n += 1), i = i.parentNode;
  return n <= 0 ? t : t.reduce((o2, a) => a.insert ? a.attributes && typeof a.attributes.indent == "number" ? o2.push(a) : o2.insert(a.insert, {
    indent: n,
    ...a.attributes || {}
  }) : o2, new et());
}
function mk(r2, t, e) {
  const s = r2;
  let n = s.tagName === "OL" ? "ordered" : "bullet";
  const i = s.getAttribute("data-checked");
  return i && (n = i === "true" ? "checked" : "unchecked"), Sr(t, "list", n, e);
}
function Lu(r2, t, e) {
  if (!Gs(t, `
`)) {
    if (He2(r2, e) && (r2.childNodes.length > 0 || r2 instanceof HTMLParagraphElement))
      return t.insert(`
`);
    if (t.length() > 0 && r2.nextSibling) {
      let s = r2.nextSibling;
      for (; s != null; ) {
        if (He2(s, e))
          return t.insert(`
`);
        const n = e.query(s);
        if (n && n.prototype instanceof ee2)
          return t.insert(`
`);
        s = s.firstChild;
      }
    }
  }
  return t;
}
function gk(r2, t, e) {
  var s;
  const n = {}, i = r2.style || {};
  return i.fontStyle === "italic" && (n.italic = true), i.textDecoration === "underline" && (n.underline = true), i.textDecoration === "line-through" && (n.strike = true), ((s = i.fontWeight) != null && s.startsWith("bold") || // @ts-expect-error Fix me later
  parseInt(i.fontWeight, 10) >= 700) && (n.bold = true), t = Object.entries(n).reduce((o2, a) => {
    let [l, c] = a;
    return Sr(o2, l, c, e);
  }, t), parseFloat(i.textIndent || 0) > 0 ? new et().insert("	").concat(t) : t;
}
function vk(r2, t, e) {
  var s, n;
  const i = ((s = r2.parentElement) == null ? void 0 : s.tagName) === "TABLE" ? r2.parentElement : (n = r2.parentElement) == null ? void 0 : n.parentElement;
  if (i != null) {
    const o2 = Array.from(i.querySelectorAll("tr")).indexOf(r2) + 1;
    return Sr(t, "table", o2, e);
  }
  return t;
}
function bk(r2, t, e) {
  var s;
  let n = r2.data;
  if (((s = r2.parentElement) == null ? void 0 : s.tagName) === "O:P")
    return t.insert(n.trim());
  if (!Kd(r2)) {
    if (n.trim().length === 0 && n.includes(`
`) && !lk(r2, e))
      return t;
    n = n.replace(/[^\S\u00a0]/g, " "), n = n.replace(/ {2,}/g, " "), (r2.previousSibling == null && r2.parentElement != null && He2(r2.parentElement, e) || r2.previousSibling instanceof Element && He2(r2.previousSibling, e)) && (n = n.replace(/^ /, "")), (r2.nextSibling == null && r2.parentElement != null && He2(r2.parentElement, e) || r2.nextSibling instanceof Element && He2(r2.nextSibling, e)) && (n = n.replace(/ $/, "")), n = n.replaceAll("", " ");
  }
  return t.insert(n);
}
var Gd = class extends pe {
  constructor(t, e) {
    super(t, e), Q(this, "lastRecorded", 0), Q(this, "ignoreChange", false), Q(this, "stack", {
      undo: [],
      redo: []
    }), Q(this, "currentRange", null), this.quill.on(I.events.EDITOR_CHANGE, (s, n, i, o2) => {
      s === I.events.SELECTION_CHANGE ? n && o2 !== I.sources.SILENT && (this.currentRange = n) : s === I.events.TEXT_CHANGE && (this.ignoreChange || (!this.options.userOnly || o2 === I.sources.USER ? this.record(n, i) : this.transform(n)), this.currentRange = ya(this.currentRange, n));
    }), this.quill.keyboard.addBinding({
      key: "z",
      shortKey: true
    }, this.undo.bind(this)), this.quill.keyboard.addBinding({
      key: ["z", "Z"],
      shortKey: true,
      shiftKey: true
    }, this.redo.bind(this)), /Win/i.test(navigator.platform) && this.quill.keyboard.addBinding({
      key: "y",
      shortKey: true
    }, this.redo.bind(this)), this.quill.root.addEventListener("beforeinput", (s) => {
      s.inputType === "historyUndo" ? (this.undo(), s.preventDefault()) : s.inputType === "historyRedo" && (this.redo(), s.preventDefault());
    });
  }
  change(t, e) {
    if (this.stack[t].length === 0) return;
    const s = this.stack[t].pop();
    if (!s) return;
    const n = this.quill.getContents(), i = s.delta.invert(n);
    this.stack[e].push({
      delta: i,
      range: ya(s.range, i)
    }), this.lastRecorded = 0, this.ignoreChange = true, this.quill.updateContents(s.delta, I.sources.USER), this.ignoreChange = false, this.restoreSelection(s);
  }
  clear() {
    this.stack = {
      undo: [],
      redo: []
    };
  }
  cutoff() {
    this.lastRecorded = 0;
  }
  record(t, e) {
    if (t.ops.length === 0) return;
    this.stack.redo = [];
    let s = t.invert(e), n = this.currentRange;
    const i = Date.now();
    if (
      // @ts-expect-error Fix me later
      this.lastRecorded + this.options.delay > i && this.stack.undo.length > 0
    ) {
      const o2 = this.stack.undo.pop();
      o2 && (s = s.compose(o2.delta), n = o2.range);
    } else
      this.lastRecorded = i;
    s.length() !== 0 && (this.stack.undo.push({
      delta: s,
      range: n
    }), this.stack.undo.length > this.options.maxStack && this.stack.undo.shift());
  }
  redo() {
    this.change("redo", "undo");
  }
  transform(t) {
    Iu(this.stack.undo, t), Iu(this.stack.redo, t);
  }
  undo() {
    this.change("undo", "redo");
  }
  restoreSelection(t) {
    if (t.range)
      this.quill.setSelection(t.range, I.sources.USER);
    else {
      const e = kk(this.quill.scroll, t.delta);
      this.quill.setSelection(e, I.sources.USER);
    }
  }
};
Q(Gd, "DEFAULTS", {
  delay: 1e3,
  maxStack: 100,
  userOnly: false
});
function Iu(r2, t) {
  let e = t;
  for (let s = r2.length - 1; s >= 0; s -= 1) {
    const n = r2[s];
    r2[s] = {
      delta: e.transform(n.delta, true),
      range: n.range && ya(n.range, e)
    }, e = n.delta.transform(e), r2[s].delta.length() === 0 && r2.splice(s, 1);
  }
}
function yk(r2, t) {
  const e = t.ops[t.ops.length - 1];
  return e == null ? false : e.insert != null ? typeof e.insert == "string" && e.insert.endsWith(`
`) : e.attributes != null ? Object.keys(e.attributes).some((s) => r2.query(s, rt.BLOCK) != null) : false;
}
function kk(r2, t) {
  const e = t.reduce((n, i) => n + (i.delete || 0), 0);
  let s = t.length() - e;
  return yk(r2, t) && (s -= 1), s;
}
function ya(r2, t) {
  if (!r2) return r2;
  const e = t.transformPosition(r2.index), s = t.transformPosition(r2.index + r2.length);
  return {
    index: e,
    length: s - e
  };
}
var Wd = class extends pe {
  constructor(t, e) {
    super(t, e), t.root.addEventListener("drop", (s) => {
      var n;
      s.preventDefault();
      let i = null;
      if (document.caretRangeFromPoint)
        i = document.caretRangeFromPoint(s.clientX, s.clientY);
      else if (document.caretPositionFromPoint) {
        const a = document.caretPositionFromPoint(s.clientX, s.clientY);
        i = document.createRange(), i.setStart(a.offsetNode, a.offset), i.setEnd(a.offsetNode, a.offset);
      }
      const o2 = i && t.selection.normalizeNative(i);
      if (o2) {
        const a = t.selection.normalizedToRange(o2);
        (n = s.dataTransfer) != null && n.files && this.upload(a, s.dataTransfer.files);
      }
    });
  }
  upload(t, e) {
    const s = [];
    Array.from(e).forEach((n) => {
      var i;
      n && (i = this.options.mimetypes) != null && i.includes(n.type) && s.push(n);
    }), s.length > 0 && this.options.handler.call(this, t, s);
  }
};
Wd.DEFAULTS = {
  mimetypes: ["image/png", "image/jpeg"],
  handler(r2, t) {
    if (!this.quill.scroll.query("image"))
      return;
    const e = t.map((s) => new Promise((n) => {
      const i = new FileReader();
      i.onload = () => {
        n(i.result);
      }, i.readAsDataURL(s);
    }));
    Promise.all(e).then((s) => {
      const n = s.reduce((i, o2) => i.insert({
        image: o2
      }), new et().retain(r2.index).delete(r2.length));
      this.quill.updateContents(n, tt.sources.USER), this.quill.setSelection(r2.index + s.length, tt.sources.SILENT);
    });
  }
};
var xk = ["insertText", "insertReplacementText"];
var wk = class extends pe {
  constructor(t, e) {
    super(t, e), t.root.addEventListener("beforeinput", (s) => {
      this.handleBeforeInput(s);
    }), /Android/i.test(navigator.userAgent) || t.on(I.events.COMPOSITION_BEFORE_START, () => {
      this.handleCompositionStart();
    });
  }
  deleteRange(t) {
    il({
      range: t,
      quill: this.quill
    });
  }
  replaceText(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
    if (t.length === 0) return false;
    if (e) {
      const s = this.quill.getFormat(t.index, 1);
      this.deleteRange(t), this.quill.updateContents(new et().retain(t.index).insert(e, s), I.sources.USER);
    } else
      this.deleteRange(t);
    return this.quill.setSelection(t.index + e.length, 0, I.sources.SILENT), true;
  }
  handleBeforeInput(t) {
    if (this.quill.composition.isComposing || t.defaultPrevented || !xk.includes(t.inputType))
      return;
    const e = t.getTargetRanges ? t.getTargetRanges()[0] : null;
    if (!e || e.collapsed === true)
      return;
    const s = Ek(t);
    if (s == null)
      return;
    const n = this.quill.selection.normalizeNative(e), i = n ? this.quill.selection.normalizedToRange(n) : null;
    i && this.replaceText(i, s) && t.preventDefault();
  }
  handleCompositionStart() {
    const t = this.quill.getSelection();
    t && this.replaceText(t);
  }
};
function Ek(r2) {
  var t;
  return typeof r2.data == "string" ? r2.data : (t = r2.dataTransfer) != null && t.types.includes("text/plain") ? r2.dataTransfer.getData("text/plain") : null;
}
var _k = /Mac/i.test(navigator.platform);
var Ak = 100;
var Nk = (r2) => !!(r2.key === "ArrowLeft" || r2.key === "ArrowRight" || // RTL scripts or moving from the end of the previous line
r2.key === "ArrowUp" || r2.key === "ArrowDown" || r2.key === "Home" || _k && r2.key === "a" && r2.ctrlKey === true);
var Sk = class extends pe {
  constructor(t, e) {
    super(t, e), Q(this, "isListening", false), Q(this, "selectionChangeDeadline", 0), this.handleArrowKeys(), this.handleNavigationShortcuts();
  }
  handleArrowKeys() {
    this.quill.keyboard.addBinding({
      key: ["ArrowLeft", "ArrowRight"],
      offset: 0,
      shiftKey: null,
      handler(t, e) {
        let {
          line: s,
          event: n
        } = e;
        if (!(s instanceof ue) || !s.uiNode)
          return true;
        const i = getComputedStyle(s.domNode).direction === "rtl";
        return i && n.key !== "ArrowRight" || !i && n.key !== "ArrowLeft" ? true : (this.quill.setSelection(t.index - 1, t.length + (n.shiftKey ? 1 : 0), I.sources.USER), false);
      }
    });
  }
  handleNavigationShortcuts() {
    this.quill.root.addEventListener("keydown", (t) => {
      !t.defaultPrevented && Nk(t) && this.ensureListeningToSelectionChange();
    });
  }
  /**
   * We only listen to the `selectionchange` event when
   * there is an intention of moving the caret to the beginning using shortcuts.
   * This is primarily implemented to prevent infinite loops, as we are changing
   * the selection within the handler of a `selectionchange` event.
   */
  ensureListeningToSelectionChange() {
    if (this.selectionChangeDeadline = Date.now() + Ak, this.isListening) return;
    this.isListening = true;
    const t = () => {
      this.isListening = false, Date.now() <= this.selectionChangeDeadline && this.handleSelectionChange();
    };
    document.addEventListener("selectionchange", t, {
      once: true
    });
  }
  handleSelectionChange() {
    const t = document.getSelection();
    if (!t) return;
    const e = t.getRangeAt(0);
    if (e.collapsed !== true || e.startOffset !== 0) return;
    const s = this.quill.scroll.find(e.startContainer);
    if (!(s instanceof ue) || !s.uiNode) return;
    const n = document.createRange();
    n.setStartAfter(s.uiNode), n.setEndAfter(s.uiNode), t.removeAllRanges(), t.addRange(n);
  }
};
I.register({
  "blots/block": jt,
  "blots/block/embed": ee2,
  "blots/break": de2,
  "blots/container": Ar,
  "blots/cursor": xi,
  "blots/embed": Qa,
  "blots/inline": rr2,
  "blots/scroll": Gr,
  "blots/text": ce2,
  "modules/clipboard": Hd,
  "modules/history": Gd,
  "modules/keyboard": Ei,
  "modules/uploader": Wd,
  "modules/input": wk,
  "modules/uiNode": Sk
});
var Ck = class extends he2 {
  add(t, e) {
    let s = 0;
    if (e === "+1" || e === "-1") {
      const n = this.value(t) || 0;
      s = e === "+1" ? n + 1 : n - 1;
    } else typeof e == "number" && (s = e);
    return s === 0 ? (this.remove(t), true) : super.add(t, s.toString());
  }
  canAdd(t, e) {
    return super.canAdd(t, e) || super.canAdd(t, parseInt(e, 10));
  }
  value(t) {
    return parseInt(super.value(t), 10) || void 0;
  }
};
var Ok = new Ck("indent", "ql-indent", {
  scope: rt.BLOCK,
  // @ts-expect-error
  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]
});
var ka = class extends jt {
};
Q(ka, "blotName", "blockquote"), Q(ka, "tagName", "blockquote");
var xa = class extends jt {
  static formats(t) {
    return this.tagName.indexOf(t.tagName) + 1;
  }
};
Q(xa, "blotName", "header"), Q(xa, "tagName", ["H1", "H2", "H3", "H4", "H5", "H6"]);
var Ws = class extends Ar {
};
Ws.blotName = "list-container";
Ws.tagName = "OL";
var Zs = class extends jt {
  static create(t) {
    const e = super.create();
    return e.setAttribute("data-list", t), e;
  }
  static formats(t) {
    return t.getAttribute("data-list") || void 0;
  }
  static register() {
    I.register(Ws);
  }
  constructor(t, e) {
    super(t, e);
    const s = e.ownerDocument.createElement("span"), n = (i) => {
      if (!t.isEnabled()) return;
      const o2 = this.statics.formats(e, t);
      o2 === "checked" ? (this.format("list", "unchecked"), i.preventDefault()) : o2 === "unchecked" && (this.format("list", "checked"), i.preventDefault());
    };
    s.addEventListener("mousedown", n), s.addEventListener("touchstart", n), this.attachUI(s);
  }
  format(t, e) {
    t === this.statics.blotName && e ? this.domNode.setAttribute("data-list", e) : super.format(t, e);
  }
};
Zs.blotName = "list";
Zs.tagName = "LI";
Ws.allowedChildren = [Zs];
Zs.requiredContainer = Ws;
var Vs = class extends rr2 {
  static create() {
    return super.create();
  }
  static formats() {
    return true;
  }
  optimize(t) {
    super.optimize(t), this.domNode.tagName !== this.statics.tagName[0] && this.replaceWith(this.statics.blotName);
  }
};
Q(Vs, "blotName", "bold"), Q(Vs, "tagName", ["STRONG", "B"]);
var wa = class extends Vs {
};
Q(wa, "blotName", "italic"), Q(wa, "tagName", ["EM", "I"]);
var Ke = class extends rr2 {
  static create(t) {
    const e = super.create(t);
    return e.setAttribute("href", this.sanitize(t)), e.setAttribute("rel", "noopener noreferrer"), e.setAttribute("target", "_blank"), e;
  }
  static formats(t) {
    return t.getAttribute("href");
  }
  static sanitize(t) {
    return Zd(t, this.PROTOCOL_WHITELIST) ? t : this.SANITIZED_URL;
  }
  format(t, e) {
    t !== this.statics.blotName || !e ? super.format(t, e) : this.domNode.setAttribute("href", this.constructor.sanitize(e));
  }
};
Q(Ke, "blotName", "link"), Q(Ke, "tagName", "A"), Q(Ke, "SANITIZED_URL", "about:blank"), Q(Ke, "PROTOCOL_WHITELIST", ["http", "https", "mailto", "tel", "sms"]);
function Zd(r2, t) {
  const e = document.createElement("a");
  e.href = r2;
  const s = e.href.slice(0, e.href.indexOf(":"));
  return t.indexOf(s) > -1;
}
var Ea = class extends rr2 {
  static create(t) {
    return t === "super" ? document.createElement("sup") : t === "sub" ? document.createElement("sub") : super.create(t);
  }
  static formats(t) {
    if (t.tagName === "SUB") return "sub";
    if (t.tagName === "SUP") return "super";
  }
};
Q(Ea, "blotName", "script"), Q(Ea, "tagName", ["SUB", "SUP"]);
var _a = class extends Vs {
};
Q(_a, "blotName", "strike"), Q(_a, "tagName", ["S", "STRIKE"]);
var Aa = class extends rr2 {
};
Q(Aa, "blotName", "underline"), Q(Aa, "tagName", "U");
var Vn = class extends Qa {
  static create(t) {
    if (window.katex == null)
      throw new Error("Formula module requires KaTeX.");
    const e = super.create(t);
    return typeof t == "string" && (window.katex.render(t, e, {
      throwOnError: false,
      errorColor: "#f00"
    }), e.setAttribute("data-value", t)), e;
  }
  static value(t) {
    return t.getAttribute("data-value");
  }
  html() {
    const {
      formula: t
    } = this.value();
    return `<span>${t}</span>`;
  }
};
Q(Vn, "blotName", "formula"), Q(Vn, "className", "ql-formula"), Q(Vn, "tagName", "SPAN");
var qu = ["alt", "height", "width"];
var Na = class extends Xt {
  static create(t) {
    const e = super.create(t);
    return typeof t == "string" && e.setAttribute("src", this.sanitize(t)), e;
  }
  static formats(t) {
    return qu.reduce((e, s) => (t.hasAttribute(s) && (e[s] = t.getAttribute(s)), e), {});
  }
  static match(t) {
    return /\.(jpe?g|gif|png)$/.test(t) || /^data:image\/.+;base64/.test(t);
  }
  static sanitize(t) {
    return Zd(t, ["http", "https", "data"]) ? t : "//:0";
  }
  static value(t) {
    return t.getAttribute("src");
  }
  format(t, e) {
    qu.indexOf(t) > -1 ? e ? this.domNode.setAttribute(t, e) : this.domNode.removeAttribute(t) : super.format(t, e);
  }
};
Q(Na, "blotName", "image"), Q(Na, "tagName", "IMG");
var ju = ["height", "width"];
var Un = class extends ee2 {
  static create(t) {
    const e = super.create(t);
    return e.setAttribute("frameborder", "0"), e.setAttribute("allowfullscreen", "true"), e.setAttribute("src", this.sanitize(t)), e;
  }
  static formats(t) {
    return ju.reduce((e, s) => (t.hasAttribute(s) && (e[s] = t.getAttribute(s)), e), {});
  }
  static sanitize(t) {
    return Ke.sanitize(t);
  }
  static value(t) {
    return t.getAttribute("src");
  }
  format(t, e) {
    ju.indexOf(t) > -1 ? e ? this.domNode.setAttribute(t, e) : this.domNode.removeAttribute(t) : super.format(t, e);
  }
  html() {
    const {
      video: t
    } = this.value();
    return `<a href="${t}">${t}</a>`;
  }
};
Q(Un, "blotName", "video"), Q(Un, "className", "ql-video"), Q(Un, "tagName", "IFRAME");
var Rs = new he2("code-token", "hljs", {
  scope: rt.INLINE
});
var qe2 = class _qe extends rr2 {
  static formats(t, e) {
    for (; t != null && t !== e.domNode; ) {
      if (t.classList && t.classList.contains(Vt.className))
        return super.formats(t, e);
      t = t.parentNode;
    }
  }
  constructor(t, e, s) {
    super(t, e, s), Rs.add(this.domNode, s);
  }
  format(t, e) {
    t !== _qe.blotName ? super.format(t, e) : e ? Rs.add(this.domNode, e) : (Rs.remove(this.domNode), this.domNode.classList.remove(this.statics.className));
  }
  optimize() {
    super.optimize(...arguments), Rs.value(this.domNode) || this.unwrap();
  }
};
qe2.blotName = "code-token";
qe2.className = "ql-token";
var Qt = class extends Vt {
  static create(t) {
    const e = super.create(t);
    return typeof t == "string" && e.setAttribute("data-language", t), e;
  }
  static formats(t) {
    return t.getAttribute("data-language") || "plain";
  }
  static register() {
  }
  // Syntax module will register
  format(t, e) {
    t === this.statics.blotName && e ? this.domNode.setAttribute("data-language", e) : super.format(t, e);
  }
  replaceWith(t, e) {
    return this.formatAt(0, this.length(), qe2.blotName, false), super.replaceWith(t, e);
  }
};
var qs = class extends Nr {
  attach() {
    super.attach(), this.forceNext = false, this.scroll.emitMount(this);
  }
  format(t, e) {
    t === Qt.blotName && (this.forceNext = true, this.children.forEach((s) => {
      s.format(t, e);
    }));
  }
  formatAt(t, e, s, n) {
    s === Qt.blotName && (this.forceNext = true), super.formatAt(t, e, s, n);
  }
  highlight(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
    if (this.children.head == null) return;
    const s = `${Array.from(this.domNode.childNodes).filter((i) => i !== this.uiNode).map((i) => i.textContent).join(`
`)}
`, n = Qt.formats(this.children.head.domNode);
    if (e || this.forceNext || this.cachedText !== s) {
      if (s.trim().length > 0 || this.cachedText == null) {
        const i = this.children.reduce((a, l) => a.concat(Ld(l, false)), new et()), o2 = t(s, n);
        i.diff(o2).reduce((a, l) => {
          let {
            retain: c,
            attributes: d2
          } = l;
          return c ? (d2 && Object.keys(d2).forEach((g) => {
            [Qt.blotName, qe2.blotName].includes(g) && this.formatAt(a, c, g, d2[g]);
          }), a + c) : a;
        }, 0);
      }
      this.cachedText = s, this.forceNext = false;
    }
  }
  html(t, e) {
    const [s] = this.children.find(t);
    return `<pre data-language="${s ? Qt.formats(s.domNode) : "plain"}">
${ki(this.code(t, e))}
</pre>`;
  }
  optimize(t) {
    if (super.optimize(t), this.parent != null && this.children.head != null && this.uiNode != null) {
      const e = Qt.formats(this.children.head.domNode);
      e !== this.uiNode.value && (this.uiNode.value = e);
    }
  }
};
qs.allowedChildren = [Qt];
Qt.requiredContainer = qs;
Qt.allowedChildren = [qe2, xi, ce2, de2];
var Tk = (r2, t, e) => {
  if (typeof r2.versionString == "string") {
    const s = r2.versionString.split(".")[0];
    if (parseInt(s, 10) >= 11)
      return r2.highlight(e, {
        language: t
      }).value;
  }
  return r2.highlight(t, e).value;
};
var Xd = class extends pe {
  static register() {
    I.register(qe2, true), I.register(Qt, true), I.register(qs, true);
  }
  constructor(t, e) {
    if (super(t, e), this.options.hljs == null)
      throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");
    this.languages = this.options.languages.reduce((s, n) => {
      let {
        key: i
      } = n;
      return s[i] = true, s;
    }, {}), this.highlightBlot = this.highlightBlot.bind(this), this.initListener(), this.initTimer();
  }
  initListener() {
    this.quill.on(I.events.SCROLL_BLOT_MOUNT, (t) => {
      if (!(t instanceof qs)) return;
      const e = this.quill.root.ownerDocument.createElement("select");
      this.options.languages.forEach((s) => {
        let {
          key: n,
          label: i
        } = s;
        const o2 = e.ownerDocument.createElement("option");
        o2.textContent = i, o2.setAttribute("value", n), e.appendChild(o2);
      }), e.addEventListener("change", () => {
        t.format(Qt.blotName, e.value), this.quill.root.focus(), this.highlight(t, true);
      }), t.uiNode == null && (t.attachUI(e), t.children.head && (e.value = Qt.formats(t.children.head.domNode)));
    });
  }
  initTimer() {
    let t = null;
    this.quill.on(I.events.SCROLL_OPTIMIZE, () => {
      t && clearTimeout(t), t = setTimeout(() => {
        this.highlight(), t = null;
      }, this.options.interval);
    });
  }
  highlight() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null, e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
    if (this.quill.selection.composing) return;
    this.quill.update(I.sources.USER);
    const s = this.quill.getSelection();
    (t == null ? this.quill.scroll.descendants(qs) : [t]).forEach((n) => {
      n.highlight(this.highlightBlot, e);
    }), this.quill.update(I.sources.SILENT), s != null && this.quill.setSelection(s, I.sources.SILENT);
  }
  highlightBlot(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "plain";
    if (e = this.languages[e] ? e : "plain", e === "plain")
      return ki(t).split(`
`).reduce((n, i, o2) => (o2 !== 0 && n.insert(`
`, {
        [Vt.blotName]: e
      }), n.insert(i)), new et());
    const s = this.quill.root.ownerDocument.createElement("div");
    return s.classList.add(Vt.className), s.innerHTML = Tk(this.options.hljs, e, t), ol(this.quill.scroll, s, [(n, i) => {
      const o2 = Rs.value(n);
      return o2 ? i.compose(new et().retain(i.length(), {
        [qe2.blotName]: o2
      })) : i;
    }], [(n, i) => n.data.split(`
`).reduce((o2, a, l) => (l !== 0 && o2.insert(`
`, {
      [Vt.blotName]: e
    }), o2.insert(a)), i)], /* @__PURE__ */ new WeakMap());
  }
};
Xd.DEFAULTS = {
  hljs: window.hljs,
  interval: 1e3,
  languages: [{
    key: "plain",
    label: "Plain"
  }, {
    key: "bash",
    label: "Bash"
  }, {
    key: "cpp",
    label: "C++"
  }, {
    key: "cs",
    label: "C#"
  }, {
    key: "css",
    label: "CSS"
  }, {
    key: "diff",
    label: "Diff"
  }, {
    key: "xml",
    label: "HTML/XML"
  }, {
    key: "java",
    label: "Java"
  }, {
    key: "javascript",
    label: "JavaScript"
  }, {
    key: "markdown",
    label: "Markdown"
  }, {
    key: "php",
    label: "PHP"
  }, {
    key: "python",
    label: "Python"
  }, {
    key: "ruby",
    label: "Ruby"
  }, {
    key: "sql",
    label: "SQL"
  }]
};
var Sa = class Yd extends jt {
  static create(t) {
    const e = super.create();
    return t ? e.setAttribute("data-row", t) : e.setAttribute("data-row", al()), e;
  }
  static formats(t) {
    if (t.hasAttribute("data-row"))
      return t.getAttribute("data-row");
  }
  cellOffset() {
    return this.parent ? this.parent.children.indexOf(this) : -1;
  }
  format(t, e) {
    t === Yd.blotName && e ? this.domNode.setAttribute("data-row", e) : super.format(t, e);
  }
  row() {
    return this.parent;
  }
  rowOffset() {
    return this.row() ? this.row().rowOffset() : -1;
  }
  table() {
    return this.row() && this.row().table();
  }
};
Q(Sa, "blotName", "table"), Q(Sa, "tagName", "TD");
var Re2 = Sa;
var je = class extends Ar {
  checkMerge() {
    if (super.checkMerge() && this.next.children.head != null) {
      const t = this.children.head.formats(), e = this.children.tail.formats(), s = this.next.children.head.formats(), n = this.next.children.tail.formats();
      return t.table === e.table && t.table === s.table && t.table === n.table;
    }
    return false;
  }
  optimize(t) {
    super.optimize(t), this.children.forEach((e) => {
      if (e.next == null) return;
      const s = e.formats(), n = e.next.formats();
      if (s.table !== n.table) {
        const i = this.splitAfter(e);
        i && i.optimize(), this.prev && this.prev.optimize();
      }
    });
  }
  rowOffset() {
    return this.parent ? this.parent.children.indexOf(this) : -1;
  }
  table() {
    return this.parent && this.parent.parent;
  }
};
Q(je, "blotName", "table-row"), Q(je, "tagName", "TR");
var xe = class extends Ar {
};
Q(xe, "blotName", "table-body"), Q(xe, "tagName", "TBODY");
var is = class extends Ar {
  balanceCells() {
    const t = this.descendants(je), e = t.reduce((s, n) => Math.max(n.children.length, s), 0);
    t.forEach((s) => {
      new Array(e - s.children.length).fill(0).forEach(() => {
        let n;
        s.children.head != null && (n = Re2.formats(s.children.head.domNode));
        const i = this.scroll.create(Re2.blotName, n);
        s.appendChild(i), i.optimize();
      });
    });
  }
  cells(t) {
    return this.rows().map((e) => e.children.at(t));
  }
  deleteColumn(t) {
    const [e] = this.descendant(xe);
    e == null || e.children.head == null || e.children.forEach((s) => {
      const n = s.children.at(t);
      n != null && n.remove();
    });
  }
  insertColumn(t) {
    const [e] = this.descendant(xe);
    e == null || e.children.head == null || e.children.forEach((s) => {
      const n = s.children.at(t), i = Re2.formats(s.children.head.domNode), o2 = this.scroll.create(Re2.blotName, i);
      s.insertBefore(o2, n);
    });
  }
  insertRow(t) {
    const [e] = this.descendant(xe);
    if (e == null || e.children.head == null) return;
    const s = al(), n = this.scroll.create(je.blotName);
    e.children.head.children.forEach(() => {
      const o2 = this.scroll.create(Re2.blotName, s);
      n.appendChild(o2);
    });
    const i = e.children.at(t);
    e.insertBefore(n, i);
  }
  rows() {
    const t = this.children.head;
    return t == null ? [] : t.children.map((e) => e);
  }
};
Q(is, "blotName", "table-container"), Q(is, "tagName", "TABLE");
is.allowedChildren = [xe];
xe.requiredContainer = is;
xe.allowedChildren = [je];
je.requiredContainer = xe;
je.allowedChildren = [Re2];
Re2.requiredContainer = je;
function al() {
  return `row-${Math.random().toString(36).slice(2, 6)}`;
}
var Rk = class extends pe {
  static register() {
    I.register(Re2), I.register(je), I.register(xe), I.register(is);
  }
  constructor() {
    super(...arguments), this.listenBalanceCells();
  }
  balanceTables() {
    this.quill.scroll.descendants(is).forEach((t) => {
      t.balanceCells();
    });
  }
  deleteColumn() {
    const [t, , e] = this.getTable();
    e != null && (t.deleteColumn(e.cellOffset()), this.quill.update(I.sources.USER));
  }
  deleteRow() {
    const [, t] = this.getTable();
    t != null && (t.remove(), this.quill.update(I.sources.USER));
  }
  deleteTable() {
    const [t] = this.getTable();
    if (t == null) return;
    const e = t.offset();
    t.remove(), this.quill.update(I.sources.USER), this.quill.setSelection(e, I.sources.SILENT);
  }
  getTable() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.quill.getSelection();
    if (t == null) return [null, null, null, -1];
    const [e, s] = this.quill.getLine(t.index);
    if (e == null || e.statics.blotName !== Re2.blotName)
      return [null, null, null, -1];
    const n = e.parent;
    return [n.parent.parent, n, e, s];
  }
  insertColumn(t) {
    const e = this.quill.getSelection();
    if (!e) return;
    const [s, n, i] = this.getTable(e);
    if (i == null) return;
    const o2 = i.cellOffset();
    s.insertColumn(o2 + t), this.quill.update(I.sources.USER);
    let a = n.rowOffset();
    t === 0 && (a += 1), this.quill.setSelection(e.index + a, e.length, I.sources.SILENT);
  }
  insertColumnLeft() {
    this.insertColumn(0);
  }
  insertColumnRight() {
    this.insertColumn(1);
  }
  insertRow(t) {
    const e = this.quill.getSelection();
    if (!e) return;
    const [s, n, i] = this.getTable(e);
    if (i == null) return;
    const o2 = n.rowOffset();
    s.insertRow(o2 + t), this.quill.update(I.sources.USER), t > 0 ? this.quill.setSelection(e, I.sources.SILENT) : this.quill.setSelection(e.index + n.children.length, e.length, I.sources.SILENT);
  }
  insertRowAbove() {
    this.insertRow(0);
  }
  insertRowBelow() {
    this.insertRow(1);
  }
  insertTable(t, e) {
    const s = this.quill.getSelection();
    if (s == null) return;
    const n = new Array(t).fill(0).reduce((i) => {
      const o2 = new Array(e).fill(`
`).join("");
      return i.insert(o2, {
        table: al()
      });
    }, new et().retain(s.index));
    this.quill.updateContents(n, I.sources.USER), this.quill.setSelection(s.index, I.sources.SILENT), this.balanceTables();
  }
  listenBalanceCells() {
    this.quill.on(I.events.SCROLL_OPTIMIZE, (t) => {
      t.some((e) => ["TD", "TR", "TBODY", "TABLE"].includes(e.target.tagName) ? (this.quill.once(I.events.TEXT_CHANGE, (s, n, i) => {
        i === I.sources.USER && this.balanceTables();
      }), true) : false);
    });
  }
};
var Mu = De("quill:toolbar");
var ll = class extends pe {
  constructor(t, e) {
    var s, n;
    if (super(t, e), Array.isArray(this.options.container)) {
      const i = document.createElement("div");
      i.setAttribute("role", "toolbar"), Lk(i, this.options.container), (n = (s = t.container) == null ? void 0 : s.parentNode) == null || n.insertBefore(i, t.container), this.container = i;
    } else typeof this.options.container == "string" ? this.container = document.querySelector(this.options.container) : this.container = this.options.container;
    if (!(this.container instanceof HTMLElement)) {
      Mu.error("Container required for toolbar", this.options);
      return;
    }
    this.container.classList.add("ql-toolbar"), this.controls = [], this.handlers = {}, this.options.handlers && Object.keys(this.options.handlers).forEach((i) => {
      var o2;
      const a = (o2 = this.options.handlers) == null ? void 0 : o2[i];
      a && this.addHandler(i, a);
    }), Array.from(this.container.querySelectorAll("button, select")).forEach((i) => {
      this.attach(i);
    }), this.quill.on(I.events.EDITOR_CHANGE, () => {
      const [i] = this.quill.selection.getRange();
      this.update(i);
    });
  }
  addHandler(t, e) {
    this.handlers[t] = e;
  }
  attach(t) {
    let e = Array.from(t.classList).find((n) => n.indexOf("ql-") === 0);
    if (!e) return;
    if (e = e.slice(3), t.tagName === "BUTTON" && t.setAttribute("type", "button"), this.handlers[e] == null && this.quill.scroll.query(e) == null) {
      Mu.warn("ignoring attaching to nonexistent format", e, t);
      return;
    }
    const s = t.tagName === "SELECT" ? "change" : "click";
    t.addEventListener(s, (n) => {
      let i;
      if (t.tagName === "SELECT") {
        if (t.selectedIndex < 0) return;
        const a = t.options[t.selectedIndex];
        a.hasAttribute("selected") ? i = false : i = a.value || false;
      } else
        t.classList.contains("ql-active") ? i = false : i = t.value || !t.hasAttribute("value"), n.preventDefault();
      this.quill.focus();
      const [o2] = this.quill.selection.getRange();
      if (this.handlers[e] != null)
        this.handlers[e].call(this, i);
      else if (
        // @ts-expect-error
        this.quill.scroll.query(e).prototype instanceof Xt
      ) {
        if (i = prompt(`Enter ${e}`), !i) return;
        this.quill.updateContents(new et().retain(o2.index).delete(o2.length).insert({
          [e]: i
        }), I.sources.USER);
      } else
        this.quill.format(e, i, I.sources.USER);
      this.update(o2);
    }), this.controls.push([e, t]);
  }
  update(t) {
    const e = t == null ? {} : this.quill.getFormat(t);
    this.controls.forEach((s) => {
      const [n, i] = s;
      if (i.tagName === "SELECT") {
        let o2 = null;
        if (t == null)
          o2 = null;
        else if (e[n] == null)
          o2 = i.querySelector("option[selected]");
        else if (!Array.isArray(e[n])) {
          let a = e[n];
          typeof a == "string" && (a = a.replace(/"/g, '\\"')), o2 = i.querySelector(`option[value="${a}"]`);
        }
        o2 == null ? (i.value = "", i.selectedIndex = -1) : o2.selected = true;
      } else if (t == null)
        i.classList.remove("ql-active"), i.setAttribute("aria-pressed", "false");
      else if (i.hasAttribute("value")) {
        const o2 = e[n], a = o2 === i.getAttribute("value") || o2 != null && o2.toString() === i.getAttribute("value") || o2 == null && !i.getAttribute("value");
        i.classList.toggle("ql-active", a), i.setAttribute("aria-pressed", a.toString());
      } else {
        const o2 = e[n] != null;
        i.classList.toggle("ql-active", o2), i.setAttribute("aria-pressed", o2.toString());
      }
    });
  }
};
ll.DEFAULTS = {};
function Bu(r2, t, e) {
  const s = document.createElement("button");
  s.setAttribute("type", "button"), s.classList.add(`ql-${t}`), s.setAttribute("aria-pressed", "false"), e != null ? (s.value = e, s.setAttribute("aria-label", `${t}: ${e}`)) : s.setAttribute("aria-label", t), r2.appendChild(s);
}
function Lk(r2, t) {
  Array.isArray(t[0]) || (t = [t]), t.forEach((e) => {
    const s = document.createElement("span");
    s.classList.add("ql-formats"), e.forEach((n) => {
      if (typeof n == "string")
        Bu(s, n);
      else {
        const i = Object.keys(n)[0], o2 = n[i];
        Array.isArray(o2) ? Ik(s, i, o2) : Bu(s, i, o2);
      }
    }), r2.appendChild(s);
  });
}
function Ik(r2, t, e) {
  const s = document.createElement("select");
  s.classList.add(`ql-${t}`), e.forEach((n) => {
    const i = document.createElement("option");
    n !== false ? i.setAttribute("value", String(n)) : i.setAttribute("selected", "selected"), s.appendChild(i);
  }), r2.appendChild(s);
}
ll.DEFAULTS = {
  container: null,
  handlers: {
    clean() {
      const r2 = this.quill.getSelection();
      if (r2 != null)
        if (r2.length === 0) {
          const t = this.quill.getFormat();
          Object.keys(t).forEach((e) => {
            this.quill.scroll.query(e, rt.INLINE) != null && this.quill.format(e, false, I.sources.USER);
          });
        } else
          this.quill.removeFormat(r2.index, r2.length, I.sources.USER);
    },
    direction(r2) {
      const {
        align: t
      } = this.quill.getFormat();
      r2 === "rtl" && t == null ? this.quill.format("align", "right", I.sources.USER) : !r2 && t === "right" && this.quill.format("align", false, I.sources.USER), this.quill.format("direction", r2, I.sources.USER);
    },
    indent(r2) {
      const t = this.quill.getSelection(), e = this.quill.getFormat(t), s = parseInt(e.indent || 0, 10);
      if (r2 === "+1" || r2 === "-1") {
        let n = r2 === "+1" ? 1 : -1;
        e.direction === "rtl" && (n *= -1), this.quill.format("indent", s + n, I.sources.USER);
      }
    },
    link(r2) {
      r2 === true && (r2 = prompt("Enter link URL:")), this.quill.format("link", r2, I.sources.USER);
    },
    list(r2) {
      const t = this.quill.getSelection(), e = this.quill.getFormat(t);
      r2 === "check" ? e.list === "checked" || e.list === "unchecked" ? this.quill.format("list", false, I.sources.USER) : this.quill.format("list", "unchecked", I.sources.USER) : this.quill.format("list", r2, I.sources.USER);
    }
  }
};
var qk = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>';
var jk = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>';
var Mk = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>';
var Bk = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>';
var Dk = '<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>';
var Fk = '<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>';
var Pk = '<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>';
var Vk = '<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>';
var Du = '<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';
var Uk = '<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>';
var $k = '<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>';
var zk = '<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>';
var Hk = '<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>';
var Kk = '<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>';
var Gk = '<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';
var Wk = '<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';
var Zk = '<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>';
var Xk = '<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>';
var Yk = '<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>';
var Jk = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>';
var Qk = '<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>';
var tx = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>';
var ex = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>';
var rx = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>';
var sx = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>';
var nx = '<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>';
var ix = '<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>';
var ox = '<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>';
var ax = '<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>';
var lx = '<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>';
var ux = '<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>';
var cx = '<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>';
var hx = '<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>';
var Us = {
  align: {
    "": qk,
    center: jk,
    right: Mk,
    justify: Bk
  },
  background: Dk,
  blockquote: Fk,
  bold: Pk,
  clean: Vk,
  code: Du,
  "code-block": Du,
  color: Uk,
  direction: {
    "": $k,
    rtl: zk
  },
  formula: Hk,
  header: {
    1: Kk,
    2: Gk,
    3: Wk,
    4: Zk,
    5: Xk,
    6: Yk
  },
  italic: Jk,
  image: Qk,
  indent: {
    "+1": tx,
    "-1": ex
  },
  link: rx,
  list: {
    bullet: sx,
    check: nx,
    ordered: ix
  },
  script: {
    sub: ox,
    super: ax
  },
  strike: lx,
  table: ux,
  underline: cx,
  video: hx
};
var dx = '<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';
var Fu = 0;
function Pu(r2, t) {
  r2.setAttribute(t, `${r2.getAttribute(t) !== "true"}`);
}
var _i = class {
  constructor(t) {
    this.select = t, this.container = document.createElement("span"), this.buildPicker(), this.select.style.display = "none", this.select.parentNode.insertBefore(this.container, this.select), this.label.addEventListener("mousedown", () => {
      this.togglePicker();
    }), this.label.addEventListener("keydown", (e) => {
      switch (e.key) {
        case "Enter":
          this.togglePicker();
          break;
        case "Escape":
          this.escape(), e.preventDefault();
          break;
      }
    }), this.select.addEventListener("change", this.update.bind(this));
  }
  togglePicker() {
    this.container.classList.toggle("ql-expanded"), Pu(this.label, "aria-expanded"), Pu(this.options, "aria-hidden");
  }
  buildItem(t) {
    const e = document.createElement("span");
    e.tabIndex = "0", e.setAttribute("role", "button"), e.classList.add("ql-picker-item");
    const s = t.getAttribute("value");
    return s && e.setAttribute("data-value", s), t.textContent && e.setAttribute("data-label", t.textContent), e.addEventListener("click", () => {
      this.selectItem(e, true);
    }), e.addEventListener("keydown", (n) => {
      switch (n.key) {
        case "Enter":
          this.selectItem(e, true), n.preventDefault();
          break;
        case "Escape":
          this.escape(), n.preventDefault();
          break;
      }
    }), e;
  }
  buildLabel() {
    const t = document.createElement("span");
    return t.classList.add("ql-picker-label"), t.innerHTML = dx, t.tabIndex = "0", t.setAttribute("role", "button"), t.setAttribute("aria-expanded", "false"), this.container.appendChild(t), t;
  }
  buildOptions() {
    const t = document.createElement("span");
    t.classList.add("ql-picker-options"), t.setAttribute("aria-hidden", "true"), t.tabIndex = "-1", t.id = `ql-picker-options-${Fu}`, Fu += 1, this.label.setAttribute("aria-controls", t.id), this.options = t, Array.from(this.select.options).forEach((e) => {
      const s = this.buildItem(e);
      t.appendChild(s), e.selected === true && this.selectItem(s);
    }), this.container.appendChild(t);
  }
  buildPicker() {
    Array.from(this.select.attributes).forEach((t) => {
      this.container.setAttribute(t.name, t.value);
    }), this.container.classList.add("ql-picker"), this.label = this.buildLabel(), this.buildOptions();
  }
  escape() {
    this.close(), setTimeout(() => this.label.focus(), 1);
  }
  close() {
    this.container.classList.remove("ql-expanded"), this.label.setAttribute("aria-expanded", "false"), this.options.setAttribute("aria-hidden", "true");
  }
  selectItem(t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
    const s = this.container.querySelector(".ql-selected");
    t !== s && (s != null && s.classList.remove("ql-selected"), t != null && (t.classList.add("ql-selected"), this.select.selectedIndex = Array.from(t.parentNode.children).indexOf(t), t.hasAttribute("data-value") ? this.label.setAttribute("data-value", t.getAttribute("data-value")) : this.label.removeAttribute("data-value"), t.hasAttribute("data-label") ? this.label.setAttribute("data-label", t.getAttribute("data-label")) : this.label.removeAttribute("data-label"), e && (this.select.dispatchEvent(new Event("change")), this.close())));
  }
  update() {
    let t;
    if (this.select.selectedIndex > -1) {
      const s = (
        // @ts-expect-error Fix me later
        this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex]
      );
      t = this.select.options[this.select.selectedIndex], this.selectItem(s);
    } else
      this.selectItem(null);
    const e = t != null && t !== this.select.querySelector("option[selected]");
    this.label.classList.toggle("ql-active", e);
  }
};
var Jd = class extends _i {
  constructor(t, e) {
    super(t), this.label.innerHTML = e, this.container.classList.add("ql-color-picker"), Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0, 7).forEach((s) => {
      s.classList.add("ql-primary");
    });
  }
  buildItem(t) {
    const e = super.buildItem(t);
    return e.style.backgroundColor = t.getAttribute("value") || "", e;
  }
  selectItem(t, e) {
    super.selectItem(t, e);
    const s = this.label.querySelector(".ql-color-label"), n = t && t.getAttribute("data-value") || "";
    s && (s.tagName === "line" ? s.style.stroke = n : s.style.fill = n);
  }
};
var Qd = class extends _i {
  constructor(t, e) {
    super(t), this.container.classList.add("ql-icon-picker"), Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((s) => {
      s.innerHTML = e[s.getAttribute("data-value") || ""];
    }), this.defaultItem = this.container.querySelector(".ql-selected"), this.selectItem(this.defaultItem);
  }
  selectItem(t, e) {
    super.selectItem(t, e);
    const s = t || this.defaultItem;
    if (s != null) {
      if (this.label.innerHTML === s.innerHTML) return;
      this.label.innerHTML = s.innerHTML;
    }
  }
};
var px = (r2) => {
  const {
    overflowY: t
  } = getComputedStyle(r2, null);
  return t !== "visible" && t !== "clip";
};
var tp = class {
  constructor(t, e) {
    this.quill = t, this.boundsContainer = e || document.body, this.root = t.addContainer("ql-tooltip"), this.root.innerHTML = this.constructor.TEMPLATE, px(this.quill.root) && this.quill.root.addEventListener("scroll", () => {
      this.root.style.marginTop = `${-1 * this.quill.root.scrollTop}px`;
    }), this.hide();
  }
  hide() {
    this.root.classList.add("ql-hidden");
  }
  position(t) {
    const e = t.left + t.width / 2 - this.root.offsetWidth / 2, s = t.bottom + this.quill.root.scrollTop;
    this.root.style.left = `${e}px`, this.root.style.top = `${s}px`, this.root.classList.remove("ql-flip");
    const n = this.boundsContainer.getBoundingClientRect(), i = this.root.getBoundingClientRect();
    let o2 = 0;
    if (i.right > n.right && (o2 = n.right - i.right, this.root.style.left = `${e + o2}px`), i.left < n.left && (o2 = n.left - i.left, this.root.style.left = `${e + o2}px`), i.bottom > n.bottom) {
      const a = i.bottom - i.top, l = t.bottom - t.top + a;
      this.root.style.top = `${s - l}px`, this.root.classList.add("ql-flip");
    }
    return o2;
  }
  show() {
    this.root.classList.remove("ql-editing"), this.root.classList.remove("ql-hidden");
  }
};
var fx = [false, "center", "right", "justify"];
var mx = ["#000000", "#e60000", "#ff9900", "#ffff00", "#008a00", "#0066cc", "#9933ff", "#ffffff", "#facccc", "#ffebcc", "#ffffcc", "#cce8cc", "#cce0f5", "#ebd6ff", "#bbbbbb", "#f06666", "#ffc266", "#ffff66", "#66b966", "#66a3e0", "#c285ff", "#888888", "#a10000", "#b26b00", "#b2b200", "#006100", "#0047b2", "#6b24b2", "#444444", "#5c0000", "#663d00", "#666600", "#003700", "#002966", "#3d1466"];
var gx = [false, "serif", "monospace"];
var vx = ["1", "2", "3", false];
var bx = ["small", false, "large", "huge"];
var Xs = class extends wi {
  constructor(t, e) {
    super(t, e);
    const s = (n) => {
      if (!document.body.contains(t.root)) {
        document.body.removeEventListener("click", s);
        return;
      }
      this.tooltip != null && // @ts-expect-error
      !this.tooltip.root.contains(n.target) && // @ts-expect-error
      document.activeElement !== this.tooltip.textbox && !this.quill.hasFocus() && this.tooltip.hide(), this.pickers != null && this.pickers.forEach((i) => {
        i.container.contains(n.target) || i.close();
      });
    };
    t.emitter.listenDOM("click", document.body, s);
  }
  addModule(t) {
    const e = super.addModule(t);
    return t === "toolbar" && this.extendToolbar(e), e;
  }
  buildButtons(t, e) {
    Array.from(t).forEach((s) => {
      (s.getAttribute("class") || "").split(/\s+/).forEach((n) => {
        if (n.startsWith("ql-") && (n = n.slice(3), e[n] != null))
          if (n === "direction")
            s.innerHTML = e[n][""] + e[n].rtl;
          else if (typeof e[n] == "string")
            s.innerHTML = e[n];
          else {
            const i = s.value || "";
            i != null && e[n][i] && (s.innerHTML = e[n][i]);
          }
      });
    });
  }
  buildPickers(t, e) {
    this.pickers = Array.from(t).map((n) => {
      if (n.classList.contains("ql-align") && (n.querySelector("option") == null && Ns(n, fx), typeof e.align == "object"))
        return new Qd(n, e.align);
      if (n.classList.contains("ql-background") || n.classList.contains("ql-color")) {
        const i = n.classList.contains("ql-background") ? "background" : "color";
        return n.querySelector("option") == null && Ns(n, mx, i === "background" ? "#ffffff" : "#000000"), new Jd(n, e[i]);
      }
      return n.querySelector("option") == null && (n.classList.contains("ql-font") ? Ns(n, gx) : n.classList.contains("ql-header") ? Ns(n, vx) : n.classList.contains("ql-size") && Ns(n, bx)), new _i(n);
    });
    const s = () => {
      this.pickers.forEach((n) => {
        n.update();
      });
    };
    this.quill.on(tt.events.EDITOR_CHANGE, s);
  }
};
Xs.DEFAULTS = We({}, wi.DEFAULTS, {
  modules: {
    toolbar: {
      handlers: {
        formula() {
          this.quill.theme.tooltip.edit("formula");
        },
        image() {
          let r2 = this.container.querySelector("input.ql-image[type=file]");
          r2 == null && (r2 = document.createElement("input"), r2.setAttribute("type", "file"), r2.setAttribute("accept", this.quill.uploader.options.mimetypes.join(", ")), r2.classList.add("ql-image"), r2.addEventListener("change", () => {
            const t = this.quill.getSelection(true);
            this.quill.uploader.upload(t, r2.files), r2.value = "";
          }), this.container.appendChild(r2)), r2.click();
        },
        video() {
          this.quill.theme.tooltip.edit("video");
        }
      }
    }
  }
});
var ep = class extends tp {
  constructor(t, e) {
    super(t, e), this.textbox = this.root.querySelector('input[type="text"]'), this.listen();
  }
  listen() {
    this.textbox.addEventListener("keydown", (t) => {
      t.key === "Enter" ? (this.save(), t.preventDefault()) : t.key === "Escape" && (this.cancel(), t.preventDefault());
    });
  }
  cancel() {
    this.hide(), this.restoreFocus();
  }
  edit() {
    let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "link", e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
    if (this.root.classList.remove("ql-hidden"), this.root.classList.add("ql-editing"), this.textbox == null) return;
    e != null ? this.textbox.value = e : t !== this.root.getAttribute("data-mode") && (this.textbox.value = "");
    const s = this.quill.getBounds(this.quill.selection.savedRange);
    s != null && this.position(s), this.textbox.select(), this.textbox.setAttribute("placeholder", this.textbox.getAttribute(`data-${t}`) || ""), this.root.setAttribute("data-mode", t);
  }
  restoreFocus() {
    this.quill.focus({
      preventScroll: true
    });
  }
  save() {
    let {
      value: t
    } = this.textbox;
    switch (this.root.getAttribute("data-mode")) {
      case "link": {
        const {
          scrollTop: e
        } = this.quill.root;
        this.linkRange ? (this.quill.formatText(this.linkRange, "link", t, tt.sources.USER), delete this.linkRange) : (this.restoreFocus(), this.quill.format("link", t, tt.sources.USER)), this.quill.root.scrollTop = e;
        break;
      }
      case "video":
        t = yx(t);
      // eslint-disable-next-line no-fallthrough
      case "formula": {
        if (!t) break;
        const e = this.quill.getSelection(true);
        if (e != null) {
          const s = e.index + e.length;
          this.quill.insertEmbed(
            s,
            // @ts-expect-error Fix me later
            this.root.getAttribute("data-mode"),
            t,
            tt.sources.USER
          ), this.root.getAttribute("data-mode") === "formula" && this.quill.insertText(s + 1, " ", tt.sources.USER), this.quill.setSelection(s + 2, tt.sources.USER);
        }
        break;
      }
    }
    this.textbox.value = "", this.hide();
  }
};
function yx(r2) {
  let t = r2.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/) || r2.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);
  return t ? `${t[1] || "https"}://www.youtube.com/embed/${t[2]}?showinfo=0` : (t = r2.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/)) ? `${t[1] || "https"}://player.vimeo.com/video/${t[2]}/` : r2;
}
function Ns(r2, t) {
  let e = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
  t.forEach((s) => {
    const n = document.createElement("option");
    s === e ? n.setAttribute("selected", "selected") : n.setAttribute("value", String(s)), r2.appendChild(n);
  });
}
var kx = [["bold", "italic", "link"], [{
  header: 1
}, {
  header: 2
}, "blockquote"]];
var rp = class extends ep {
  constructor(t, e) {
    super(t, e), this.quill.on(tt.events.EDITOR_CHANGE, (s, n, i, o2) => {
      if (s === tt.events.SELECTION_CHANGE)
        if (n != null && n.length > 0 && o2 === tt.sources.USER) {
          this.show(), this.root.style.left = "0px", this.root.style.width = "", this.root.style.width = `${this.root.offsetWidth}px`;
          const a = this.quill.getLines(n.index, n.length);
          if (a.length === 1) {
            const l = this.quill.getBounds(n);
            l != null && this.position(l);
          } else {
            const l = a[a.length - 1], c = this.quill.getIndex(l), d2 = Math.min(l.length() - 1, n.index + n.length - c), g = this.quill.getBounds(new xr(c, d2));
            g != null && this.position(g);
          }
        } else document.activeElement !== this.textbox && this.quill.hasFocus() && this.hide();
    });
  }
  listen() {
    super.listen(), this.root.querySelector(".ql-close").addEventListener("click", () => {
      this.root.classList.remove("ql-editing");
    }), this.quill.on(tt.events.SCROLL_OPTIMIZE, () => {
      setTimeout(() => {
        if (this.root.classList.contains("ql-hidden")) return;
        const t = this.quill.getSelection();
        if (t != null) {
          const e = this.quill.getBounds(t);
          e != null && this.position(e);
        }
      }, 1);
    });
  }
  cancel() {
    this.show();
  }
  position(t) {
    const e = super.position(t), s = this.root.querySelector(".ql-tooltip-arrow");
    return s.style.marginLeft = "", e !== 0 && (s.style.marginLeft = `${-1 * e - s.offsetWidth / 2}px`), e;
  }
};
Q(rp, "TEMPLATE", ['<span class="ql-tooltip-arrow"></span>', '<div class="ql-tooltip-editor">', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-close"></a>', "</div>"].join(""));
var sp = class extends Xs {
  constructor(t, e) {
    e.modules.toolbar != null && e.modules.toolbar.container == null && (e.modules.toolbar.container = kx), super(t, e), this.quill.container.classList.add("ql-bubble");
  }
  extendToolbar(t) {
    this.tooltip = new rp(this.quill, this.options.bounds), t.container != null && (this.tooltip.root.appendChild(t.container), this.buildButtons(t.container.querySelectorAll("button"), Us), this.buildPickers(t.container.querySelectorAll("select"), Us));
  }
};
sp.DEFAULTS = We({}, Xs.DEFAULTS, {
  modules: {
    toolbar: {
      handlers: {
        link(r2) {
          r2 ? this.quill.theme.tooltip.edit() : this.quill.format("link", false, I.sources.USER);
        }
      }
    }
  }
});
var xx = [[{
  header: ["1", "2", "3", false]
}], ["bold", "italic", "underline", "link"], [{
  list: "ordered"
}, {
  list: "bullet"
}], ["clean"]];
var np = class extends ep {
  constructor() {
    super(...arguments), Q(this, "preview", this.root.querySelector("a.ql-preview"));
  }
  listen() {
    super.listen(), this.root.querySelector("a.ql-action").addEventListener("click", (t) => {
      this.root.classList.contains("ql-editing") ? this.save() : this.edit("link", this.preview.textContent), t.preventDefault();
    }), this.root.querySelector("a.ql-remove").addEventListener("click", (t) => {
      if (this.linkRange != null) {
        const e = this.linkRange;
        this.restoreFocus(), this.quill.formatText(e, "link", false, tt.sources.USER), delete this.linkRange;
      }
      t.preventDefault(), this.hide();
    }), this.quill.on(tt.events.SELECTION_CHANGE, (t, e, s) => {
      if (t != null) {
        if (t.length === 0 && s === tt.sources.USER) {
          const [n, i] = this.quill.scroll.descendant(Ke, t.index);
          if (n != null) {
            this.linkRange = new xr(t.index - i, n.length());
            const o2 = Ke.formats(n.domNode);
            this.preview.textContent = o2, this.preview.setAttribute("href", o2), this.show();
            const a = this.quill.getBounds(this.linkRange);
            a != null && this.position(a);
            return;
          }
        } else
          delete this.linkRange;
        this.hide();
      }
    });
  }
  show() {
    super.show(), this.root.removeAttribute("data-mode");
  }
};
Q(np, "TEMPLATE", ['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-action"></a>', '<a class="ql-remove"></a>'].join(""));
var ip = class extends Xs {
  constructor(t, e) {
    e.modules.toolbar != null && e.modules.toolbar.container == null && (e.modules.toolbar.container = xx), super(t, e), this.quill.container.classList.add("ql-snow");
  }
  extendToolbar(t) {
    t.container != null && (t.container.classList.add("ql-snow"), this.buildButtons(t.container.querySelectorAll("button"), Us), this.buildPickers(t.container.querySelectorAll("select"), Us), this.tooltip = new np(this.quill, this.options.bounds), t.container.querySelector(".ql-link") && this.quill.keyboard.addBinding({
      key: "k",
      shortKey: true
    }, (e, s) => {
      t.handlers.link.call(t, !s.format.link);
    }));
  }
};
ip.DEFAULTS = We({}, Xs.DEFAULTS, {
  modules: {
    toolbar: {
      handlers: {
        link(r2) {
          if (r2) {
            const t = this.quill.getSelection();
            if (t == null || t.length === 0) return;
            let e = this.quill.getText(t);
            /^\S+@\S+\.\S+$/.test(e) && e.indexOf("mailto:") !== 0 && (e = `mailto:${e}`);
            const {
              tooltip: s
            } = this.quill.theme;
            s.edit("link", e);
          } else
            this.quill.format("link", false, I.sources.USER);
        }
      }
    }
  }
});
I.register({
  "attributors/attribute/direction": Bd,
  "attributors/class/align": qd,
  "attributors/class/background": Fy,
  "attributors/class/color": Dy,
  "attributors/class/direction": Dd,
  "attributors/class/font": Vd,
  "attributors/class/size": $d,
  "attributors/style/align": jd,
  "attributors/style/background": rl,
  "attributors/style/color": el,
  "attributors/style/direction": Fd,
  "attributors/style/font": Ud,
  "attributors/style/size": zd
}, true);
I.register({
  "formats/align": qd,
  "formats/direction": Dd,
  "formats/indent": Ok,
  "formats/background": rl,
  "formats/color": el,
  "formats/font": Vd,
  "formats/size": $d,
  "formats/blockquote": ka,
  "formats/code-block": Vt,
  "formats/header": xa,
  "formats/list": Zs,
  "formats/bold": Vs,
  "formats/code": sl,
  "formats/italic": wa,
  "formats/link": Ke,
  "formats/script": Ea,
  "formats/strike": _a,
  "formats/underline": Aa,
  "formats/formula": Vn,
  "formats/image": Na,
  "formats/video": Un,
  "modules/syntax": Xd,
  "modules/table": Rk,
  "modules/toolbar": ll,
  "themes/bubble": sp,
  "themes/snow": ip,
  "ui/icons": Us,
  "ui/picker": _i,
  "ui/icon-picker": Qd,
  "ui/color-picker": Jd,
  "ui/tooltip": tp
}, true);
var Ai = class extends import_react.default.Component {
  constructor(t) {
    super(t), this.editingAreaRef = (0, import_react.createRef)(), this.containerRef = (0, import_react.createRef)(), this.dirtyProps = [
      "modules",
      "formats",
      "bounds",
      "theme",
      "children"
    ], this.cleanProps = [
      "id",
      "className",
      "style",
      "placeholder",
      "tabIndex",
      "onChange",
      "onChangeSelection",
      "onFocus",
      "onBlur",
      "onKeyPress",
      "onKeyDown",
      "onKeyUp"
    ], this.state = {
      generation: 0
    }, this.selection = null, this.onEditorChange = (s, n, i, o2) => {
      var a, l;
      s === "text-change" ? (a = this.onEditorChangeText) == null || a.call(this, this.editor.root.innerHTML, n, o2, this.unprivilegedEditor) : s === "selection-change" && ((l = this.onEditorChangeSelection) == null || l.call(this, n, o2, this.unprivilegedEditor));
    };
    const e = this.isControlled() ? t.value : t.defaultValue;
    this.value = e ?? "";
  }
  validateProps(t) {
    if (import_react.default.Children.count(t.children) > 1)
      throw new Error("The Quill editing area can only be composed of a single React element.");
    if (import_react.default.Children.count(t.children)) {
      const e = import_react.default.Children.only(t.children);
      if ((e == null ? void 0 : e.type) === "textarea")
        throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");
    }
    if (this.lastDeltaChangeSet && t.value === this.lastDeltaChangeSet)
      throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas");
  }
  shouldComponentUpdate(t, e) {
    if (this.validateProps(t), !this.editor || this.state.generation !== e.generation)
      return true;
    if ("value" in t) {
      const s = this.getEditorContents(), n = t.value ?? "";
      this.isEqualValue(n, s) || this.setEditorContents(this.editor, n);
    }
    return t.readOnly !== this.props.readOnly && this.setEditorReadOnly(this.editor, t.readOnly), [...this.cleanProps, ...this.dirtyProps].some((s) => !$e(t[s], this.props[s]));
  }
  shouldComponentRegenerate(t) {
    return this.dirtyProps.some((e) => !$e(t[e], this.props[e]));
  }
  componentDidMount() {
    this.instantiateEditor(), this.setEditorContents(this.editor, this.getEditorContents());
  }
  componentWillUnmount() {
    this.destroyEditor();
  }
  componentDidUpdate(t, e) {
    if (this.editor && this.shouldComponentRegenerate(t)) {
      const s = this.editor.getContents(), n = this.editor.getSelection();
      this.regenerationSnapshot = { delta: s, selection: n }, this.setState({ generation: this.state.generation + 1 }), this.destroyEditor();
    }
    if (this.state.generation !== e.generation) {
      const { delta: s, selection: n } = this.regenerationSnapshot;
      delete this.regenerationSnapshot, this.instantiateEditor();
      const i = this.editor;
      i.setContents(s), Vu(() => this.setEditorSelection(i, n));
    }
  }
  instantiateEditor() {
    this.editor ? this.hookEditor(this.editor) : this.editor = this.createEditor(this.getEditingArea(), this.getEditorConfig());
  }
  destroyEditor() {
    var t, e;
    if (!this.editor)
      return;
    this.unhookEditor(this.editor);
    const s = (t = this.props.modules) == null ? void 0 : t.toolbar;
    if (!(typeof s == "object" && s && "container" in s && typeof s.container == "string" || typeof s == "string")) {
      const n = (e = this.containerRef.current) == null ? void 0 : e.querySelector(".ql-toolbar");
      n && n.remove();
    }
    delete this.editor;
  }
  /*
  We consider the component to be controlled if `value` is being sent in props.
  */
  isControlled() {
    return "value" in this.props;
  }
  getEditorConfig() {
    return {
      bounds: this.props.bounds,
      formats: this.props.formats,
      modules: this.props.modules,
      placeholder: this.props.placeholder,
      readOnly: this.props.readOnly,
      tabIndex: this.props.tabIndex,
      theme: this.props.theme
    };
  }
  getEditor() {
    if (!this.editor)
      throw new Error("Accessing non-instantiated editor");
    return this.editor;
  }
  /**
  Creates an editor on the given element. The editor will be passed the
  configuration, have its events bound,
  */
  createEditor(t, e) {
    const s = new I(t, e);
    return e.tabIndex != null && this.setEditorTabIndex(s, e.tabIndex), this.hookEditor(s), s;
  }
  hookEditor(t) {
    this.unprivilegedEditor = this.makeUnprivilegedEditor(t), t.on("editor-change", this.onEditorChange);
  }
  unhookEditor(t) {
    t.off("editor-change", this.onEditorChange);
  }
  getEditorContents() {
    return this.value;
  }
  getEditorSelection() {
    return this.selection;
  }
  /*
  True if the value is a Delta instance or a Delta look-alike.
  */
  isDelta(t) {
    return t && t.ops;
  }
  /*
  Special comparison function that knows how to compare Deltas.
  */
  isEqualValue(t, e) {
    return this.isDelta(t) && this.isDelta(e) ? $e(t.ops, e.ops) : $e(t, e);
  }
  /*
  Replace the contents of the editor, but keep the previous selection hanging
  around so that the cursor won't move.
  */
  setEditorContents(t, e) {
    this.value = e;
    const s = this.getEditorSelection();
    typeof e == "string" ? t.setContents(t.clipboard.convert({ html: e })) : t.setContents(e), Vu(() => this.setEditorSelection(t, s));
  }
  setEditorSelection(t, e) {
    if (this.selection = e, e) {
      const s = t.getLength();
      e.index = Math.max(0, Math.min(e.index, s - 1)), e.length = Math.max(0, Math.min(e.length, s - 1 - e.index)), t.setSelection(e);
    }
  }
  setEditorTabIndex(t, e) {
    var s;
    (s = t == null ? void 0 : t.scroll) != null && s.domNode && (t.scroll.domNode.tabIndex = e);
  }
  setEditorReadOnly(t, e) {
    e ? t.disable() : t.enable();
  }
  /*
  Returns a weaker, unprivileged proxy object that only exposes read-only
  accessors found on the editor instance, without any state-modifying methods.
  */
  makeUnprivilegedEditor(t) {
    const e = t;
    return {
      getHTML: () => e.root.innerHTML,
      getSemanticHTML: e.getSemanticHTML.bind(e),
      getLength: e.getLength.bind(e),
      getText: e.getText.bind(e),
      getContents: e.getContents.bind(e),
      getSelection: e.getSelection.bind(e),
      getBounds: e.getBounds.bind(e)
    };
  }
  getEditingArea() {
    const t = this.editingAreaRef.current;
    if (!t)
      throw new Error("Cannot find element for editing area");
    if (t.nodeType === 3)
      throw new Error("Editing area cannot be a text node");
    return t;
  }
  /*
  Renders an editor area, unless it has been provided one to clone.
  */
  renderEditingArea() {
    const { children: t, preserveWhitespace: e } = this.props, { generation: s } = this.state, n = {
      key: s,
      ref: this.editingAreaRef
    };
    return import_react.default.Children.count(t) ? import_react.default.cloneElement(import_react.default.Children.only(t), n) : e ? import_react.default.createElement("pre", { ...n }) : import_react.default.createElement("div", { ...n });
  }
  render() {
    return import_react.default.createElement("div", { ref: this.containerRef, id: this.props.id, style: this.props.style, key: this.state.generation, className: `quill ${this.props.className ?? ""}`, onKeyPress: this.props.onKeyPress, onKeyDown: this.props.onKeyDown, onKeyUp: this.props.onKeyUp }, this.renderEditingArea());
  }
  onEditorChangeText(t, e, s, n) {
    var i, o2;
    if (!this.editor)
      return;
    const a = this.isDelta(this.value) ? n.getContents() : n.getHTML();
    a !== this.getEditorContents() && (this.lastDeltaChangeSet = e, this.value = a, (o2 = (i = this.props).onChange) == null || o2.call(i, t, e, s, n));
  }
  onEditorChangeSelection(t, e, s) {
    var n, i, o2, a, l, c;
    if (!this.editor)
      return;
    const d2 = this.getEditorSelection(), g = !d2 && t, h = d2 && !t;
    $e(t, d2) || (this.selection = t, (i = (n = this.props).onChangeSelection) == null || i.call(n, t, e, s), g ? (a = (o2 = this.props).onFocus) == null || a.call(o2, t, e, s) : h && ((c = (l = this.props).onBlur) == null || c.call(l, d2, e, s)));
  }
  focus() {
    this.editor && this.editor.focus();
  }
  blur() {
    this.editor && (this.selection = null, this.editor.blur());
  }
};
Ai.displayName = "React Quill";
Ai.Quill = I;
Ai.defaultProps = {
  theme: "snow",
  modules: {},
  readOnly: false
};
function Vu(r2) {
  Promise.resolve().then(r2);
}
var wx = w(
  "w-full rounded-lg border border-border-alpha-strong dark:bg-transparent file:border-0 placeholder:text-secondary placeholder:text-body-sm-regular focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-bg focus-within:ring-offset-2 focus-within:ring-ring disabled:cursor-not-allowed disabled:opacity-50",
  {
    variants: {
      variant: {
        default: "focus-within:ring-item-primary",
        failure: "focus-within:ring-item-destructive bg-item-destructive-focus placeholder:text-item-destructive border-item-destructive text-destructive",
        success: "focus-within:ring-success bg-success/20 placeholder:text-success/80 border-success text-success"
      }
    },
    defaultVariants: {
      variant: "default"
    }
  }
);
var Ex = Va.div`
  .quill {
    .ql {
      &-toolbar {
        border: none;
      }

      &-editor,
      &-container {
        min-height: 120px;
        border: none;
      }
    }
`;
function _x({
  containerProps: r2,
  className: t,
  variant: e,
  ...s
}) {
  return S.jsx(
    Ex,
    {
      ...r2,
      className: mo(wx({ variant: e }), "block h-auto p-0", t),
      children: S.jsx(Ai, { theme: "snow", ...s })
    }
  );
}
_x.displayName = "HtmlEditor";
function Ze2(r2) {
  return typeof r2 == "string" || r2 instanceof String;
}
function Uu(r2) {
  var t;
  return typeof r2 == "object" && r2 != null && (r2 == null || (t = r2.constructor) == null ? void 0 : t.name) === "Object";
}
function op(r2, t) {
  return Array.isArray(t) ? op(r2, (e, s) => t.includes(s)) : Object.entries(r2).reduce((e, s) => {
    let [n, i] = s;
    return t(i, n) && (e[n] = i), e;
  }, {});
}
var nt = {
  NONE: "NONE",
  LEFT: "LEFT",
  FORCE_LEFT: "FORCE_LEFT",
  RIGHT: "RIGHT",
  FORCE_RIGHT: "FORCE_RIGHT"
};
function Ax(r2) {
  switch (r2) {
    case nt.LEFT:
      return nt.FORCE_LEFT;
    case nt.RIGHT:
      return nt.FORCE_RIGHT;
    default:
      return r2;
  }
}
function Bo(r2) {
  return r2.replace(/([.*+?^=!:${}()|[\]/\\])/g, "\\$1");
}
function Jn(r2, t) {
  if (t === r2) return true;
  const e = Array.isArray(t), s = Array.isArray(r2);
  let n;
  if (e && s) {
    if (t.length != r2.length) return false;
    for (n = 0; n < t.length; n++) if (!Jn(t[n], r2[n])) return false;
    return true;
  }
  if (e != s) return false;
  if (t && r2 && typeof t == "object" && typeof r2 == "object") {
    const i = t instanceof Date, o2 = r2 instanceof Date;
    if (i && o2) return t.getTime() == r2.getTime();
    if (i != o2) return false;
    const a = t instanceof RegExp, l = r2 instanceof RegExp;
    if (a && l) return t.toString() == r2.toString();
    if (a != l) return false;
    const c = Object.keys(t);
    for (n = 0; n < c.length; n++) if (!Object.prototype.hasOwnProperty.call(r2, c[n])) return false;
    for (n = 0; n < c.length; n++) if (!Jn(r2[c[n]], t[c[n]])) return false;
    return true;
  } else if (t && r2 && typeof t == "function" && typeof r2 == "function")
    return t.toString() === r2.toString();
  return false;
}
var Nx = class {
  /** Current input value */
  /** Current cursor position */
  /** Old input value */
  /** Old selection */
  constructor(t) {
    for (Object.assign(this, t); this.value.slice(0, this.startChangePos) !== this.oldValue.slice(0, this.startChangePos); )
      --this.oldSelection.start;
    if (this.insertedCount)
      for (; this.value.slice(this.cursorPos) !== this.oldValue.slice(this.oldSelection.end); )
        this.value.length - this.cursorPos < this.oldValue.length - this.oldSelection.end ? ++this.oldSelection.end : ++this.cursorPos;
  }
  /** Start changing position */
  get startChangePos() {
    return Math.min(this.cursorPos, this.oldSelection.start);
  }
  /** Inserted symbols count */
  get insertedCount() {
    return this.cursorPos - this.startChangePos;
  }
  /** Inserted symbols */
  get inserted() {
    return this.value.substr(this.startChangePos, this.insertedCount);
  }
  /** Removed symbols count */
  get removedCount() {
    return Math.max(this.oldSelection.end - this.startChangePos || // for Delete
    this.oldValue.length - this.value.length, 0);
  }
  /** Removed symbols */
  get removed() {
    return this.oldValue.substr(this.startChangePos, this.removedCount);
  }
  /** Unchanged head symbols */
  get head() {
    return this.value.substring(0, this.startChangePos);
  }
  /** Unchanged tail symbols */
  get tail() {
    return this.value.substring(this.startChangePos + this.insertedCount);
  }
  /** Remove direction */
  get removeDirection() {
    return !this.removedCount || this.insertedCount ? nt.NONE : (this.oldSelection.end === this.cursorPos || this.oldSelection.start === this.cursorPos) && // if not range removed (event with backspace)
    this.oldSelection.end === this.oldSelection.start ? nt.RIGHT : nt.LEFT;
  }
};
function ot(r2, t) {
  return new ot.InputMask(r2, t);
}
function ap(r2) {
  if (r2 == null) throw new Error("mask property should be defined");
  return r2 instanceof RegExp ? ot.MaskedRegExp : Ze2(r2) ? ot.MaskedPattern : r2 === Date ? ot.MaskedDate : r2 === Number ? ot.MaskedNumber : Array.isArray(r2) || r2 === Array ? ot.MaskedDynamic : ot.Masked && r2.prototype instanceof ot.Masked ? r2 : ot.Masked && r2 instanceof ot.Masked ? r2.constructor : r2 instanceof Function ? ot.MaskedFunction : (console.warn("Mask not found for mask", r2), ot.Masked);
}
function $s(r2) {
  if (!r2) throw new Error("Options in not defined");
  if (ot.Masked) {
    if (r2.prototype instanceof ot.Masked) return {
      mask: r2
    };
    const {
      mask: t = void 0,
      ...e
    } = r2 instanceof ot.Masked ? {
      mask: r2
    } : Uu(r2) && r2.mask instanceof ot.Masked ? r2 : {};
    if (t) {
      const s = t.mask;
      return {
        ...op(t, (n, i) => !i.startsWith("_")),
        mask: t.constructor,
        _mask: s,
        ...e
      };
    }
  }
  return Uu(r2) ? {
    ...r2
  } : {
    mask: r2
  };
}
function Me(r2) {
  if (ot.Masked && r2 instanceof ot.Masked) return r2;
  const t = $s(r2), e = ap(t.mask);
  if (!e) throw new Error("Masked class is not found for provided mask " + t.mask + ", appropriate module needs to be imported manually before creating mask.");
  return t.mask === e && delete t.mask, t._mask && (t.mask = t._mask, delete t._mask), new e(t);
}
ot.createMask = Me;
var ul = class {
  /** */
  /** */
  /** */
  /** Safely returns selection start */
  get selectionStart() {
    let t;
    try {
      t = this._unsafeSelectionStart;
    } catch {
    }
    return t ?? this.value.length;
  }
  /** Safely returns selection end */
  get selectionEnd() {
    let t;
    try {
      t = this._unsafeSelectionEnd;
    } catch {
    }
    return t ?? this.value.length;
  }
  /** Safely sets element selection */
  select(t, e) {
    if (!(t == null || e == null || t === this.selectionStart && e === this.selectionEnd))
      try {
        this._unsafeSelect(t, e);
      } catch {
      }
  }
  /** */
  get isActive() {
    return false;
  }
  /** */
  /** */
  /** */
};
ot.MaskElement = ul;
var $u = 90;
var Sx = 89;
var Ni = class extends ul {
  /** HTMLElement to use mask on */
  constructor(t) {
    super(), this.input = t, this._onKeydown = this._onKeydown.bind(this), this._onInput = this._onInput.bind(this), this._onBeforeinput = this._onBeforeinput.bind(this), this._onCompositionEnd = this._onCompositionEnd.bind(this);
  }
  get rootElement() {
    var t, e, s;
    return (t = (e = (s = this.input).getRootNode) == null ? void 0 : e.call(s)) != null ? t : document;
  }
  /** Is element in focus */
  get isActive() {
    return this.input === this.rootElement.activeElement;
  }
  /** Binds HTMLElement events to mask internal events */
  bindEvents(t) {
    this.input.addEventListener("keydown", this._onKeydown), this.input.addEventListener("input", this._onInput), this.input.addEventListener("beforeinput", this._onBeforeinput), this.input.addEventListener("compositionend", this._onCompositionEnd), this.input.addEventListener("drop", t.drop), this.input.addEventListener("click", t.click), this.input.addEventListener("focus", t.focus), this.input.addEventListener("blur", t.commit), this._handlers = t;
  }
  _onKeydown(t) {
    if (this._handlers.redo && (t.keyCode === $u && t.shiftKey && (t.metaKey || t.ctrlKey) || t.keyCode === Sx && t.ctrlKey))
      return t.preventDefault(), this._handlers.redo(t);
    if (this._handlers.undo && t.keyCode === $u && (t.metaKey || t.ctrlKey))
      return t.preventDefault(), this._handlers.undo(t);
    t.isComposing || this._handlers.selectionChange(t);
  }
  _onBeforeinput(t) {
    if (t.inputType === "historyUndo" && this._handlers.undo)
      return t.preventDefault(), this._handlers.undo(t);
    if (t.inputType === "historyRedo" && this._handlers.redo)
      return t.preventDefault(), this._handlers.redo(t);
  }
  _onCompositionEnd(t) {
    this._handlers.input(t);
  }
  _onInput(t) {
    t.isComposing || this._handlers.input(t);
  }
  /** Unbinds HTMLElement events to mask internal events */
  unbindEvents() {
    this.input.removeEventListener("keydown", this._onKeydown), this.input.removeEventListener("input", this._onInput), this.input.removeEventListener("beforeinput", this._onBeforeinput), this.input.removeEventListener("compositionend", this._onCompositionEnd), this.input.removeEventListener("drop", this._handlers.drop), this.input.removeEventListener("click", this._handlers.click), this.input.removeEventListener("focus", this._handlers.focus), this.input.removeEventListener("blur", this._handlers.commit), this._handlers = {};
  }
};
ot.HTMLMaskElement = Ni;
var Cx = class extends Ni {
  /** InputElement to use mask on */
  constructor(t) {
    super(t), this.input = t;
  }
  /** Returns InputElement selection start */
  get _unsafeSelectionStart() {
    return this.input.selectionStart != null ? this.input.selectionStart : this.value.length;
  }
  /** Returns InputElement selection end */
  get _unsafeSelectionEnd() {
    return this.input.selectionEnd;
  }
  /** Sets InputElement selection */
  _unsafeSelect(t, e) {
    this.input.setSelectionRange(t, e);
  }
  get value() {
    return this.input.value;
  }
  set value(t) {
    this.input.value = t;
  }
};
ot.HTMLMaskElement = Ni;
var lp = class extends Ni {
  /** Returns HTMLElement selection start */
  get _unsafeSelectionStart() {
    const t = this.rootElement, e = t.getSelection && t.getSelection(), s = e && e.anchorOffset, n = e && e.focusOffset;
    return n == null || s == null || s < n ? s : n;
  }
  /** Returns HTMLElement selection end */
  get _unsafeSelectionEnd() {
    const t = this.rootElement, e = t.getSelection && t.getSelection(), s = e && e.anchorOffset, n = e && e.focusOffset;
    return n == null || s == null || s > n ? s : n;
  }
  /** Sets HTMLElement selection */
  _unsafeSelect(t, e) {
    if (!this.rootElement.createRange) return;
    const s = this.rootElement.createRange();
    s.setStart(this.input.firstChild || this.input, t), s.setEnd(this.input.lastChild || this.input, e);
    const n = this.rootElement, i = n.getSelection && n.getSelection();
    i && (i.removeAllRanges(), i.addRange(s));
  }
  /** HTMLElement value */
  get value() {
    return this.input.textContent || "";
  }
  set value(t) {
    this.input.textContent = t;
  }
};
ot.HTMLContenteditableMaskElement = lp;
var Si = class _Si {
  constructor() {
    this.states = [], this.currentIndex = 0;
  }
  get currentState() {
    return this.states[this.currentIndex];
  }
  get isEmpty() {
    return this.states.length === 0;
  }
  push(t) {
    this.currentIndex < this.states.length - 1 && (this.states.length = this.currentIndex + 1), this.states.push(t), this.states.length > _Si.MAX_LENGTH && this.states.shift(), this.currentIndex = this.states.length - 1;
  }
  go(t) {
    return this.currentIndex = Math.min(Math.max(this.currentIndex + t, 0), this.states.length - 1), this.currentState;
  }
  undo() {
    return this.go(-1);
  }
  redo() {
    return this.go(1);
  }
  clear() {
    this.states.length = 0, this.currentIndex = 0;
  }
};
Si.MAX_LENGTH = 100;
var Ox = class {
  /**
    View element
  */
  /** Internal {@link Masked} model */
  constructor(t, e) {
    this.el = t instanceof ul ? t : t.isContentEditable && t.tagName !== "INPUT" && t.tagName !== "TEXTAREA" ? new lp(t) : new Cx(t), this.masked = Me(e), this._listeners = {}, this._value = "", this._unmaskedValue = "", this._rawInputValue = "", this.history = new Si(), this._saveSelection = this._saveSelection.bind(this), this._onInput = this._onInput.bind(this), this._onChange = this._onChange.bind(this), this._onDrop = this._onDrop.bind(this), this._onFocus = this._onFocus.bind(this), this._onClick = this._onClick.bind(this), this._onUndo = this._onUndo.bind(this), this._onRedo = this._onRedo.bind(this), this.alignCursor = this.alignCursor.bind(this), this.alignCursorFriendly = this.alignCursorFriendly.bind(this), this._bindEvents(), this.updateValue(), this._onChange();
  }
  maskEquals(t) {
    var e;
    return t == null || ((e = this.masked) == null ? void 0 : e.maskEquals(t));
  }
  /** Masked */
  get mask() {
    return this.masked.mask;
  }
  set mask(t) {
    if (this.maskEquals(t)) return;
    if (!(t instanceof ot.Masked) && this.masked.constructor === ap(t)) {
      this.masked.updateOptions({
        mask: t
      });
      return;
    }
    const e = t instanceof ot.Masked ? t : Me({
      mask: t
    });
    e.unmaskedValue = this.masked.unmaskedValue, this.masked = e;
  }
  /** Raw value */
  get value() {
    return this._value;
  }
  set value(t) {
    this.value !== t && (this.masked.value = t, this.updateControl("auto"));
  }
  /** Unmasked value */
  get unmaskedValue() {
    return this._unmaskedValue;
  }
  set unmaskedValue(t) {
    this.unmaskedValue !== t && (this.masked.unmaskedValue = t, this.updateControl("auto"));
  }
  /** Raw input value */
  get rawInputValue() {
    return this._rawInputValue;
  }
  set rawInputValue(t) {
    this.rawInputValue !== t && (this.masked.rawInputValue = t, this.updateControl(), this.alignCursor());
  }
  /** Typed unmasked value */
  get typedValue() {
    return this.masked.typedValue;
  }
  set typedValue(t) {
    this.masked.typedValueEquals(t) || (this.masked.typedValue = t, this.updateControl("auto"));
  }
  /** Display value */
  get displayValue() {
    return this.masked.displayValue;
  }
  /** Starts listening to element events */
  _bindEvents() {
    this.el.bindEvents({
      selectionChange: this._saveSelection,
      input: this._onInput,
      drop: this._onDrop,
      click: this._onClick,
      focus: this._onFocus,
      commit: this._onChange,
      undo: this._onUndo,
      redo: this._onRedo
    });
  }
  /** Stops listening to element events */
  _unbindEvents() {
    this.el && this.el.unbindEvents();
  }
  /** Fires custom event */
  _fireEvent(t, e) {
    const s = this._listeners[t];
    s && s.forEach((n) => n(e));
  }
  /** Current selection start */
  get selectionStart() {
    return this._cursorChanging ? this._changingCursorPos : this.el.selectionStart;
  }
  /** Current cursor position */
  get cursorPos() {
    return this._cursorChanging ? this._changingCursorPos : this.el.selectionEnd;
  }
  set cursorPos(t) {
    !this.el || !this.el.isActive || (this.el.select(t, t), this._saveSelection());
  }
  /** Stores current selection */
  _saveSelection() {
    this.displayValue !== this.el.value && console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."), this._selection = {
      start: this.selectionStart,
      end: this.cursorPos
    };
  }
  /** Syncronizes model value from view */
  updateValue() {
    this.masked.value = this.el.value, this._value = this.masked.value, this._unmaskedValue = this.masked.unmaskedValue, this._rawInputValue = this.masked.rawInputValue;
  }
  /** Syncronizes view from model value, fires change events */
  updateControl(t) {
    const e = this.masked.unmaskedValue, s = this.masked.value, n = this.masked.rawInputValue, i = this.displayValue, o2 = this.unmaskedValue !== e || this.value !== s || this._rawInputValue !== n;
    this._unmaskedValue = e, this._value = s, this._rawInputValue = n, this.el.value !== i && (this.el.value = i), t === "auto" ? this.alignCursor() : t != null && (this.cursorPos = t), o2 && this._fireChangeEvents(), !this._historyChanging && (o2 || this.history.isEmpty) && this.history.push({
      unmaskedValue: e,
      selection: {
        start: this.selectionStart,
        end: this.cursorPos
      }
    });
  }
  /** Updates options with deep equal check, recreates {@link Masked} model if mask type changes */
  updateOptions(t) {
    const {
      mask: e,
      ...s
    } = t, n = !this.maskEquals(e), i = this.masked.optionsIsChanged(s);
    n && (this.mask = e), i && this.masked.updateOptions(s), (n || i) && this.updateControl();
  }
  /** Updates cursor */
  updateCursor(t) {
    t != null && (this.cursorPos = t, this._delayUpdateCursor(t));
  }
  /** Delays cursor update to support mobile browsers */
  _delayUpdateCursor(t) {
    this._abortUpdateCursor(), this._changingCursorPos = t, this._cursorChanging = setTimeout(() => {
      this.el && (this.cursorPos = this._changingCursorPos, this._abortUpdateCursor());
    }, 10);
  }
  /** Fires custom events */
  _fireChangeEvents() {
    this._fireEvent("accept", this._inputEvent), this.masked.isComplete && this._fireEvent("complete", this._inputEvent);
  }
  /** Aborts delayed cursor update */
  _abortUpdateCursor() {
    this._cursorChanging && (clearTimeout(this._cursorChanging), delete this._cursorChanging);
  }
  /** Aligns cursor to nearest available position */
  alignCursor() {
    this.cursorPos = this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos, nt.LEFT));
  }
  /** Aligns cursor only if selection is empty */
  alignCursorFriendly() {
    this.selectionStart === this.cursorPos && this.alignCursor();
  }
  /** Adds listener on custom event */
  on(t, e) {
    return this._listeners[t] || (this._listeners[t] = []), this._listeners[t].push(e), this;
  }
  /** Removes custom event listener */
  off(t, e) {
    if (!this._listeners[t]) return this;
    if (!e)
      return delete this._listeners[t], this;
    const s = this._listeners[t].indexOf(e);
    return s >= 0 && this._listeners[t].splice(s, 1), this;
  }
  /** Handles view input event */
  _onInput(t) {
    this._inputEvent = t, this._abortUpdateCursor();
    const e = new Nx({
      // new state
      value: this.el.value,
      cursorPos: this.cursorPos,
      // old state
      oldValue: this.displayValue,
      oldSelection: this._selection
    }), s = this.masked.rawInputValue, n = this.masked.splice(e.startChangePos, e.removed.length, e.inserted, e.removeDirection, {
      input: true,
      raw: true
    }).offset, i = s === this.masked.rawInputValue ? e.removeDirection : nt.NONE;
    let o2 = this.masked.nearestInputPos(e.startChangePos + n, i);
    i !== nt.NONE && (o2 = this.masked.nearestInputPos(o2, nt.NONE)), this.updateControl(o2), delete this._inputEvent;
  }
  /** Handles view change event and commits model value */
  _onChange() {
    this.displayValue !== this.el.value && this.updateValue(), this.masked.doCommit(), this.updateControl(), this._saveSelection();
  }
  /** Handles view drop event, prevents by default */
  _onDrop(t) {
    t.preventDefault(), t.stopPropagation();
  }
  /** Restore last selection on focus */
  _onFocus(t) {
    this.alignCursorFriendly();
  }
  /** Restore last selection on focus */
  _onClick(t) {
    this.alignCursorFriendly();
  }
  _onUndo() {
    this._applyHistoryState(this.history.undo());
  }
  _onRedo() {
    this._applyHistoryState(this.history.redo());
  }
  _applyHistoryState(t) {
    t && (this._historyChanging = true, this.unmaskedValue = t.unmaskedValue, this.el.select(t.selection.start, t.selection.end), this._saveSelection(), this._historyChanging = false);
  }
  /** Unbind view events and removes element reference */
  destroy() {
    this._unbindEvents(), this._listeners.length = 0, delete this.el;
  }
};
ot.InputMask = Ox;
var dt = class _dt {
  /** Inserted symbols */
  /** Additional offset if any changes occurred before tail */
  /** Raw inserted is used by dynamic mask */
  /** Can skip chars */
  static normalize(t) {
    return Array.isArray(t) ? t : [t, new _dt()];
  }
  constructor(t) {
    Object.assign(this, {
      inserted: "",
      rawInserted: "",
      tailShift: 0,
      skip: false
    }, t);
  }
  /** Aggregate changes */
  aggregate(t) {
    return this.inserted += t.inserted, this.rawInserted += t.rawInserted, this.tailShift += t.tailShift, this.skip = this.skip || t.skip, this;
  }
  /** Total offset considering all changes */
  get offset() {
    return this.tailShift + this.inserted.length;
  }
  get consumed() {
    return !!this.rawInserted || this.skip;
  }
  equals(t) {
    return this.inserted === t.inserted && this.tailShift === t.tailShift && this.rawInserted === t.rawInserted && this.skip === t.skip;
  }
};
ot.ChangeDetails = dt;
var ye2 = class {
  /** Tail value as string */
  /** Tail start position */
  /** Start position */
  constructor(t, e, s) {
    t === void 0 && (t = ""), e === void 0 && (e = 0), this.value = t, this.from = e, this.stop = s;
  }
  toString() {
    return this.value;
  }
  extend(t) {
    this.value += String(t);
  }
  appendTo(t) {
    return t.append(this.toString(), {
      tail: true
    }).aggregate(t._appendPlaceholder());
  }
  get state() {
    return {
      value: this.value,
      from: this.from,
      stop: this.stop
    };
  }
  set state(t) {
    Object.assign(this, t);
  }
  unshift(t) {
    if (!this.value.length || t != null && this.from >= t) return "";
    const e = this.value[0];
    return this.value = this.value.slice(1), e;
  }
  shift() {
    if (!this.value.length) return "";
    const t = this.value[this.value.length - 1];
    return this.value = this.value.slice(0, -1), t;
  }
};
var Ut = class _Ut {
  /** */
  /** */
  /** Transforms value before mask processing */
  /** Transforms each char before mask processing */
  /** Validates if value is acceptable */
  /** Does additional processing at the end of editing */
  /** Format typed value to string */
  /** Parse string to get typed value */
  /** Enable characters overwriting */
  /** */
  /** */
  /** */
  /** */
  constructor(t) {
    this._value = "", this._update({
      ..._Ut.DEFAULTS,
      ...t
    }), this._initialized = true;
  }
  /** Sets and applies new options */
  updateOptions(t) {
    this.optionsIsChanged(t) && this.withValueRefresh(this._update.bind(this, t));
  }
  /** Sets new options */
  _update(t) {
    Object.assign(this, t);
  }
  /** Mask state */
  get state() {
    return {
      _value: this.value,
      _rawInputValue: this.rawInputValue
    };
  }
  set state(t) {
    this._value = t._value;
  }
  /** Resets value */
  reset() {
    this._value = "";
  }
  get value() {
    return this._value;
  }
  set value(t) {
    this.resolve(t, {
      input: true
    });
  }
  /** Resolve new value */
  resolve(t, e) {
    e === void 0 && (e = {
      input: true
    }), this.reset(), this.append(t, e, ""), this.doCommit();
  }
  get unmaskedValue() {
    return this.value;
  }
  set unmaskedValue(t) {
    this.resolve(t, {});
  }
  get typedValue() {
    return this.parse ? this.parse(this.value, this) : this.unmaskedValue;
  }
  set typedValue(t) {
    this.format ? this.value = this.format(t, this) : this.unmaskedValue = String(t);
  }
  /** Value that includes raw user input */
  get rawInputValue() {
    return this.extractInput(0, this.displayValue.length, {
      raw: true
    });
  }
  set rawInputValue(t) {
    this.resolve(t, {
      raw: true
    });
  }
  get displayValue() {
    return this.value;
  }
  get isComplete() {
    return true;
  }
  get isFilled() {
    return this.isComplete;
  }
  /** Finds nearest input position in direction */
  nearestInputPos(t, e) {
    return t;
  }
  totalInputPositions(t, e) {
    return t === void 0 && (t = 0), e === void 0 && (e = this.displayValue.length), Math.min(this.displayValue.length, e - t);
  }
  /** Extracts value in range considering flags */
  extractInput(t, e, s) {
    return t === void 0 && (t = 0), e === void 0 && (e = this.displayValue.length), this.displayValue.slice(t, e);
  }
  /** Extracts tail in range */
  extractTail(t, e) {
    return t === void 0 && (t = 0), e === void 0 && (e = this.displayValue.length), new ye2(this.extractInput(t, e), t);
  }
  /** Appends tail */
  appendTail(t) {
    return Ze2(t) && (t = new ye2(String(t))), t.appendTo(this);
  }
  /** Appends char */
  _appendCharRaw(t, e) {
    return t ? (this._value += t, new dt({
      inserted: t,
      rawInserted: t
    })) : new dt();
  }
  /** Appends char */
  _appendChar(t, e, s) {
    e === void 0 && (e = {});
    const n = this.state;
    let i;
    if ([t, i] = this.doPrepareChar(t, e), t && (i = i.aggregate(this._appendCharRaw(t, e)), !i.rawInserted && this.autofix === "pad")) {
      const o2 = this.state;
      this.state = n;
      let a = this.pad(e);
      const l = this._appendCharRaw(t, e);
      a = a.aggregate(l), l.rawInserted || a.equals(i) ? i = a : this.state = o2;
    }
    if (i.inserted) {
      let o2, a = this.doValidate(e) !== false;
      if (a && s != null) {
        const l = this.state;
        if (this.overwrite === true) {
          o2 = s.state;
          for (let d2 = 0; d2 < i.rawInserted.length; ++d2)
            s.unshift(this.displayValue.length - i.tailShift);
        }
        let c = this.appendTail(s);
        if (a = c.rawInserted.length === s.toString().length, !(a && c.inserted) && this.overwrite === "shift") {
          this.state = l, o2 = s.state;
          for (let d2 = 0; d2 < i.rawInserted.length; ++d2)
            s.shift();
          c = this.appendTail(s), a = c.rawInserted.length === s.toString().length;
        }
        a && c.inserted && (this.state = l);
      }
      a || (i = new dt(), this.state = n, s && o2 && (s.state = o2));
    }
    return i;
  }
  /** Appends optional placeholder at the end */
  _appendPlaceholder() {
    return new dt();
  }
  /** Appends optional eager placeholder at the end */
  _appendEager() {
    return new dt();
  }
  /** Appends symbols considering flags */
  append(t, e, s) {
    if (!Ze2(t)) throw new Error("value should be string");
    const n = Ze2(s) ? new ye2(String(s)) : s;
    e != null && e.tail && (e._beforeTailState = this.state);
    let i;
    [t, i] = this.doPrepare(t, e);
    for (let o2 = 0; o2 < t.length; ++o2) {
      const a = this._appendChar(t[o2], e, n);
      if (!a.rawInserted && !this.doSkipInvalid(t[o2], e, n)) break;
      i.aggregate(a);
    }
    return (this.eager === true || this.eager === "append") && e != null && e.input && t && i.aggregate(this._appendEager()), n != null && (i.tailShift += this.appendTail(n).tailShift), i;
  }
  remove(t, e) {
    return t === void 0 && (t = 0), e === void 0 && (e = this.displayValue.length), this._value = this.displayValue.slice(0, t) + this.displayValue.slice(e), new dt();
  }
  /** Calls function and reapplies current value */
  withValueRefresh(t) {
    if (this._refreshing || !this._initialized) return t();
    this._refreshing = true;
    const e = this.rawInputValue, s = this.value, n = t();
    return this.rawInputValue = e, this.value && this.value !== s && s.indexOf(this.value) === 0 && (this.append(s.slice(this.displayValue.length), {}, ""), this.doCommit()), delete this._refreshing, n;
  }
  runIsolated(t) {
    if (this._isolated || !this._initialized) return t(this);
    this._isolated = true;
    const e = this.state, s = t(this);
    return this.state = e, delete this._isolated, s;
  }
  doSkipInvalid(t, e, s) {
    return !!this.skipInvalid;
  }
  /** Prepares string before mask processing */
  doPrepare(t, e) {
    return e === void 0 && (e = {}), dt.normalize(this.prepare ? this.prepare(t, this, e) : t);
  }
  /** Prepares each char before mask processing */
  doPrepareChar(t, e) {
    return e === void 0 && (e = {}), dt.normalize(this.prepareChar ? this.prepareChar(t, this, e) : t);
  }
  /** Validates if value is acceptable */
  doValidate(t) {
    return (!this.validate || this.validate(this.value, this, t)) && (!this.parent || this.parent.doValidate(t));
  }
  /** Does additional processing at the end of editing */
  doCommit() {
    this.commit && this.commit(this.value, this);
  }
  splice(t, e, s, n, i) {
    s === void 0 && (s = ""), n === void 0 && (n = nt.NONE), i === void 0 && (i = {
      input: true
    });
    const o2 = t + e, a = this.extractTail(o2), l = this.eager === true || this.eager === "remove";
    let c;
    l && (n = Ax(n), c = this.extractInput(0, o2, {
      raw: true
    }));
    let d2 = t;
    const g = new dt();
    if (n !== nt.NONE && (d2 = this.nearestInputPos(t, e > 1 && t !== 0 && !l ? nt.NONE : n), g.tailShift = d2 - t), g.aggregate(this.remove(d2)), l && n !== nt.NONE && c === this.rawInputValue)
      if (n === nt.FORCE_LEFT) {
        let h;
        for (; c === this.rawInputValue && (h = this.displayValue.length); )
          g.aggregate(new dt({
            tailShift: -1
          })).aggregate(this.remove(h - 1));
      } else n === nt.FORCE_RIGHT && a.unshift();
    return g.aggregate(this.append(s, i, a));
  }
  maskEquals(t) {
    return this.mask === t;
  }
  optionsIsChanged(t) {
    return !Jn(this, t);
  }
  typedValueEquals(t) {
    const e = this.typedValue;
    return t === e || _Ut.EMPTY_VALUES.includes(t) && _Ut.EMPTY_VALUES.includes(e) || (this.format ? this.format(t, this) === this.format(this.typedValue, this) : false);
  }
  pad(t) {
    return new dt();
  }
};
Ut.DEFAULTS = {
  skipInvalid: true
};
Ut.EMPTY_VALUES = [void 0, null, ""];
ot.Masked = Ut;
var pr = class _pr {
  /** */
  constructor(t, e) {
    t === void 0 && (t = []), e === void 0 && (e = 0), this.chunks = t, this.from = e;
  }
  toString() {
    return this.chunks.map(String).join("");
  }
  extend(t) {
    if (!String(t)) return;
    t = Ze2(t) ? new ye2(String(t)) : t;
    const e = this.chunks[this.chunks.length - 1], s = e && // if stops are same or tail has no stop
    (e.stop === t.stop || t.stop == null) && // if tail chunk goes just after last chunk
    t.from === e.from + e.toString().length;
    if (t instanceof ye2)
      s ? e.extend(t.toString()) : this.chunks.push(t);
    else if (t instanceof _pr) {
      if (t.stop == null) {
        let n;
        for (; t.chunks.length && t.chunks[0].stop == null; )
          n = t.chunks.shift(), n.from += t.from, this.extend(n);
      }
      t.toString() && (t.stop = t.blockIndex, this.chunks.push(t));
    }
  }
  appendTo(t) {
    if (!(t instanceof ot.MaskedPattern))
      return new ye2(this.toString()).appendTo(t);
    const e = new dt();
    for (let s = 0; s < this.chunks.length; ++s) {
      const n = this.chunks[s], i = t._mapPosToBlock(t.displayValue.length), o2 = n.stop;
      let a;
      if (o2 != null && // if block not found or stop is behind lastBlock
      (!i || i.index <= o2) && ((n instanceof _pr || // for continuous block also check if stop is exist
      t._stops.indexOf(o2) >= 0) && e.aggregate(t._appendPlaceholder(o2)), a = n instanceof _pr && t._blocks[o2]), a) {
        const l = a.appendTail(n);
        e.aggregate(l);
        const c = n.toString().slice(l.rawInserted.length);
        c && e.aggregate(t.append(c, {
          tail: true
        }));
      } else
        e.aggregate(t.append(n.toString(), {
          tail: true
        }));
    }
    return e;
  }
  get state() {
    return {
      chunks: this.chunks.map((t) => t.state),
      from: this.from,
      stop: this.stop,
      blockIndex: this.blockIndex
    };
  }
  set state(t) {
    const {
      chunks: e,
      ...s
    } = t;
    Object.assign(this, s), this.chunks = e.map((n) => {
      const i = "chunks" in n ? new _pr() : new ye2();
      return i.state = n, i;
    });
  }
  unshift(t) {
    if (!this.chunks.length || t != null && this.from >= t) return "";
    const e = t != null ? t - this.from : t;
    let s = 0;
    for (; s < this.chunks.length; ) {
      const n = this.chunks[s], i = n.unshift(e);
      if (n.toString()) {
        if (!i) break;
        ++s;
      } else
        this.chunks.splice(s, 1);
      if (i) return i;
    }
    return "";
  }
  shift() {
    if (!this.chunks.length) return "";
    let t = this.chunks.length - 1;
    for (; 0 <= t; ) {
      const e = this.chunks[t], s = e.shift();
      if (e.toString()) {
        if (!s) break;
        --t;
      } else
        this.chunks.splice(t, 1);
      if (s) return s;
    }
    return "";
  }
};
var Tx = class {
  constructor(t, e) {
    this.masked = t, this._log = [];
    const {
      offset: s,
      index: n
    } = t._mapPosToBlock(e) || (e < 0 ? (
      // first
      {
        index: 0,
        offset: 0
      }
    ) : (
      // last
      {
        index: this.masked._blocks.length,
        offset: 0
      }
    ));
    this.offset = s, this.index = n, this.ok = false;
  }
  get block() {
    return this.masked._blocks[this.index];
  }
  get pos() {
    return this.masked._blockStartPos(this.index) + this.offset;
  }
  get state() {
    return {
      index: this.index,
      offset: this.offset,
      ok: this.ok
    };
  }
  set state(t) {
    Object.assign(this, t);
  }
  pushState() {
    this._log.push(this.state);
  }
  popState() {
    const t = this._log.pop();
    return t && (this.state = t), t;
  }
  bindBlock() {
    this.block || (this.index < 0 && (this.index = 0, this.offset = 0), this.index >= this.masked._blocks.length && (this.index = this.masked._blocks.length - 1, this.offset = this.block.displayValue.length));
  }
  _pushLeft(t) {
    for (this.pushState(), this.bindBlock(); 0 <= this.index; --this.index, this.offset = ((e = this.block) == null ? void 0 : e.displayValue.length) || 0) {
      var e;
      if (t()) return this.ok = true;
    }
    return this.ok = false;
  }
  _pushRight(t) {
    for (this.pushState(), this.bindBlock(); this.index < this.masked._blocks.length; ++this.index, this.offset = 0)
      if (t()) return this.ok = true;
    return this.ok = false;
  }
  pushLeftBeforeFilled() {
    return this._pushLeft(() => {
      if (!(this.block.isFixed || !this.block.value) && (this.offset = this.block.nearestInputPos(this.offset, nt.FORCE_LEFT), this.offset !== 0))
        return true;
    });
  }
  pushLeftBeforeInput() {
    return this._pushLeft(() => {
      if (!this.block.isFixed)
        return this.offset = this.block.nearestInputPos(this.offset, nt.LEFT), true;
    });
  }
  pushLeftBeforeRequired() {
    return this._pushLeft(() => {
      if (!(this.block.isFixed || this.block.isOptional && !this.block.value))
        return this.offset = this.block.nearestInputPos(this.offset, nt.LEFT), true;
    });
  }
  pushRightBeforeFilled() {
    return this._pushRight(() => {
      if (!(this.block.isFixed || !this.block.value) && (this.offset = this.block.nearestInputPos(this.offset, nt.FORCE_RIGHT), this.offset !== this.block.value.length))
        return true;
    });
  }
  pushRightBeforeInput() {
    return this._pushRight(() => {
      if (!this.block.isFixed)
        return this.offset = this.block.nearestInputPos(this.offset, nt.NONE), true;
    });
  }
  pushRightBeforeRequired() {
    return this._pushRight(() => {
      if (!(this.block.isFixed || this.block.isOptional && !this.block.value))
        return this.offset = this.block.nearestInputPos(this.offset, nt.NONE), true;
    });
  }
};
var up = class {
  /** */
  /** */
  /** */
  /** */
  /** */
  /** */
  constructor(t) {
    Object.assign(this, t), this._value = "", this.isFixed = true;
  }
  get value() {
    return this._value;
  }
  get unmaskedValue() {
    return this.isUnmasking ? this.value : "";
  }
  get rawInputValue() {
    return this._isRawInput ? this.value : "";
  }
  get displayValue() {
    return this.value;
  }
  reset() {
    this._isRawInput = false, this._value = "";
  }
  remove(t, e) {
    return t === void 0 && (t = 0), e === void 0 && (e = this._value.length), this._value = this._value.slice(0, t) + this._value.slice(e), this._value || (this._isRawInput = false), new dt();
  }
  nearestInputPos(t, e) {
    e === void 0 && (e = nt.NONE);
    const s = 0, n = this._value.length;
    switch (e) {
      case nt.LEFT:
      case nt.FORCE_LEFT:
        return s;
      case nt.NONE:
      case nt.RIGHT:
      case nt.FORCE_RIGHT:
      default:
        return n;
    }
  }
  totalInputPositions(t, e) {
    return t === void 0 && (t = 0), e === void 0 && (e = this._value.length), this._isRawInput ? e - t : 0;
  }
  extractInput(t, e, s) {
    return t === void 0 && (t = 0), e === void 0 && (e = this._value.length), s === void 0 && (s = {}), s.raw && this._isRawInput && this._value.slice(t, e) || "";
  }
  get isComplete() {
    return true;
  }
  get isFilled() {
    return !!this._value;
  }
  _appendChar(t, e) {
    if (e === void 0 && (e = {}), this.isFilled) return new dt();
    const s = this.eager === true || this.eager === "append", n = this.char === t && (this.isUnmasking || e.input || e.raw) && (!e.raw || !s) && !e.tail, i = new dt({
      inserted: this.char,
      rawInserted: n ? this.char : ""
    });
    return this._value = this.char, this._isRawInput = n && (e.raw || e.input), i;
  }
  _appendEager() {
    return this._appendChar(this.char, {
      tail: true
    });
  }
  _appendPlaceholder() {
    const t = new dt();
    return this.isFilled || (this._value = t.inserted = this.char), t;
  }
  extractTail() {
    return new ye2("");
  }
  appendTail(t) {
    return Ze2(t) && (t = new ye2(String(t))), t.appendTo(this);
  }
  append(t, e, s) {
    const n = this._appendChar(t[0], e);
    return s != null && (n.tailShift += this.appendTail(s).tailShift), n;
  }
  doCommit() {
  }
  get state() {
    return {
      _value: this._value,
      _rawInputValue: this.rawInputValue
    };
  }
  set state(t) {
    this._value = t._value, this._isRawInput = !!t._rawInputValue;
  }
  pad(t) {
    return this._appendPlaceholder();
  }
};
var Qn2 = class {
  /** */
  /** */
  /** */
  /** */
  /** */
  /** */
  /** */
  /** */
  constructor(t) {
    const {
      parent: e,
      isOptional: s,
      placeholderChar: n,
      displayChar: i,
      lazy: o2,
      eager: a,
      ...l
    } = t;
    this.masked = Me(l), Object.assign(this, {
      parent: e,
      isOptional: s,
      placeholderChar: n,
      displayChar: i,
      lazy: o2,
      eager: a
    });
  }
  reset() {
    this.isFilled = false, this.masked.reset();
  }
  remove(t, e) {
    return t === void 0 && (t = 0), e === void 0 && (e = this.value.length), t === 0 && e >= 1 ? (this.isFilled = false, this.masked.remove(t, e)) : new dt();
  }
  get value() {
    return this.masked.value || (this.isFilled && !this.isOptional ? this.placeholderChar : "");
  }
  get unmaskedValue() {
    return this.masked.unmaskedValue;
  }
  get rawInputValue() {
    return this.masked.rawInputValue;
  }
  get displayValue() {
    return this.masked.value && this.displayChar || this.value;
  }
  get isComplete() {
    return !!this.masked.value || this.isOptional;
  }
  _appendChar(t, e) {
    if (e === void 0 && (e = {}), this.isFilled) return new dt();
    const s = this.masked.state;
    let n = this.masked._appendChar(t, this.currentMaskFlags(e));
    return n.inserted && this.doValidate(e) === false && (n = new dt(), this.masked.state = s), !n.inserted && !this.isOptional && !this.lazy && !e.input && (n.inserted = this.placeholderChar), n.skip = !n.inserted && !this.isOptional, this.isFilled = !!n.inserted, n;
  }
  append(t, e, s) {
    return this.masked.append(t, this.currentMaskFlags(e), s);
  }
  _appendPlaceholder() {
    return this.isFilled || this.isOptional ? new dt() : (this.isFilled = true, new dt({
      inserted: this.placeholderChar
    }));
  }
  _appendEager() {
    return new dt();
  }
  extractTail(t, e) {
    return this.masked.extractTail(t, e);
  }
  appendTail(t) {
    return this.masked.appendTail(t);
  }
  extractInput(t, e, s) {
    return t === void 0 && (t = 0), e === void 0 && (e = this.value.length), this.masked.extractInput(t, e, s);
  }
  nearestInputPos(t, e) {
    e === void 0 && (e = nt.NONE);
    const s = 0, n = this.value.length, i = Math.min(Math.max(t, s), n);
    switch (e) {
      case nt.LEFT:
      case nt.FORCE_LEFT:
        return this.isComplete ? i : s;
      case nt.RIGHT:
      case nt.FORCE_RIGHT:
        return this.isComplete ? i : n;
      case nt.NONE:
      default:
        return i;
    }
  }
  totalInputPositions(t, e) {
    return t === void 0 && (t = 0), e === void 0 && (e = this.value.length), this.value.slice(t, e).length;
  }
  doValidate(t) {
    return this.masked.doValidate(this.currentMaskFlags(t)) && (!this.parent || this.parent.doValidate(this.currentMaskFlags(t)));
  }
  doCommit() {
    this.masked.doCommit();
  }
  get state() {
    return {
      _value: this.value,
      _rawInputValue: this.rawInputValue,
      masked: this.masked.state,
      isFilled: this.isFilled
    };
  }
  set state(t) {
    this.masked.state = t.masked, this.isFilled = t.isFilled;
  }
  currentMaskFlags(t) {
    var e;
    return {
      ...t,
      _beforeTailState: (t == null || (e = t._beforeTailState) == null ? void 0 : e.masked) || (t == null ? void 0 : t._beforeTailState)
    };
  }
  pad(t) {
    return new dt();
  }
};
Qn2.DEFAULT_DEFINITIONS = {
  0: /\d/,
  a: /[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
  // http://stackoverflow.com/a/22075070
  "*": /./
};
var Rx = class extends Ut {
  /** */
  /** Enable characters overwriting */
  /** */
  /** */
  /** */
  updateOptions(t) {
    super.updateOptions(t);
  }
  _update(t) {
    const e = t.mask;
    e && (t.validate = (s) => s.search(e) >= 0), super._update(t);
  }
};
ot.MaskedRegExp = Rx;
var $t = class _$t extends Ut {
  /** */
  /** */
  /** Single char for empty input */
  /** Single char for filled input */
  /** Show placeholder only when needed */
  /** Enable characters overwriting */
  /** */
  /** */
  /** */
  constructor(t) {
    super({
      ..._$t.DEFAULTS,
      ...t,
      definitions: Object.assign({}, Qn2.DEFAULT_DEFINITIONS, t == null ? void 0 : t.definitions)
    });
  }
  updateOptions(t) {
    super.updateOptions(t);
  }
  _update(t) {
    t.definitions = Object.assign({}, this.definitions, t.definitions), super._update(t), this._rebuildMask();
  }
  _rebuildMask() {
    const t = this.definitions;
    this._blocks = [], this.exposeBlock = void 0, this._stops = [], this._maskedBlocks = {};
    const e = this.mask;
    if (!e || !t) return;
    let s = false, n = false;
    for (let i = 0; i < e.length; ++i) {
      if (this.blocks) {
        const c = e.slice(i), d2 = Object.keys(this.blocks).filter((h) => c.indexOf(h) === 0);
        d2.sort((h, f) => f.length - h.length);
        const g = d2[0];
        if (g) {
          const {
            expose: h,
            repeat: f,
            ...v
          } = $s(this.blocks[g]), m = {
            lazy: this.lazy,
            eager: this.eager,
            placeholderChar: this.placeholderChar,
            displayChar: this.displayChar,
            overwrite: this.overwrite,
            autofix: this.autofix,
            ...v,
            repeat: f,
            parent: this
          }, k = f != null ? new ot.RepeatBlock(
            m
            /* TODO */
          ) : Me(m);
          k && (this._blocks.push(k), h && (this.exposeBlock = k), this._maskedBlocks[g] || (this._maskedBlocks[g] = []), this._maskedBlocks[g].push(this._blocks.length - 1)), i += g.length - 1;
          continue;
        }
      }
      let o2 = e[i], a = o2 in t;
      if (o2 === _$t.STOP_CHAR) {
        this._stops.push(this._blocks.length);
        continue;
      }
      if (o2 === "{" || o2 === "}") {
        s = !s;
        continue;
      }
      if (o2 === "[" || o2 === "]") {
        n = !n;
        continue;
      }
      if (o2 === _$t.ESCAPE_CHAR) {
        if (++i, o2 = e[i], !o2) break;
        a = false;
      }
      const l = a ? new Qn2({
        isOptional: n,
        lazy: this.lazy,
        eager: this.eager,
        placeholderChar: this.placeholderChar,
        displayChar: this.displayChar,
        ...$s(t[o2]),
        parent: this
      }) : new up({
        char: o2,
        eager: this.eager,
        isUnmasking: s
      });
      this._blocks.push(l);
    }
  }
  get state() {
    return {
      ...super.state,
      _blocks: this._blocks.map((t) => t.state)
    };
  }
  set state(t) {
    if (!t) {
      this.reset();
      return;
    }
    const {
      _blocks: e,
      ...s
    } = t;
    this._blocks.forEach((n, i) => n.state = e[i]), super.state = s;
  }
  reset() {
    super.reset(), this._blocks.forEach((t) => t.reset());
  }
  get isComplete() {
    return this.exposeBlock ? this.exposeBlock.isComplete : this._blocks.every((t) => t.isComplete);
  }
  get isFilled() {
    return this._blocks.every((t) => t.isFilled);
  }
  get isFixed() {
    return this._blocks.every((t) => t.isFixed);
  }
  get isOptional() {
    return this._blocks.every((t) => t.isOptional);
  }
  doCommit() {
    this._blocks.forEach((t) => t.doCommit()), super.doCommit();
  }
  get unmaskedValue() {
    return this.exposeBlock ? this.exposeBlock.unmaskedValue : this._blocks.reduce((t, e) => t += e.unmaskedValue, "");
  }
  set unmaskedValue(t) {
    if (this.exposeBlock) {
      const e = this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock)) + this.exposeBlock.displayValue.length);
      this.exposeBlock.unmaskedValue = t, this.appendTail(e), this.doCommit();
    } else super.unmaskedValue = t;
  }
  get value() {
    return this.exposeBlock ? this.exposeBlock.value : (
      // TODO return _value when not in change?
      this._blocks.reduce((t, e) => t += e.value, "")
    );
  }
  set value(t) {
    if (this.exposeBlock) {
      const e = this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock)) + this.exposeBlock.displayValue.length);
      this.exposeBlock.value = t, this.appendTail(e), this.doCommit();
    } else super.value = t;
  }
  get typedValue() {
    return this.exposeBlock ? this.exposeBlock.typedValue : super.typedValue;
  }
  set typedValue(t) {
    if (this.exposeBlock) {
      const e = this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock)) + this.exposeBlock.displayValue.length);
      this.exposeBlock.typedValue = t, this.appendTail(e), this.doCommit();
    } else super.typedValue = t;
  }
  get displayValue() {
    return this._blocks.reduce((t, e) => t += e.displayValue, "");
  }
  appendTail(t) {
    return super.appendTail(t).aggregate(this._appendPlaceholder());
  }
  _appendEager() {
    var t;
    const e = new dt();
    let s = (t = this._mapPosToBlock(this.displayValue.length)) == null ? void 0 : t.index;
    if (s == null) return e;
    this._blocks[s].isFilled && ++s;
    for (let n = s; n < this._blocks.length; ++n) {
      const i = this._blocks[n]._appendEager();
      if (!i.inserted) break;
      e.aggregate(i);
    }
    return e;
  }
  _appendCharRaw(t, e) {
    e === void 0 && (e = {});
    const s = this._mapPosToBlock(this.displayValue.length), n = new dt();
    if (!s) return n;
    for (let o2 = s.index, a; a = this._blocks[o2]; ++o2) {
      var i;
      const l = a._appendChar(t, {
        ...e,
        _beforeTailState: (i = e._beforeTailState) == null || (i = i._blocks) == null ? void 0 : i[o2]
      });
      if (n.aggregate(l), l.consumed) break;
    }
    return n;
  }
  extractTail(t, e) {
    t === void 0 && (t = 0), e === void 0 && (e = this.displayValue.length);
    const s = new pr();
    return t === e || this._forEachBlocksInRange(t, e, (n, i, o2, a) => {
      const l = n.extractTail(o2, a);
      l.stop = this._findStopBefore(i), l.from = this._blockStartPos(i), l instanceof pr && (l.blockIndex = i), s.extend(l);
    }), s;
  }
  extractInput(t, e, s) {
    if (t === void 0 && (t = 0), e === void 0 && (e = this.displayValue.length), s === void 0 && (s = {}), t === e) return "";
    let n = "";
    return this._forEachBlocksInRange(t, e, (i, o2, a, l) => {
      n += i.extractInput(a, l, s);
    }), n;
  }
  _findStopBefore(t) {
    let e;
    for (let s = 0; s < this._stops.length; ++s) {
      const n = this._stops[s];
      if (n <= t) e = n;
      else break;
    }
    return e;
  }
  /** Appends placeholder depending on laziness */
  _appendPlaceholder(t) {
    const e = new dt();
    if (this.lazy && t == null) return e;
    const s = this._mapPosToBlock(this.displayValue.length);
    if (!s) return e;
    const n = s.index, i = t ?? this._blocks.length;
    return this._blocks.slice(n, i).forEach((o2) => {
      if (!o2.lazy || t != null) {
        var a;
        e.aggregate(o2._appendPlaceholder((a = o2._blocks) == null ? void 0 : a.length));
      }
    }), e;
  }
  /** Finds block in pos */
  _mapPosToBlock(t) {
    let e = "";
    for (let s = 0; s < this._blocks.length; ++s) {
      const n = this._blocks[s], i = e.length;
      if (e += n.displayValue, t <= e.length)
        return {
          index: s,
          offset: t - i
        };
    }
  }
  _blockStartPos(t) {
    return this._blocks.slice(0, t).reduce((e, s) => e += s.displayValue.length, 0);
  }
  _forEachBlocksInRange(t, e, s) {
    e === void 0 && (e = this.displayValue.length);
    const n = this._mapPosToBlock(t);
    if (n) {
      const i = this._mapPosToBlock(e), o2 = i && n.index === i.index, a = n.offset, l = i && o2 ? i.offset : this._blocks[n.index].displayValue.length;
      if (s(this._blocks[n.index], n.index, a, l), i && !o2) {
        for (let c = n.index + 1; c < i.index; ++c)
          s(this._blocks[c], c, 0, this._blocks[c].displayValue.length);
        s(this._blocks[i.index], i.index, 0, i.offset);
      }
    }
  }
  remove(t, e) {
    t === void 0 && (t = 0), e === void 0 && (e = this.displayValue.length);
    const s = super.remove(t, e);
    return this._forEachBlocksInRange(t, e, (n, i, o2, a) => {
      s.aggregate(n.remove(o2, a));
    }), s;
  }
  nearestInputPos(t, e) {
    if (e === void 0 && (e = nt.NONE), !this._blocks.length) return 0;
    const s = new Tx(this, t);
    if (e === nt.NONE)
      return s.pushRightBeforeInput() || (s.popState(), s.pushLeftBeforeInput()) ? s.pos : this.displayValue.length;
    if (e === nt.LEFT || e === nt.FORCE_LEFT) {
      if (e === nt.LEFT) {
        if (s.pushRightBeforeFilled(), s.ok && s.pos === t) return t;
        s.popState();
      }
      if (s.pushLeftBeforeInput(), s.pushLeftBeforeRequired(), s.pushLeftBeforeFilled(), e === nt.LEFT) {
        if (s.pushRightBeforeInput(), s.pushRightBeforeRequired(), s.ok && s.pos <= t || (s.popState(), s.ok && s.pos <= t)) return s.pos;
        s.popState();
      }
      return s.ok ? s.pos : e === nt.FORCE_LEFT ? 0 : (s.popState(), s.ok || (s.popState(), s.ok) ? s.pos : 0);
    }
    return e === nt.RIGHT || e === nt.FORCE_RIGHT ? (s.pushRightBeforeInput(), s.pushRightBeforeRequired(), s.pushRightBeforeFilled() ? s.pos : e === nt.FORCE_RIGHT ? this.displayValue.length : (s.popState(), s.ok || (s.popState(), s.ok) ? s.pos : this.nearestInputPos(t, nt.LEFT))) : t;
  }
  totalInputPositions(t, e) {
    t === void 0 && (t = 0), e === void 0 && (e = this.displayValue.length);
    let s = 0;
    return this._forEachBlocksInRange(t, e, (n, i, o2, a) => {
      s += n.totalInputPositions(o2, a);
    }), s;
  }
  /** Get block by name */
  maskedBlock(t) {
    return this.maskedBlocks(t)[0];
  }
  /** Get all blocks by name */
  maskedBlocks(t) {
    const e = this._maskedBlocks[t];
    return e ? e.map((s) => this._blocks[s]) : [];
  }
  pad(t) {
    const e = new dt();
    return this._forEachBlocksInRange(0, this.displayValue.length, (s) => e.aggregate(s.pad(t))), e;
  }
};
$t.DEFAULTS = {
  ...Ut.DEFAULTS,
  lazy: true,
  placeholderChar: "_"
};
$t.STOP_CHAR = "`";
$t.ESCAPE_CHAR = "\\";
$t.InputDefinition = Qn2;
$t.FixedDefinition = up;
ot.MaskedPattern = $t;
var $n = class extends $t {
  /**
    Optionally sets max length of pattern.
    Used when pattern length is longer then `to` param length. Pads zeros at start in this case.
  */
  /** Min bound */
  /** Max bound */
  get _matchFrom() {
    return this.maxLength - String(this.from).length;
  }
  constructor(t) {
    super(t);
  }
  updateOptions(t) {
    super.updateOptions(t);
  }
  _update(t) {
    const {
      to: e = this.to || 0,
      from: s = this.from || 0,
      maxLength: n = this.maxLength || 0,
      autofix: i = this.autofix,
      ...o2
    } = t;
    this.to = e, this.from = s, this.maxLength = Math.max(String(e).length, n), this.autofix = i;
    const a = String(this.from).padStart(this.maxLength, "0"), l = String(this.to).padStart(this.maxLength, "0");
    let c = 0;
    for (; c < l.length && l[c] === a[c]; ) ++c;
    o2.mask = l.slice(0, c).replace(/0/g, "\\0") + "0".repeat(this.maxLength - c), super._update(o2);
  }
  get isComplete() {
    return super.isComplete && !!this.value;
  }
  boundaries(t) {
    let e = "", s = "";
    const [, n, i] = t.match(/^(\D*)(\d*)(\D*)/) || [];
    return i && (e = "0".repeat(n.length) + i, s = "9".repeat(n.length) + i), e = e.padEnd(this.maxLength, "0"), s = s.padEnd(this.maxLength, "9"), [e, s];
  }
  doPrepareChar(t, e) {
    e === void 0 && (e = {});
    let s;
    return [t, s] = super.doPrepareChar(t.replace(/\D/g, ""), e), t || (s.skip = !this.isComplete), [t, s];
  }
  _appendCharRaw(t, e) {
    if (e === void 0 && (e = {}), !this.autofix || this.value.length + 1 > this.maxLength) return super._appendCharRaw(t, e);
    const s = String(this.from).padStart(this.maxLength, "0"), n = String(this.to).padStart(this.maxLength, "0"), [i, o2] = this.boundaries(this.value + t);
    return Number(o2) < this.from ? super._appendCharRaw(s[this.value.length], e) : Number(i) > this.to ? !e.tail && this.autofix === "pad" && this.value.length + 1 < this.maxLength ? super._appendCharRaw(s[this.value.length], e).aggregate(this._appendCharRaw(t, e)) : super._appendCharRaw(n[this.value.length], e) : super._appendCharRaw(t, e);
  }
  doValidate(t) {
    const e = this.value;
    if (e.search(/[^0]/) === -1 && e.length <= this._matchFrom) return true;
    const [s, n] = this.boundaries(e);
    return this.from <= Number(n) && Number(s) <= this.to && super.doValidate(t);
  }
  pad(t) {
    const e = new dt();
    if (this.value.length === this.maxLength) return e;
    const s = this.value, n = this.maxLength - this.value.length;
    if (n) {
      this.reset();
      for (let i = 0; i < n; ++i)
        e.aggregate(super._appendCharRaw("0", t));
      s.split("").forEach((i) => this._appendCharRaw(i));
    }
    return e;
  }
};
ot.MaskedRange = $n;
var Lx = "d{.}`m{.}`Y";
var Le = class _Le extends $t {
  static extractPatternOptions(t) {
    const {
      mask: e,
      pattern: s,
      ...n
    } = t;
    return {
      ...n,
      mask: Ze2(e) ? e : s
    };
  }
  /** Pattern mask for date according to {@link MaskedDate#format} */
  /** Start date */
  /** End date */
  /** Format typed value to string */
  /** Parse string to get typed value */
  constructor(t) {
    super(_Le.extractPatternOptions({
      ..._Le.DEFAULTS,
      ...t
    }));
  }
  updateOptions(t) {
    super.updateOptions(t);
  }
  _update(t) {
    const {
      mask: e,
      pattern: s,
      blocks: n,
      ...i
    } = {
      ..._Le.DEFAULTS,
      ...t
    }, o2 = Object.assign({}, _Le.GET_DEFAULT_BLOCKS());
    t.min && (o2.Y.from = t.min.getFullYear()), t.max && (o2.Y.to = t.max.getFullYear()), t.min && t.max && o2.Y.from === o2.Y.to && (o2.m.from = t.min.getMonth() + 1, o2.m.to = t.max.getMonth() + 1, o2.m.from === o2.m.to && (o2.d.from = t.min.getDate(), o2.d.to = t.max.getDate())), Object.assign(o2, this.blocks, n), super._update({
      ...i,
      mask: Ze2(e) ? e : s,
      blocks: o2
    });
  }
  doValidate(t) {
    const e = this.date;
    return super.doValidate(t) && (!this.isComplete || this.isDateExist(this.value) && e != null && (this.min == null || this.min <= e) && (this.max == null || e <= this.max));
  }
  /** Checks if date is exists */
  isDateExist(t) {
    return this.format(this.parse(t, this), this).indexOf(t) >= 0;
  }
  /** Parsed Date */
  get date() {
    return this.typedValue;
  }
  set date(t) {
    this.typedValue = t;
  }
  get typedValue() {
    return this.isComplete ? super.typedValue : null;
  }
  set typedValue(t) {
    super.typedValue = t;
  }
  maskEquals(t) {
    return t === Date || super.maskEquals(t);
  }
  optionsIsChanged(t) {
    return super.optionsIsChanged(_Le.extractPatternOptions(t));
  }
};
Le.GET_DEFAULT_BLOCKS = () => ({
  d: {
    mask: $n,
    from: 1,
    to: 31,
    maxLength: 2
  },
  m: {
    mask: $n,
    from: 1,
    to: 12,
    maxLength: 2
  },
  Y: {
    mask: $n,
    from: 1900,
    to: 9999
  }
});
Le.DEFAULTS = {
  ...$t.DEFAULTS,
  mask: Date,
  pattern: Lx,
  format: (r2, t) => {
    if (!r2) return "";
    const e = String(r2.getDate()).padStart(2, "0"), s = String(r2.getMonth() + 1).padStart(2, "0"), n = r2.getFullYear();
    return [e, s, n].join(".");
  },
  parse: (r2, t) => {
    const [e, s, n] = r2.split(".").map(Number);
    return new Date(n, s - 1, e);
  }
};
ot.MaskedDate = Le;
var Ci = class _Ci extends Ut {
  constructor(t) {
    super({
      ..._Ci.DEFAULTS,
      ...t
    }), this.currentMask = void 0;
  }
  updateOptions(t) {
    super.updateOptions(t);
  }
  _update(t) {
    super._update(t), "mask" in t && (this.exposeMask = void 0, this.compiledMasks = Array.isArray(t.mask) ? t.mask.map((e) => {
      const {
        expose: s,
        ...n
      } = $s(e), i = Me({
        overwrite: this._overwrite,
        eager: this._eager,
        skipInvalid: this._skipInvalid,
        ...n
      });
      return s && (this.exposeMask = i), i;
    }) : []);
  }
  _appendCharRaw(t, e) {
    e === void 0 && (e = {});
    const s = this._applyDispatch(t, e);
    return this.currentMask && s.aggregate(this.currentMask._appendChar(t, this.currentMaskFlags(e))), s;
  }
  _applyDispatch(t, e, s) {
    t === void 0 && (t = ""), e === void 0 && (e = {}), s === void 0 && (s = "");
    const n = e.tail && e._beforeTailState != null ? e._beforeTailState._value : this.value, i = this.rawInputValue, o2 = e.tail && e._beforeTailState != null ? e._beforeTailState._rawInputValue : i, a = i.slice(o2.length), l = this.currentMask, c = new dt(), d2 = l == null ? void 0 : l.state;
    return this.currentMask = this.doDispatch(t, {
      ...e
    }, s), this.currentMask && (this.currentMask !== l ? (this.currentMask.reset(), o2 && (this.currentMask.append(o2, {
      raw: true
    }), c.tailShift = this.currentMask.value.length - n.length), a && (c.tailShift += this.currentMask.append(a, {
      raw: true,
      tail: true
    }).tailShift)) : d2 && (this.currentMask.state = d2)), c;
  }
  _appendPlaceholder() {
    const t = this._applyDispatch();
    return this.currentMask && t.aggregate(this.currentMask._appendPlaceholder()), t;
  }
  _appendEager() {
    const t = this._applyDispatch();
    return this.currentMask && t.aggregate(this.currentMask._appendEager()), t;
  }
  appendTail(t) {
    const e = new dt();
    return t && e.aggregate(this._applyDispatch("", {}, t)), e.aggregate(this.currentMask ? this.currentMask.appendTail(t) : super.appendTail(t));
  }
  currentMaskFlags(t) {
    var e, s;
    return {
      ...t,
      _beforeTailState: ((e = t._beforeTailState) == null ? void 0 : e.currentMaskRef) === this.currentMask && ((s = t._beforeTailState) == null ? void 0 : s.currentMask) || t._beforeTailState
    };
  }
  doDispatch(t, e, s) {
    return e === void 0 && (e = {}), s === void 0 && (s = ""), this.dispatch(t, this, e, s);
  }
  doValidate(t) {
    return super.doValidate(t) && (!this.currentMask || this.currentMask.doValidate(this.currentMaskFlags(t)));
  }
  doPrepare(t, e) {
    e === void 0 && (e = {});
    let [s, n] = super.doPrepare(t, e);
    if (this.currentMask) {
      let i;
      [s, i] = super.doPrepare(s, this.currentMaskFlags(e)), n = n.aggregate(i);
    }
    return [s, n];
  }
  doPrepareChar(t, e) {
    e === void 0 && (e = {});
    let [s, n] = super.doPrepareChar(t, e);
    if (this.currentMask) {
      let i;
      [s, i] = super.doPrepareChar(s, this.currentMaskFlags(e)), n = n.aggregate(i);
    }
    return [s, n];
  }
  reset() {
    var t;
    (t = this.currentMask) == null || t.reset(), this.compiledMasks.forEach((e) => e.reset());
  }
  get value() {
    return this.exposeMask ? this.exposeMask.value : this.currentMask ? this.currentMask.value : "";
  }
  set value(t) {
    this.exposeMask ? (this.exposeMask.value = t, this.currentMask = this.exposeMask, this._applyDispatch()) : super.value = t;
  }
  get unmaskedValue() {
    return this.exposeMask ? this.exposeMask.unmaskedValue : this.currentMask ? this.currentMask.unmaskedValue : "";
  }
  set unmaskedValue(t) {
    this.exposeMask ? (this.exposeMask.unmaskedValue = t, this.currentMask = this.exposeMask, this._applyDispatch()) : super.unmaskedValue = t;
  }
  get typedValue() {
    return this.exposeMask ? this.exposeMask.typedValue : this.currentMask ? this.currentMask.typedValue : "";
  }
  set typedValue(t) {
    if (this.exposeMask) {
      this.exposeMask.typedValue = t, this.currentMask = this.exposeMask, this._applyDispatch();
      return;
    }
    let e = String(t);
    this.currentMask && (this.currentMask.typedValue = t, e = this.currentMask.unmaskedValue), this.unmaskedValue = e;
  }
  get displayValue() {
    return this.currentMask ? this.currentMask.displayValue : "";
  }
  get isComplete() {
    var t;
    return !!((t = this.currentMask) != null && t.isComplete);
  }
  get isFilled() {
    var t;
    return !!((t = this.currentMask) != null && t.isFilled);
  }
  remove(t, e) {
    const s = new dt();
    return this.currentMask && s.aggregate(this.currentMask.remove(t, e)).aggregate(this._applyDispatch()), s;
  }
  get state() {
    var t;
    return {
      ...super.state,
      _rawInputValue: this.rawInputValue,
      compiledMasks: this.compiledMasks.map((e) => e.state),
      currentMaskRef: this.currentMask,
      currentMask: (t = this.currentMask) == null ? void 0 : t.state
    };
  }
  set state(t) {
    const {
      compiledMasks: e,
      currentMaskRef: s,
      currentMask: n,
      ...i
    } = t;
    e && this.compiledMasks.forEach((o2, a) => o2.state = e[a]), s != null && (this.currentMask = s, this.currentMask.state = n), super.state = i;
  }
  extractInput(t, e, s) {
    return this.currentMask ? this.currentMask.extractInput(t, e, s) : "";
  }
  extractTail(t, e) {
    return this.currentMask ? this.currentMask.extractTail(t, e) : super.extractTail(t, e);
  }
  doCommit() {
    this.currentMask && this.currentMask.doCommit(), super.doCommit();
  }
  nearestInputPos(t, e) {
    return this.currentMask ? this.currentMask.nearestInputPos(t, e) : super.nearestInputPos(t, e);
  }
  get overwrite() {
    return this.currentMask ? this.currentMask.overwrite : this._overwrite;
  }
  set overwrite(t) {
    this._overwrite = t;
  }
  get eager() {
    return this.currentMask ? this.currentMask.eager : this._eager;
  }
  set eager(t) {
    this._eager = t;
  }
  get skipInvalid() {
    return this.currentMask ? this.currentMask.skipInvalid : this._skipInvalid;
  }
  set skipInvalid(t) {
    this._skipInvalid = t;
  }
  get autofix() {
    return this.currentMask ? this.currentMask.autofix : this._autofix;
  }
  set autofix(t) {
    this._autofix = t;
  }
  maskEquals(t) {
    return Array.isArray(t) ? this.compiledMasks.every((e, s) => {
      if (!t[s]) return;
      const {
        mask: n,
        ...i
      } = t[s];
      return Jn(e, i) && e.maskEquals(n);
    }) : super.maskEquals(t);
  }
  typedValueEquals(t) {
    var e;
    return !!((e = this.currentMask) != null && e.typedValueEquals(t));
  }
};
Ci.DEFAULTS = {
  ...Ut.DEFAULTS,
  dispatch: (r2, t, e, s) => {
    if (!t.compiledMasks.length) return;
    const n = t.rawInputValue, i = t.compiledMasks.map((o2, a) => {
      const l = t.currentMask === o2, c = l ? o2.displayValue.length : o2.nearestInputPos(o2.displayValue.length, nt.FORCE_LEFT);
      return o2.rawInputValue !== n ? (o2.reset(), o2.append(n, {
        raw: true
      })) : l || o2.remove(c), o2.append(r2, t.currentMaskFlags(e)), o2.appendTail(s), {
        index: a,
        weight: o2.rawInputValue.length,
        totalInputPositions: o2.totalInputPositions(0, Math.max(c, o2.nearestInputPos(o2.displayValue.length, nt.FORCE_LEFT)))
      };
    });
    return i.sort((o2, a) => a.weight - o2.weight || a.totalInputPositions - o2.totalInputPositions), t.compiledMasks[i[0].index];
  }
};
ot.MaskedDynamic = Ci;
var Oi = class _Oi extends $t {
  constructor(t) {
    super({
      ..._Oi.DEFAULTS,
      ...t
    });
  }
  updateOptions(t) {
    super.updateOptions(t);
  }
  _update(t) {
    const {
      enum: e,
      ...s
    } = t;
    if (e) {
      const n = e.map((a) => a.length), i = Math.min(...n), o2 = Math.max(...n) - i;
      s.mask = "*".repeat(i), o2 && (s.mask += "[" + "*".repeat(o2) + "]"), this.enum = e;
    }
    super._update(s);
  }
  _appendCharRaw(t, e) {
    e === void 0 && (e = {});
    const s = Math.min(this.nearestInputPos(0, nt.FORCE_RIGHT), this.value.length), n = this.enum.filter((i) => this.matchValue(i, this.unmaskedValue + t, s));
    if (n.length) {
      n.length === 1 && this._forEachBlocksInRange(0, this.value.length, (o2, a) => {
        const l = n[0][a];
        a >= this.value.length || l === o2.value || (o2.reset(), o2._appendChar(l, e));
      });
      const i = super._appendCharRaw(n[0][this.value.length], e);
      return n.length === 1 && n[0].slice(this.unmaskedValue.length).split("").forEach((o2) => i.aggregate(super._appendCharRaw(o2))), i;
    }
    return new dt({
      skip: !this.isComplete
    });
  }
  extractTail(t, e) {
    return t === void 0 && (t = 0), e === void 0 && (e = this.displayValue.length), new ye2("", t);
  }
  remove(t, e) {
    if (t === void 0 && (t = 0), e === void 0 && (e = this.displayValue.length), t === e) return new dt();
    const s = Math.min(super.nearestInputPos(0, nt.FORCE_RIGHT), this.value.length);
    let n;
    for (n = t; n >= 0 && !(this.enum.filter((o2) => this.matchValue(o2, this.value.slice(s, n), s)).length > 1); --n)
      ;
    const i = super.remove(n, e);
    return i.tailShift += n - t, i;
  }
  get isComplete() {
    return this.enum.indexOf(this.value) >= 0;
  }
};
Oi.DEFAULTS = {
  ...$t.DEFAULTS,
  matchValue: (r2, t, e) => r2.indexOf(t, e) === e
};
ot.MaskedEnum = Oi;
var Ix = class extends Ut {
  /** */
  /** Enable characters overwriting */
  /** */
  /** */
  /** */
  updateOptions(t) {
    super.updateOptions(t);
  }
  _update(t) {
    super._update({
      ...t,
      validate: t.mask
    });
  }
};
ot.MaskedFunction = Ix;
var cp;
var Zt = class _Zt extends Ut {
  /** Single char */
  /** Single char */
  /** Array of single chars */
  /** */
  /** */
  /** Digits after point */
  /** Flag to remove leading and trailing zeros in the end of editing */
  /** Flag to pad trailing zeros after point in the end of editing */
  /** Enable characters overwriting */
  /** */
  /** */
  /** */
  /** Format typed value to string */
  /** Parse string to get typed value */
  constructor(t) {
    super({
      ..._Zt.DEFAULTS,
      ...t
    });
  }
  updateOptions(t) {
    super.updateOptions(t);
  }
  _update(t) {
    super._update(t), this._updateRegExps();
  }
  _updateRegExps() {
    const t = "^" + (this.allowNegative ? "[+|\\-]?" : ""), e = "\\d*", s = (this.scale ? "(" + Bo(this.radix) + "\\d{0," + this.scale + "})?" : "") + "$";
    this._numberRegExp = new RegExp(t + e + s), this._mapToRadixRegExp = new RegExp("[" + this.mapToRadix.map(Bo).join("") + "]", "g"), this._thousandsSeparatorRegExp = new RegExp(Bo(this.thousandsSeparator), "g");
  }
  _removeThousandsSeparators(t) {
    return t.replace(this._thousandsSeparatorRegExp, "");
  }
  _insertThousandsSeparators(t) {
    const e = t.split(this.radix);
    return e[0] = e[0].replace(/\B(?=(\d{3})+(?!\d))/g, this.thousandsSeparator), e.join(this.radix);
  }
  doPrepareChar(t, e) {
    e === void 0 && (e = {});
    const [s, n] = super.doPrepareChar(this._removeThousandsSeparators(this.scale && this.mapToRadix.length && /*
      radix should be mapped when
      1) input is done from keyboard = flags.input && flags.raw
      2) unmasked value is set = !flags.input && !flags.raw
      and should not be mapped when
      1) value is set = flags.input && !flags.raw
      2) raw value is set = !flags.input && flags.raw
    */
    (e.input && e.raw || !e.input && !e.raw) ? t.replace(this._mapToRadixRegExp, this.radix) : t), e);
    return t && !s && (n.skip = true), s && !this.allowPositive && !this.value && s !== "-" && n.aggregate(this._appendChar("-")), [s, n];
  }
  _separatorsCount(t, e) {
    e === void 0 && (e = false);
    let s = 0;
    for (let n = 0; n < t; ++n)
      this._value.indexOf(this.thousandsSeparator, n) === n && (++s, e && (t += this.thousandsSeparator.length));
    return s;
  }
  _separatorsCountFromSlice(t) {
    return t === void 0 && (t = this._value), this._separatorsCount(this._removeThousandsSeparators(t).length, true);
  }
  extractInput(t, e, s) {
    return t === void 0 && (t = 0), e === void 0 && (e = this.displayValue.length), [t, e] = this._adjustRangeWithSeparators(t, e), this._removeThousandsSeparators(super.extractInput(t, e, s));
  }
  _appendCharRaw(t, e) {
    e === void 0 && (e = {});
    const s = e.tail && e._beforeTailState ? e._beforeTailState._value : this._value, n = this._separatorsCountFromSlice(s);
    this._value = this._removeThousandsSeparators(this.value);
    const i = this._value;
    this._value += t;
    const o2 = this.number;
    let a = !isNaN(o2), l = false;
    if (a) {
      let h;
      this.min != null && this.min < 0 && this.number < this.min && (h = this.min), this.max != null && this.max > 0 && this.number > this.max && (h = this.max), h != null && (this.autofix ? (this._value = this.format(h, this).replace(_Zt.UNMASKED_RADIX, this.radix), l || (l = i === this._value && !e.tail)) : a = false), a && (a = !!this._value.match(this._numberRegExp));
    }
    let c;
    a ? c = new dt({
      inserted: this._value.slice(i.length),
      rawInserted: l ? "" : t,
      skip: l
    }) : (this._value = i, c = new dt()), this._value = this._insertThousandsSeparators(this._value);
    const d2 = e.tail && e._beforeTailState ? e._beforeTailState._value : this._value, g = this._separatorsCountFromSlice(d2);
    return c.tailShift += (g - n) * this.thousandsSeparator.length, c;
  }
  _findSeparatorAround(t) {
    if (this.thousandsSeparator) {
      const e = t - this.thousandsSeparator.length + 1, s = this.value.indexOf(this.thousandsSeparator, e);
      if (s <= t) return s;
    }
    return -1;
  }
  _adjustRangeWithSeparators(t, e) {
    const s = this._findSeparatorAround(t);
    s >= 0 && (t = s);
    const n = this._findSeparatorAround(e);
    return n >= 0 && (e = n + this.thousandsSeparator.length), [t, e];
  }
  remove(t, e) {
    t === void 0 && (t = 0), e === void 0 && (e = this.displayValue.length), [t, e] = this._adjustRangeWithSeparators(t, e);
    const s = this.value.slice(0, t), n = this.value.slice(e), i = this._separatorsCount(s.length);
    this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(s + n));
    const o2 = this._separatorsCountFromSlice(s);
    return new dt({
      tailShift: (o2 - i) * this.thousandsSeparator.length
    });
  }
  nearestInputPos(t, e) {
    if (!this.thousandsSeparator) return t;
    switch (e) {
      case nt.NONE:
      case nt.LEFT:
      case nt.FORCE_LEFT: {
        const s = this._findSeparatorAround(t - 1);
        if (s >= 0) {
          const n = s + this.thousandsSeparator.length;
          if (t < n || this.value.length <= n || e === nt.FORCE_LEFT)
            return s;
        }
        break;
      }
      case nt.RIGHT:
      case nt.FORCE_RIGHT: {
        const s = this._findSeparatorAround(t);
        if (s >= 0)
          return s + this.thousandsSeparator.length;
      }
    }
    return t;
  }
  doCommit() {
    if (this.value) {
      const t = this.number;
      let e = t;
      this.min != null && (e = Math.max(e, this.min)), this.max != null && (e = Math.min(e, this.max)), e !== t && (this.unmaskedValue = this.format(e, this));
      let s = this.value;
      this.normalizeZeros && (s = this._normalizeZeros(s)), this.padFractionalZeros && this.scale > 0 && (s = this._padFractionalZeros(s)), this._value = s;
    }
    super.doCommit();
  }
  _normalizeZeros(t) {
    const e = this._removeThousandsSeparators(t).split(this.radix);
    return e[0] = e[0].replace(/^(\D*)(0*)(\d*)/, (s, n, i, o2) => n + o2), t.length && !/\d$/.test(e[0]) && (e[0] = e[0] + "0"), e.length > 1 && (e[1] = e[1].replace(/0*$/, ""), e[1].length || (e.length = 1)), this._insertThousandsSeparators(e.join(this.radix));
  }
  _padFractionalZeros(t) {
    if (!t) return t;
    const e = t.split(this.radix);
    return e.length < 2 && e.push(""), e[1] = e[1].padEnd(this.scale, "0"), e.join(this.radix);
  }
  doSkipInvalid(t, e, s) {
    e === void 0 && (e = {});
    const n = this.scale === 0 && t !== this.thousandsSeparator && (t === this.radix || t === _Zt.UNMASKED_RADIX || this.mapToRadix.includes(t));
    return super.doSkipInvalid(t, e, s) && !n;
  }
  get unmaskedValue() {
    return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, _Zt.UNMASKED_RADIX);
  }
  set unmaskedValue(t) {
    super.unmaskedValue = t;
  }
  get typedValue() {
    return this.parse(this.unmaskedValue, this);
  }
  set typedValue(t) {
    this.rawInputValue = this.format(t, this).replace(_Zt.UNMASKED_RADIX, this.radix);
  }
  /** Parsed Number */
  get number() {
    return this.typedValue;
  }
  set number(t) {
    this.typedValue = t;
  }
  get allowNegative() {
    return this.min != null && this.min < 0 || this.max != null && this.max < 0;
  }
  get allowPositive() {
    return this.min != null && this.min > 0 || this.max != null && this.max > 0;
  }
  typedValueEquals(t) {
    return (super.typedValueEquals(t) || _Zt.EMPTY_VALUES.includes(t) && _Zt.EMPTY_VALUES.includes(this.typedValue)) && !(t === 0 && this.value === "");
  }
};
cp = Zt;
Zt.UNMASKED_RADIX = ".";
Zt.EMPTY_VALUES = [...Ut.EMPTY_VALUES, 0];
Zt.DEFAULTS = {
  ...Ut.DEFAULTS,
  mask: Number,
  radix: ",",
  thousandsSeparator: "",
  mapToRadix: [cp.UNMASKED_RADIX],
  min: Number.MIN_SAFE_INTEGER,
  max: Number.MAX_SAFE_INTEGER,
  scale: 2,
  normalizeZeros: true,
  padFractionalZeros: false,
  parse: Number,
  format: (r2) => r2.toLocaleString("en-US", {
    useGrouping: false,
    maximumFractionDigits: 20
  })
};
ot.MaskedNumber = Zt;
var Ca = {
  MASKED: "value",
  UNMASKED: "unmaskedValue",
  TYPED: "typedValue"
};
function hp(r2, t, e) {
  t === void 0 && (t = Ca.MASKED), e === void 0 && (e = Ca.MASKED);
  const s = Me(r2);
  return (n) => s.runIsolated((i) => (i[t] = n, i[e]));
}
function qx(r2, t, e, s) {
  return hp(t, e, s)(r2);
}
ot.PIPE_TYPE = Ca;
ot.createPipe = hp;
ot.pipe = qx;
var jx = class extends $t {
  get repeatFrom() {
    var t;
    return (t = Array.isArray(this.repeat) ? this.repeat[0] : this.repeat === 1 / 0 ? 0 : this.repeat) != null ? t : 0;
  }
  get repeatTo() {
    var t;
    return (t = Array.isArray(this.repeat) ? this.repeat[1] : this.repeat) != null ? t : 1 / 0;
  }
  constructor(t) {
    super(t);
  }
  updateOptions(t) {
    super.updateOptions(t);
  }
  _update(t) {
    var e, s, n;
    const {
      repeat: i,
      ...o2
    } = $s(t);
    this._blockOpts = Object.assign({}, this._blockOpts, o2);
    const a = Me(this._blockOpts);
    this.repeat = (e = (s = i ?? a.repeat) != null ? s : this.repeat) != null ? e : 1 / 0, super._update({
      mask: "m".repeat(Math.max(this.repeatTo === 1 / 0 && ((n = this._blocks) == null ? void 0 : n.length) || 0, this.repeatFrom)),
      blocks: {
        m: a
      },
      eager: a.eager,
      overwrite: a.overwrite,
      skipInvalid: a.skipInvalid,
      lazy: a.lazy,
      placeholderChar: a.placeholderChar,
      displayChar: a.displayChar
    });
  }
  _allocateBlock(t) {
    if (t < this._blocks.length) return this._blocks[t];
    if (this.repeatTo === 1 / 0 || this._blocks.length < this.repeatTo)
      return this._blocks.push(Me(this._blockOpts)), this.mask += "m", this._blocks[this._blocks.length - 1];
  }
  _appendCharRaw(t, e) {
    e === void 0 && (e = {});
    const s = new dt();
    for (
      let l = (n = (i = this._mapPosToBlock(this.displayValue.length)) == null ? void 0 : i.index) != null ? n : Math.max(this._blocks.length - 1, 0), c, d2;
      // try to get a block or
      // try to allocate a new block if not allocated already
      c = (o2 = this._blocks[l]) != null ? o2 : d2 = !d2 && this._allocateBlock(l);
      ++l
    ) {
      var n, i, o2, a;
      const g = c._appendChar(t, {
        ...e,
        _beforeTailState: (a = e._beforeTailState) == null || (a = a._blocks) == null ? void 0 : a[l]
      });
      if (g.skip && d2) {
        this._blocks.pop(), this.mask = this.mask.slice(1);
        break;
      }
      if (s.aggregate(g), g.consumed) break;
    }
    return s;
  }
  _trimEmptyTail(t, e) {
    var s, n;
    t === void 0 && (t = 0);
    const i = Math.max(((s = this._mapPosToBlock(t)) == null ? void 0 : s.index) || 0, this.repeatFrom, 0);
    let o2;
    e != null && (o2 = (n = this._mapPosToBlock(e)) == null ? void 0 : n.index), o2 == null && (o2 = this._blocks.length - 1);
    let a = 0;
    for (let l = o2; i <= l && !this._blocks[l].unmaskedValue; --l, ++a)
      ;
    a && (this._blocks.splice(o2 - a + 1, a), this.mask = this.mask.slice(a));
  }
  reset() {
    super.reset(), this._trimEmptyTail();
  }
  remove(t, e) {
    t === void 0 && (t = 0), e === void 0 && (e = this.displayValue.length);
    const s = super.remove(t, e);
    return this._trimEmptyTail(t, e), s;
  }
  totalInputPositions(t, e) {
    return t === void 0 && (t = 0), e == null && this.repeatTo === 1 / 0 ? 1 / 0 : super.totalInputPositions(t, e);
  }
  get state() {
    return super.state;
  }
  set state(t) {
    this._blocks.length = t._blocks.length, this.mask = this.mask.slice(0, this._blocks.length), super.state = t;
  }
};
ot.RepeatBlock = jx;
try {
  globalThis.IMask = ot;
} catch {
}
var On = { exports: {} };
var Do = { exports: {} };
var kt = {};
var Hu;
function Bx() {
  return Hu || (Hu = 1, function() {
    var r2 = typeof Symbol == "function" && Symbol.for, t = r2 ? Symbol.for("react.element") : 60103, e = r2 ? Symbol.for("react.portal") : 60106, s = r2 ? Symbol.for("react.fragment") : 60107, n = r2 ? Symbol.for("react.strict_mode") : 60108, i = r2 ? Symbol.for("react.profiler") : 60114, o2 = r2 ? Symbol.for("react.provider") : 60109, a = r2 ? Symbol.for("react.context") : 60110, l = r2 ? Symbol.for("react.async_mode") : 60111, c = r2 ? Symbol.for("react.concurrent_mode") : 60111, d2 = r2 ? Symbol.for("react.forward_ref") : 60112, g = r2 ? Symbol.for("react.suspense") : 60113, h = r2 ? Symbol.for("react.suspense_list") : 60120, f = r2 ? Symbol.for("react.memo") : 60115, v = r2 ? Symbol.for("react.lazy") : 60116, m = r2 ? Symbol.for("react.block") : 60121, k = r2 ? Symbol.for("react.fundamental") : 60117, _ = r2 ? Symbol.for("react.responder") : 60118, E = r2 ? Symbol.for("react.scope") : 60119;
    function N(T) {
      return typeof T == "string" || typeof T == "function" || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
      T === s || T === c || T === i || T === n || T === g || T === h || typeof T == "object" && T !== null && (T.$$typeof === v || T.$$typeof === f || T.$$typeof === o2 || T.$$typeof === a || T.$$typeof === d2 || T.$$typeof === k || T.$$typeof === _ || T.$$typeof === E || T.$$typeof === m);
    }
    function q2(T) {
      if (typeof T == "object" && T !== null) {
        var at = T.$$typeof;
        switch (at) {
          case t:
            var yt = T.type;
            switch (yt) {
              case l:
              case c:
              case s:
              case i:
              case n:
              case g:
                return yt;
              default:
                var At = yt && yt.$$typeof;
                switch (At) {
                  case a:
                  case d2:
                  case v:
                  case f:
                  case o2:
                    return At;
                  default:
                    return at;
                }
            }
          case e:
            return at;
        }
      }
    }
    var A2 = l, X = c, G = a, ct = o2, mt = t, xt = d2, b = s, M = v, x = f, $ = e, P = i, S2 = n, B = g, W2 = false;
    function Z(T) {
      return W2 || (W2 = true, console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")), w2(T) || q2(T) === l;
    }
    function w2(T) {
      return q2(T) === c;
    }
    function L(T) {
      return q2(T) === a;
    }
    function V(T) {
      return q2(T) === o2;
    }
    function K(T) {
      return typeof T == "object" && T !== null && T.$$typeof === t;
    }
    function z(T) {
      return q2(T) === d2;
    }
    function U(T) {
      return q2(T) === s;
    }
    function Y(T) {
      return q2(T) === v;
    }
    function j(T) {
      return q2(T) === f;
    }
    function D(T) {
      return q2(T) === e;
    }
    function H2(T) {
      return q2(T) === i;
    }
    function F(T) {
      return q2(T) === n;
    }
    function J2(T) {
      return q2(T) === g;
    }
    kt.AsyncMode = A2, kt.ConcurrentMode = X, kt.ContextConsumer = G, kt.ContextProvider = ct, kt.Element = mt, kt.ForwardRef = xt, kt.Fragment = b, kt.Lazy = M, kt.Memo = x, kt.Portal = $, kt.Profiler = P, kt.StrictMode = S2, kt.Suspense = B, kt.isAsyncMode = Z, kt.isConcurrentMode = w2, kt.isContextConsumer = L, kt.isContextProvider = V, kt.isElement = K, kt.isForwardRef = z, kt.isFragment = U, kt.isLazy = Y, kt.isMemo = j, kt.isPortal = D, kt.isProfiler = H2, kt.isStrictMode = F, kt.isSuspense = J2, kt.isValidElementType = N, kt.typeOf = q2;
  }()), kt;
}
var Ku;
function dp() {
  return Ku || (Ku = 1, false ? Do.exports = Mx() : Do.exports = Bx()), Do.exports;
}
var Fo;
var Gu;
function Dx() {
  if (Gu) return Fo;
  Gu = 1;
  var r2 = Object.getOwnPropertySymbols, t = Object.prototype.hasOwnProperty, e = Object.prototype.propertyIsEnumerable;
  function s(i) {
    if (i == null)
      throw new TypeError("Object.assign cannot be called with null or undefined");
    return Object(i);
  }
  function n() {
    try {
      if (!Object.assign)
        return false;
      var i = new String("abc");
      if (i[5] = "de", Object.getOwnPropertyNames(i)[0] === "5")
        return false;
      for (var o2 = {}, a = 0; a < 10; a++)
        o2["_" + String.fromCharCode(a)] = a;
      var l = Object.getOwnPropertyNames(o2).map(function(d2) {
        return o2[d2];
      });
      if (l.join("") !== "0123456789")
        return false;
      var c = {};
      return "abcdefghijklmnopqrst".split("").forEach(function(d2) {
        c[d2] = d2;
      }), Object.keys(Object.assign({}, c)).join("") === "abcdefghijklmnopqrst";
    } catch {
      return false;
    }
  }
  return Fo = n() ? Object.assign : function(i, o2) {
    for (var a, l = s(i), c, d2 = 1; d2 < arguments.length; d2++) {
      a = Object(arguments[d2]);
      for (var g in a)
        t.call(a, g) && (l[g] = a[g]);
      if (r2) {
        c = r2(a);
        for (var h = 0; h < c.length; h++)
          e.call(a, c[h]) && (l[c[h]] = a[c[h]]);
      }
    }
    return l;
  }, Fo;
}
var Po;
var Wu;
function cl() {
  if (Wu) return Po;
  Wu = 1;
  var r2 = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
  return Po = r2, Po;
}
var Zu;
var Xu;
function pp() {
  return Xu || (Xu = 1, Zu = Function.call.bind(Object.prototype.hasOwnProperty)), Zu;
}
var Vo;
var Yu;
function Fx() {
  if (Yu) return Vo;
  Yu = 1;
  var r2 = function() {
  };
  if (true) {
    var t = cl(), e = {}, s = pp();
    r2 = function(i) {
      var o2 = "Warning: " + i;
      typeof console < "u" && console.error(o2);
      try {
        throw new Error(o2);
      } catch {
      }
    };
  }
  function n(i, o2, a, l, c) {
    if (true) {
      for (var d2 in i)
        if (s(i, d2)) {
          var g;
          try {
            if (typeof i[d2] != "function") {
              var h = Error(
                (l || "React class") + ": " + a + " type `" + d2 + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof i[d2] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`."
              );
              throw h.name = "Invariant Violation", h;
            }
            g = i[d2](o2, d2, l, a, null, t);
          } catch (v) {
            g = v;
          }
          if (g && !(g instanceof Error) && r2(
            (l || "React class") + ": type specification of " + a + " `" + d2 + "` is invalid; the type checker function must return `null` or an `Error` but returned a " + typeof g + ". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."
          ), g instanceof Error && !(g.message in e)) {
            e[g.message] = true;
            var f = c ? c() : "";
            r2(
              "Failed " + a + " type: " + g.message + (f ?? "")
            );
          }
        }
    }
  }
  return n.resetWarningCache = function() {
    e = {};
  }, Vo = n, Vo;
}
var Uo;
var Ju;
function Px() {
  if (Ju) return Uo;
  Ju = 1;
  var r2 = dp(), t = Dx(), e = cl(), s = pp(), n = Fx(), i = function() {
  };
  i = function(a) {
    var l = "Warning: " + a;
    typeof console < "u" && console.error(l);
    try {
      throw new Error(l);
    } catch {
    }
  };
  function o2() {
    return null;
  }
  return Uo = function(a, l) {
    var c = typeof Symbol == "function" && Symbol.iterator, d2 = "@@iterator";
    function g(w2) {
      var L = w2 && (c && w2[c] || w2[d2]);
      if (typeof L == "function")
        return L;
    }
    var h = "<<anonymous>>", f = {
      array: _("array"),
      bigint: _("bigint"),
      bool: _("boolean"),
      func: _("function"),
      number: _("number"),
      object: _("object"),
      string: _("string"),
      symbol: _("symbol"),
      any: E(),
      arrayOf: N,
      element: q2(),
      elementType: A2(),
      instanceOf: X,
      node: xt(),
      objectOf: ct,
      oneOf: G,
      oneOfType: mt,
      shape: M,
      exact: x
    };
    function v(w2, L) {
      return w2 === L ? w2 !== 0 || 1 / w2 === 1 / L : w2 !== w2 && L !== L;
    }
    function m(w2, L) {
      this.message = w2, this.data = L && typeof L == "object" ? L : {}, this.stack = "";
    }
    m.prototype = Error.prototype;
    function k(w2) {
      if (true)
        var L = {}, V = 0;
      function K(U, Y, j, D, H2, F, J2) {
        if (D = D || h, F = F || j, J2 !== e) {
          if (l) {
            var T = new Error(
              "Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"
            );
            throw T.name = "Invariant Violation", T;
          } else if (typeof console < "u") {
            var at = D + ":" + j;
            !L[at] && // Avoid spamming the console because they are often not actionable except for lib authors
            V < 3 && (i(
              "You are manually calling a React.PropTypes validation function for the `" + F + "` prop on `" + D + "`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."
            ), L[at] = true, V++);
          }
        }
        return Y[j] == null ? U ? Y[j] === null ? new m("The " + H2 + " `" + F + "` is marked as required " + ("in `" + D + "`, but its value is `null`.")) : new m("The " + H2 + " `" + F + "` is marked as required in " + ("`" + D + "`, but its value is `undefined`.")) : null : w2(Y, j, D, H2, F);
      }
      var z = K.bind(null, false);
      return z.isRequired = K.bind(null, true), z;
    }
    function _(w2) {
      function L(V, K, z, U, Y, j) {
        var D = V[K], H2 = S2(D);
        if (H2 !== w2) {
          var F = B(D);
          return new m(
            "Invalid " + U + " `" + Y + "` of type " + ("`" + F + "` supplied to `" + z + "`, expected ") + ("`" + w2 + "`."),
            { expectedType: w2 }
          );
        }
        return null;
      }
      return k(L);
    }
    function E() {
      return k(o2);
    }
    function N(w2) {
      function L(V, K, z, U, Y) {
        if (typeof w2 != "function")
          return new m("Property `" + Y + "` of component `" + z + "` has invalid PropType notation inside arrayOf.");
        var j = V[K];
        if (!Array.isArray(j)) {
          var D = S2(j);
          return new m("Invalid " + U + " `" + Y + "` of type " + ("`" + D + "` supplied to `" + z + "`, expected an array."));
        }
        for (var H2 = 0; H2 < j.length; H2++) {
          var F = w2(j, H2, z, U, Y + "[" + H2 + "]", e);
          if (F instanceof Error)
            return F;
        }
        return null;
      }
      return k(L);
    }
    function q2() {
      function w2(L, V, K, z, U) {
        var Y = L[V];
        if (!a(Y)) {
          var j = S2(Y);
          return new m("Invalid " + z + " `" + U + "` of type " + ("`" + j + "` supplied to `" + K + "`, expected a single ReactElement."));
        }
        return null;
      }
      return k(w2);
    }
    function A2() {
      function w2(L, V, K, z, U) {
        var Y = L[V];
        if (!r2.isValidElementType(Y)) {
          var j = S2(Y);
          return new m("Invalid " + z + " `" + U + "` of type " + ("`" + j + "` supplied to `" + K + "`, expected a single ReactElement type."));
        }
        return null;
      }
      return k(w2);
    }
    function X(w2) {
      function L(V, K, z, U, Y) {
        if (!(V[K] instanceof w2)) {
          var j = w2.name || h, D = Z(V[K]);
          return new m("Invalid " + U + " `" + Y + "` of type " + ("`" + D + "` supplied to `" + z + "`, expected ") + ("instance of `" + j + "`."));
        }
        return null;
      }
      return k(L);
    }
    function G(w2) {
      if (!Array.isArray(w2))
        return arguments.length > 1 ? i(
          "Invalid arguments supplied to oneOf, expected an array, got " + arguments.length + " arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."
        ) : i("Invalid argument supplied to oneOf, expected an array."), o2;
      function L(V, K, z, U, Y) {
        for (var j = V[K], D = 0; D < w2.length; D++)
          if (v(j, w2[D]))
            return null;
        var H2 = JSON.stringify(w2, function(F, J2) {
          var T = B(J2);
          return T === "symbol" ? String(J2) : J2;
        });
        return new m("Invalid " + U + " `" + Y + "` of value `" + String(j) + "` " + ("supplied to `" + z + "`, expected one of " + H2 + "."));
      }
      return k(L);
    }
    function ct(w2) {
      function L(V, K, z, U, Y) {
        if (typeof w2 != "function")
          return new m("Property `" + Y + "` of component `" + z + "` has invalid PropType notation inside objectOf.");
        var j = V[K], D = S2(j);
        if (D !== "object")
          return new m("Invalid " + U + " `" + Y + "` of type " + ("`" + D + "` supplied to `" + z + "`, expected an object."));
        for (var H2 in j)
          if (s(j, H2)) {
            var F = w2(j, H2, z, U, Y + "." + H2, e);
            if (F instanceof Error)
              return F;
          }
        return null;
      }
      return k(L);
    }
    function mt(w2) {
      if (!Array.isArray(w2))
        return i("Invalid argument supplied to oneOfType, expected an instance of array."), o2;
      for (var L = 0; L < w2.length; L++) {
        var V = w2[L];
        if (typeof V != "function")
          return i(
            "Invalid argument supplied to oneOfType. Expected an array of check functions, but received " + W2(V) + " at index " + L + "."
          ), o2;
      }
      function K(z, U, Y, j, D) {
        for (var H2 = [], F = 0; F < w2.length; F++) {
          var J2 = w2[F], T = J2(z, U, Y, j, D, e);
          if (T == null)
            return null;
          T.data && s(T.data, "expectedType") && H2.push(T.data.expectedType);
        }
        var at = H2.length > 0 ? ", expected one of type [" + H2.join(", ") + "]" : "";
        return new m("Invalid " + j + " `" + D + "` supplied to " + ("`" + Y + "`" + at + "."));
      }
      return k(K);
    }
    function xt() {
      function w2(L, V, K, z, U) {
        return $(L[V]) ? null : new m("Invalid " + z + " `" + U + "` supplied to " + ("`" + K + "`, expected a ReactNode."));
      }
      return k(w2);
    }
    function b(w2, L, V, K, z) {
      return new m(
        (w2 || "React class") + ": " + L + " type `" + V + "." + K + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + z + "`."
      );
    }
    function M(w2) {
      function L(V, K, z, U, Y) {
        var j = V[K], D = S2(j);
        if (D !== "object")
          return new m("Invalid " + U + " `" + Y + "` of type `" + D + "` " + ("supplied to `" + z + "`, expected `object`."));
        for (var H2 in w2) {
          var F = w2[H2];
          if (typeof F != "function")
            return b(z, U, Y, H2, B(F));
          var J2 = F(j, H2, z, U, Y + "." + H2, e);
          if (J2)
            return J2;
        }
        return null;
      }
      return k(L);
    }
    function x(w2) {
      function L(V, K, z, U, Y) {
        var j = V[K], D = S2(j);
        if (D !== "object")
          return new m("Invalid " + U + " `" + Y + "` of type `" + D + "` " + ("supplied to `" + z + "`, expected `object`."));
        var H2 = t({}, V[K], w2);
        for (var F in H2) {
          var J2 = w2[F];
          if (s(w2, F) && typeof J2 != "function")
            return b(z, U, Y, F, B(J2));
          if (!J2)
            return new m(
              "Invalid " + U + " `" + Y + "` key `" + F + "` supplied to `" + z + "`.\nBad object: " + JSON.stringify(V[K], null, "  ") + `
Valid keys: ` + JSON.stringify(Object.keys(w2), null, "  ")
            );
          var T = J2(j, F, z, U, Y + "." + F, e);
          if (T)
            return T;
        }
        return null;
      }
      return k(L);
    }
    function $(w2) {
      switch (typeof w2) {
        case "number":
        case "string":
        case "undefined":
          return true;
        case "boolean":
          return !w2;
        case "object":
          if (Array.isArray(w2))
            return w2.every($);
          if (w2 === null || a(w2))
            return true;
          var L = g(w2);
          if (L) {
            var V = L.call(w2), K;
            if (L !== w2.entries) {
              for (; !(K = V.next()).done; )
                if (!$(K.value))
                  return false;
            } else
              for (; !(K = V.next()).done; ) {
                var z = K.value;
                if (z && !$(z[1]))
                  return false;
              }
          } else
            return false;
          return true;
        default:
          return false;
      }
    }
    function P(w2, L) {
      return w2 === "symbol" ? true : L ? L["@@toStringTag"] === "Symbol" || typeof Symbol == "function" && L instanceof Symbol : false;
    }
    function S2(w2) {
      var L = typeof w2;
      return Array.isArray(w2) ? "array" : w2 instanceof RegExp ? "object" : P(L, w2) ? "symbol" : L;
    }
    function B(w2) {
      if (typeof w2 > "u" || w2 === null)
        return "" + w2;
      var L = S2(w2);
      if (L === "object") {
        if (w2 instanceof Date)
          return "date";
        if (w2 instanceof RegExp)
          return "regexp";
      }
      return L;
    }
    function W2(w2) {
      var L = B(w2);
      switch (L) {
        case "array":
        case "object":
          return "an " + L;
        case "boolean":
        case "date":
        case "regexp":
          return "a " + L;
        default:
          return L;
      }
    }
    function Z(w2) {
      return !w2.constructor || !w2.constructor.name ? h : w2.constructor.name;
    }
    return f.checkPropTypes = n, f.resetWarningCache = n.resetWarningCache, f.PropTypes = f, f;
  }, Uo;
}
var tc;
function Ux() {
  if (tc) return On.exports;
  if (tc = 1, true) {
    var r2 = dp(), t = true;
    On.exports = Px()(r2.isElement, t);
  } else
    On.exports = Vx()();
  return On.exports;
}
var $x = Ux();
var st = q1($x);
var fp = {
  // common
  mask: st.oneOfType([st.array, st.func, st.string, st.instanceOf(RegExp), st.oneOf([Date, Number, ot.Masked]), st.instanceOf(ot.Masked)]),
  value: st.any,
  unmask: st.oneOfType([st.bool, st.oneOf(["typed"])]),
  prepare: st.func,
  prepareChar: st.func,
  validate: st.func,
  commit: st.func,
  overwrite: st.oneOfType([st.bool, st.oneOf(["shift"])]),
  eager: st.oneOfType([st.bool, st.oneOf(["append", "remove"])]),
  skipInvalid: st.bool,
  // events
  onAccept: st.func,
  onComplete: st.func,
  // pattern
  placeholderChar: st.string,
  displayChar: st.string,
  lazy: st.bool,
  definitions: st.object,
  blocks: st.object,
  // enum
  enum: st.arrayOf(st.string),
  // range
  maxLength: st.number,
  from: st.number,
  to: st.number,
  // date
  pattern: st.string,
  format: st.func,
  parse: st.func,
  autofix: st.oneOfType([st.bool, st.oneOf(["pad"])]),
  // number
  radix: st.string,
  thousandsSeparator: st.string,
  mapToRadix: st.arrayOf(st.string),
  scale: st.number,
  normalizeZeros: st.bool,
  padFractionalZeros: st.bool,
  min: st.oneOfType([st.number, st.instanceOf(Date)]),
  max: st.oneOfType([st.number, st.instanceOf(Date)]),
  // dynamic
  dispatch: st.func,
  // ref
  inputRef: st.oneOfType([st.func, st.shape({
    current: st.object
  })])
};
var mp = Object.keys(fp).filter((r2) => r2 !== "value");
var zx = ["value", "unmask", "onAccept", "onComplete", "inputRef"];
var Hx = mp.filter((r2) => zx.indexOf(r2) < 0);
function Kx(r2) {
  var t;
  const e = (t = class extends import_react.default.Component {
    constructor(n) {
      super(n), this._inputRef = this._inputRef.bind(this);
    }
    componentDidMount() {
      this.props.mask && this.initMask();
    }
    componentDidUpdate() {
      const n = this.props, i = this._extractMaskOptionsFromProps(n);
      if (i.mask)
        this.maskRef ? (this.maskRef.updateOptions(i), "value" in n && n.value !== void 0 && (this.maskValue = n.value)) : this.initMask(i);
      else if (this.destroyMask(), "value" in n && n.value !== void 0) {
        var o2;
        (o2 = this.element) != null && o2.isContentEditable && this.element.tagName !== "INPUT" && this.element.tagName !== "TEXTAREA" ? this.element.textContent = n.value : this.element.value = n.value;
      }
    }
    componentWillUnmount() {
      this.destroyMask();
    }
    _inputRef(n) {
      this.element = n, this.props.inputRef && (Object.prototype.hasOwnProperty.call(this.props.inputRef, "current") ? this.props.inputRef.current = n : this.props.inputRef(n));
    }
    initMask(n) {
      n === void 0 && (n = this._extractMaskOptionsFromProps(this.props)), this.maskRef = ot(this.element, n).on("accept", this._onAccept.bind(this)).on("complete", this._onComplete.bind(this)), "value" in this.props && this.props.value !== void 0 && (this.maskValue = this.props.value);
    }
    destroyMask() {
      this.maskRef && (this.maskRef.destroy(), delete this.maskRef);
    }
    _extractMaskOptionsFromProps(n) {
      const {
        ...i
      } = n;
      return Object.keys(i).filter((o2) => Hx.indexOf(o2) < 0).forEach((o2) => {
        delete i[o2];
      }), i;
    }
    _extractNonMaskProps(n) {
      const {
        ...i
      } = n;
      return mp.forEach((o2) => {
        o2 !== "maxLength" && delete i[o2];
      }), "defaultValue" in i || (i.defaultValue = n.mask ? "" : i.value), delete i.value, i;
    }
    get maskValue() {
      return this.maskRef ? this.props.unmask === "typed" ? this.maskRef.typedValue : this.props.unmask ? this.maskRef.unmaskedValue : this.maskRef.value : "";
    }
    set maskValue(n) {
      this.maskRef && (n = n == null && this.props.unmask !== "typed" ? "" : n, this.props.unmask === "typed" ? this.maskRef.typedValue = n : this.props.unmask ? this.maskRef.unmaskedValue = n : this.maskRef.value = n);
    }
    _onAccept(n) {
      this.props.onAccept && this.maskRef && this.props.onAccept(this.maskValue, this.maskRef, n);
    }
    _onComplete(n) {
      this.props.onComplete && this.maskRef && this.props.onComplete(this.maskValue, this.maskRef, n);
    }
    render() {
      return import_react.default.createElement(r2, {
        ...this._extractNonMaskProps(this.props),
        inputRef: this._inputRef
      });
    }
  }, t.displayName = void 0, t.propTypes = void 0, t), s = r2.displayName || r2.name || "Component";
  return e.displayName = "IMask(" + s + ")", e.propTypes = fp, import_react.default.forwardRef((n, i) => import_react.default.createElement(e, {
    ...n,
    ref: i
  }));
}
var Gx = Kx((r2) => {
  let {
    inputRef: t,
    ...e
  } = r2;
  return import_react.default.createElement("input", {
    ...e,
    ref: t
  });
});
var Wx = (r2, t) => import_react.default.createElement(Gx, {
  ...r2,
  ref: t
});
var Zx = import_react.default.forwardRef(Wx);
var Xx = (0, import_react.forwardRef)(
  ({ className: r2, type: t, variant: e, ...s }, n) => S.jsx(
    Zx,
    {
      className: mo(ja({ variant: e }), r2),
      ref: n,
      ...s
    }
  )
);
Xx.displayName = "MaskInput";

export {
  tf,
  ja,
  ef,
  hm,
  Kc,
  aw,
  lw,
  ui2 as ui,
  Rm,
  Lm,
  Im,
  qm,
  jm,
  Vm,
  Um,
  hw,
  dw,
  pw,
  vg,
  Bh,
  Dh,
  bg,
  yg,
  kg,
  xg,
  Lg,
  Ig,
  _x,
  Xx
};
/*! Bundled license information:

dgz-ui-shared/dist/input-mask-IfACg7qz-KwMI6P_O.js:
  (**
   * @license lucide-react v0.511.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

dgz-ui-shared/dist/input-mask-IfACg7qz-KwMI6P_O.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

dgz-ui-shared/dist/input-mask-IfACg7qz-KwMI6P_O.js:
  (** @license React v16.13.1
   * react-is.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)
*/
//# sourceMappingURL=chunk-LPOMZQTJ.js.map

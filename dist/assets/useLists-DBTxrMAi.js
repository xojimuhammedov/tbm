import{r as u}from"./index-ADhmmBpU.js";import{l as i}from"./lodash-BI9_Ro3R.js";import{u as f,a as E}from"./useApi-BNT2PGFQ.js";import{u as A}from"./useQueryParams-Dns8Zny6.js";const M=20,S=Number.MAX_SAFE_INTEGER,L={page:1,limit:M},d=({url:s=[],queryKey:o=[],baseUrl:e,params:t={},options:r={}})=>{const{get:a}=f(s,e);return E({queryKey:[...o,...s],queryFn:({signal:n})=>a({params:t,options:{signal:n}}),retry:0,...r})},g=({url:s,baseUrl:o,params:e,queryKey:t})=>{const r=d({baseUrl:o,queryKey:t,url:s,params:{...e},options:{enabled:!1,retry:0}});return u.useEffect(()=>{!i.isEmpty(e)&&!i.isEmpty(s)&&i.debounce(r.refetch,100)()},[JSON.stringify(e),JSON.stringify(s)]),{query:r}},T=({url:s=[],queryKey:o=[],baseUrl:e,defaultParams:t,dateRangeKey:r,excludeParams:a=[]})=>{const{params:n,handleSetParams:c}=A({dateRangeKey:r,excludeParams:a}),y=u.useMemo(()=>[...s],[s]),m=u.useMemo(()=>({...L,...t,...n}),[t,n]),{query:p}=g({baseUrl:e,queryKey:o,url:y,params:m});return{query:p,params:m,handleFilter:c}};export{M as D,S as M,T as u};

import{i as E,q as S,r as a,j as e}from"./index-ADhmmBpU.js";import{P as T}from"./PageHeader-l3FtlNyv.js";import{u,c as A}from"./button-Bp2lHjov-bkEUXTzY.js";import{c as I,F as q}from"./F56Document-KH1e5gbK.js";import{u as M}from"./useLists-DBTxrMAi.js";import{u as L,F as b}from"./useF56Document-DUDGEvHE.js";import{u as P}from"./useDelete-DMNw96p5.js";import{l as w}from"./lodash-BI9_Ro3R.js";import{M as R}from"./MyModal-3lICjm9q.js";import{D as $}from"./DocumentInfo-DZJr13Om.js";import{F as z}from"./MyAccordion-x3W9CRJW.js";import{L as m}from"./ListStatisticsCard-BcOJa2-j.js";import{C as K}from"./circle-plus-CJWL5GeC.js";import"./sidebar-C0lF1Npi.js";import"./badge-DGmo3xSE-Cderfv3F.js";import"./MyTooltip-DPJtpMhP.js";import"./eye-CW1pDi29.js";import"./trash-2-B_r_Bsxl.js";import"./useApi-BNT2PGFQ.js";import"./useQueryParams-Dns8Zny6.js";import"./useGetOne-DA0KuYmv.js";import"./MutateRequestMethod-D0dsk-6r.js";import"./user-D-Egm9vv.js";const Q=()=>{var v;const{t:s}=u(),r=E(),{toast:t}=S(),[i,l]=a.useState(null),[n,d]=a.useState(!1),[F,p]=a.useState(null),{removeWithConfirm:h}=P([b]),{query:c,handleFilter:C,params:y}=M({url:[b]}),{f56DocumentQuery:D}=L(F),k=a.useCallback(()=>{r("/gras/e-231/create")},[r]),x=a.useCallback(o=>{l(o),r(`/gras/e-231/edit/${o}`)},[r]),f=a.useCallback(o=>{h(o).then(()=>{c.refetch(),t({variant:"success",title:s("Success"),description:s("F56 document successfully")})}).catch(j=>{t({variant:"destructive",title:s(`${w.get(j,"response.statusText","Error")}`),description:s(`${w.get(j,"response.data.message","An error occurred. Contact the administrator")}`)})})},[h,s,t]),g=a.useCallback(o=>{p(o),d(!0)},[]),N=a.useCallback(o=>{d(o),o||p(null)},[]),V=a.useMemo(()=>I(s,x,f,g),[f,x,g,s]);return{params:y,handleAdd:k,handleFilter:C,loading:c.isLoading,dataSource:c.data,columns:V,id:i,openView:n,currentItem:(v=D.data)==null?void 0:v.data,handleCloseView:N}},Y=({open:s,onOpenChange:r,document:t})=>{const{t:i}=u();return e.jsx(R,{open:s,onOpenChange:r,size:"8xl",className:"overflow-auto",header:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5"}),e.jsx("span",{children:(t==null?void 0:t.title)||"F-56 document"})]}),children:e.jsxs("div",{className:"flex flex-1 flex-col xl:flex-row gap-4 overflow-hidden",children:[e.jsx("div",{className:`
            flex-4/5 border rounded-lg p-2
            overflow-visible
            xl:overflow-y-auto
            xl:max-h-[80vh]
            scrollbar-thin scrollbar-thumb-gray-400 hover:scrollbar-thumb-gray-500 scrollbar-track-gray-100 scrollbar-thumb-rounded-full
          `,children:e.jsx(q,{title:t==null?void 0:t.title,document:t==null?void 0:t.documents})}),e.jsx($,{docType:i("F56"),onOpenChange:r,document:t})]})})},pe=()=>{const{t:s}=u(),{handleAdd:r,openView:t,currentItem:i,handleCloseView:l}=Q(),n=a.useMemo(()=>[{name:s("RTSI"),path:"/rtsi",isActive:!1},{name:s("F-56 document"),path:"/rtsi/f-56",isActive:!0}],[s]);return e.jsxs(e.Fragment,{children:[e.jsx(Y,{open:t,onOpenChange:l,document:i}),e.jsx(T,{className:"sticky top-0",breadcrumbs:n,children:e.jsxs(A,{size:"sm",onClick:r,children:[e.jsx(K,{}),s("Add new")]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 px-4 mt-3",children:[e.jsx(m,{title:s("Tasdiqlanganlar"),count:123}),e.jsx(m,{title:s("Ko'rib chiqilmoqda"),count:123}),e.jsx(m,{title:s("Rad etilganlar"),count:123})]})]})};export{pe as default};

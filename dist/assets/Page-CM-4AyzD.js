import{i as V,q as E,r,j as e}from"./index-ADhmmBpU.js";import{P}from"./PageHeader-l3FtlNyv.js";import{P as T}from"./PageWrapper-D7EWSq9s.js";import{u as f,c as A}from"./button-Bp2lHjov-bkEUXTzY.js";import{l as w}from"./lodash-BI9_Ro3R.js";import{H as I}from"./index.es-BKLEAvF1.js";import{c as q,F as K}from"./F56Document-KH1e5gbK.js";import{u as M}from"./useLists-DBTxrMAi.js";import{u as H,F}from"./useF56Document-DUDGEvHE.js";import{u as L}from"./useDelete-DMNw96p5.js";import{M as R}from"./MyModal-3lICjm9q.js";import{D as _}from"./DocumentInfo-DZJr13Om.js";import{F as $}from"./MyAccordion-x3W9CRJW.js";import{L as h}from"./ListStatisticsCard-BcOJa2-j.js";import{C as z}from"./circle-plus-CJWL5GeC.js";import"./sidebar-C0lF1Npi.js";import"./dropdown-menu-BPBcxHRB-EjT0ADL9-BtVDbh7T.js";import"./useQueryParams-Dns8Zny6.js";import"./createLucideIcon-B950nf2d-ChSZaRdU.js";import"./popover-HTqpqYpJ-CIljcfgV-Ob8cCMTy.js";import"./MySelect-CDOMHlry-CVNRsqeU.js";import"./badge-DGmo3xSE-Cderfv3F.js";import"./MyTooltip-DPJtpMhP.js";import"./eye-CW1pDi29.js";import"./trash-2-B_r_Bsxl.js";import"./useApi-BNT2PGFQ.js";import"./useGetOne-DA0KuYmv.js";import"./MutateRequestMethod-D0dsk-6r.js";import"./user-D-Egm9vv.js";const Q=()=>{var b;const{t:s}=f(),a=V(),{toast:t}=E(),[i,d]=r.useState(null),[u,n]=r.useState(!1),[p,c]=r.useState(null),{removeWithConfirm:m}=L([F]),{query:l,handleFilter:C,params:y}=M({url:[F]}),{f56DocumentQuery:S}=H(p),k=r.useCallback(()=>{a("/rtsi/f-56/create")},[a]),x=r.useCallback(o=>{d(o),a(`/rtsi/f-56/edit/${o}`)},[a]),g=r.useCallback(o=>{m(o).then(()=>{l.refetch(),t({variant:"success",title:s("Success"),description:s("F56 document successfully")})}).catch(v=>{t({variant:"destructive",title:s(`${w.get(v,"response.statusText","Error")}`),description:s(`${w.get(v,"response.data.message","An error occurred. Contact the administrator")}`)})})},[m,s,t]),j=r.useCallback(o=>{c(o),n(!0)},[]),D=r.useCallback(o=>{n(o),o||c(null)},[]),N=r.useMemo(()=>q(s,x,g,j),[g,x,j,s]);return{params:y,handleAdd:k,handleFilter:C,loading:l.isLoading,dataSource:l.data,columns:N,id:i,openView:u,currentItem:(b=S.data)==null?void 0:b.data,handleCloseView:D}},W=({open:s,onOpenChange:a,document:t})=>{const{t:i}=f();return e.jsx(R,{open:s,onOpenChange:a,size:"8xl",className:"overflow-auto",header:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),e.jsx("span",{children:(t==null?void 0:t.title)||"F-56 document"})]}),children:e.jsxs("div",{className:"flex flex-1 flex-col xl:flex-row gap-4 overflow-hidden",children:[e.jsx("div",{className:`
            flex-4/5 border rounded-lg p-2
            overflow-visible
            xl:overflow-y-auto
            xl:max-h-[80vh]
            scrollbar-thin scrollbar-thumb-gray-400 hover:scrollbar-thumb-gray-500 scrollbar-track-gray-100 scrollbar-thumb-rounded-full
          `,children:e.jsx(K,{title:t==null?void 0:t.title,document:t==null?void 0:t.documents})}),e.jsx(_,{docType:i("F56"),onOpenChange:a,document:t})]})})},we=()=>{const{t:s}=f(),{handleAdd:a,loading:t,dataSource:i,columns:d,params:u,handleFilter:n,openView:p,currentItem:c,handleCloseView:m}=Q(),l=r.useMemo(()=>[{name:s("RTSI"),path:"/rtsi",isActive:!1},{name:s("F-56 document"),path:"/rtsi/f-56",isActive:!0}],[s]);return e.jsxs(e.Fragment,{children:[e.jsx(W,{open:p,onOpenChange:m,document:c}),e.jsx(P,{className:"sticky top-0",breadcrumbs:l,children:e.jsxs(A,{size:"sm",onClick:a,children:[e.jsx(z,{}),s("Add new")]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 px-4 mt-3",children:[e.jsx(h,{title:s("Tasdiqlanganlar"),count:123}),e.jsx(h,{title:s("Ko'rib chiqilmoqda"),count:123}),e.jsx(h,{title:s("Rad etilganlar"),count:123})]}),e.jsx(T,{children:e.jsx(I,{tableKey:"f56-documents",hasNumbers:!0,hasSearch:!0,isStickyHeader:!0,loading:t,params:u,onParamChange:n,rowKey:"_id",dataSource:i,dataKey:"docs",columns:d})})]})};export{we as default};

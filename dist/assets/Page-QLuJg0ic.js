import{J as _,j as s,M as j,i as k,q as y,r as n}from"./index-ADhmmBpU.js";import{P as E}from"./PageHeader-l3FtlNyv.js";import{P as F}from"./PageWrapper-D7EWSq9s.js";import{u as f,c as v}from"./button-Bp2lHjov-bkEUXTzY.js";import{l as h}from"./lodash-BI9_Ro3R.js";import{H as w}from"./index.es-BKLEAvF1.js";import{F as l}from"./flows.constants-G1-csUmv.js";import{u as P}from"./useLists-DBTxrMAi.js";import{S,u as T}from"./useDelete-DMNw96p5.js";import{M as x}from"./MyTooltip-DPJtpMhP.js";import{T as b}from"./trash-2-B_r_Bsxl.js";import{C as A}from"./circle-plus-CJWL5GeC.js";import"./sidebar-C0lF1Npi.js";import"./dropdown-menu-BPBcxHRB-EjT0ADL9-BtVDbh7T.js";import"./useQueryParams-Dns8Zny6.js";import"./createLucideIcon-B950nf2d-ChSZaRdU.js";import"./popover-HTqpqYpJ-CIljcfgV-Ob8cCMTy.js";import"./MySelect-CDOMHlry-CVNRsqeU.js";import"./useApi-BNT2PGFQ.js";import"./MutateRequestMethod-D0dsk-6r.js";const I=(e,t,r)=>[{key:"code",dataIndex:"code",name:e("Code")},{key:"consumer",dataIndex:"consumer",name:e("Consumer")},{key:"speed",dataIndex:"speed",name:e("Speed")},{key:"updated_at",dataIndex:"updated_at",name:e("Updated date"),render:a=>_(a,j)},{key:"_id",dataIndex:"_id",name:e(""),render:a=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(x,{content:e("Edit"),children:s.jsx(S,{className:"size-4",onClick:()=>r(a)})}),s.jsx(x,{content:e("Delete"),children:s.jsx(b,{className:"size-4",onClick:()=>t(a)})})]})}],M=()=>{const{t:e}=f(),t=k(),{removeWithConfirm:r}=T([l]),{toast:a}=y(),{query:o,handleFilter:d,params:c}=P({url:[l]}),i=n.useCallback(m=>{r(m).then(()=>{o.refetch(),a({variant:"success",title:e("Success"),description:e("Flow removed successfully")})}).catch(p=>{a({variant:"destructive",title:e(`${h.get(p,"response.statusText","Error")}`),description:e(`${h.get(p,"response.data.message","An error occurred. Contact the administrator")}`)})})},[r,e,a,o]),g=n.useCallback(()=>{t("/flows-5_1/create")},[t]),u=n.useCallback(m=>{t(`/flows-5_1/edit/${m}`)},[t]),C=n.useMemo(()=>I(e,i,u),[e,i,u]);return{loading:o.isLoading,columns:C,dataSource:o.data,params:c,handleFilter:d,handleAdd:g}},ee=()=>{const{t:e}=f(),{loading:t,columns:r,dataSource:a,handleFilter:o,params:d,handleAdd:c}=M(),i=n.useMemo(()=>[{name:e("Flows(5_1)"),path:"/flows-5_1",isActive:!0}],[e]);return s.jsxs(s.Fragment,{children:[s.jsx(E,{className:"sticky top-0",breadcrumbs:i,children:s.jsxs(v,{size:"sm",onClick:c,children:[s.jsx(A,{}),e("Add new")]})}),s.jsx(F,{children:s.jsx(w,{tableKey:l,hasNumbers:!0,hasSearch:!0,isStickyHeader:!0,hasPagination:!0,loading:t,params:d,onParamChange:o,rowKey:"_id",dataSource:a,dataKey:"docs",columns:r})})]})};export{ee as default};
